import"./DsnmJJEf.js";import"./DRxX7t_H.js";import{d as J,e as y,a as n,p as ye,G as T,V as Se,z as Ne,o as _,k as Pe,f as m,s as r,l as o,t as re,j as e,H as Ce,w as s,a7 as Me,n as se}from"./COX-Du3q.js";import{I as U,s as Y}from"./DJJOPez5.js";import{l as B,s as L,p as oe,i as w}from"./-cW7HwuZ.js";import{d as ze,s as F}from"./B1e8pvGG.js";import{r as H,a as De,e as Ae,s as Ee,i as Ge}from"./CEeMCE7T.js";import{b as k}from"./0xdWb0YV.js";import{M as Oe,S as je}from"./jwKhP9Ft.js";import{D as I,G as Te,S as Fe}from"./D7aE_nB-.js";function oa(b,i){const u=B(i,["children","$$slots","$$events","$$legacy"]);const f=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];U(b,L({name:"globe"},()=>u,{get iconNode(){return f},children:(t,c)=>{var l=J(),g=y(l);Y(g,i,"default",{}),n(t,l)},$$slots:{default:!0}}))}function ia(b,i){const u=B(i,["children","$$slots","$$events","$$legacy"]);const f=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];U(b,L({name:"play"},()=>u,{get iconNode(){return f},children:(t,c)=>{var l=J(),g=y(l);Y(g,i,"default",{}),n(t,l)},$$slots:{default:!0}}))}function la(b,i){const u=B(i,["children","$$slots","$$events","$$legacy"]);const f=[["path",{d:"m12.5 17-.5-1-.5 1h1z"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"9",cy:"12",r:"1"}]];U(b,L({name:"skull"},()=>u,{get iconNode(){return f},children:(t,c)=>{var l=J(),g=y(l);Y(g,i,"default",{}),n(t,l)},$$slots:{default:!0}}))}var He=m('<span class="text-[9px] bg-slate-800 text-slate-400 px-1.5 py-0.5 rounded uppercase tracking-wider">Em Breve</span>'),Ie=m('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),Je=m('<button><div class="flex-1"><div class="font-bold text-sm flex items-center gap-2"> <!></div> <div class="text-[10px] opacity-60 mt-0.5"> </div></div> <!></button>'),Ue=m('<div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> Sistema de Jogo</label> <div class="grid grid-cols-1 gap-2"></div></div>'),Ye=m('<div class="text-[10px] text-emerald-400 flex items-center gap-1 bg-emerald-400/10 px-2 py-0.5 rounded-full border border-emerald-400/20"><div class="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></div> Protegida</div>'),Be=m('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 px-2 py-1 rounded-md transition-colors">Remover Senha</button>'),Le=m('<p class="text-[10px] text-red-400 mt-1">A senha será removida ao salvar.</p>'),Re=m('<p class="text-[10px] text-slate-500 mt-1">Defina uma senha para proteger o convite desta campanha.</p>'),Ve=m('<div class="space-y-4"><!> <div><label for="campaign-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Nome da Campanha</label> <input id="campaign-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: A Sombra do Feiticeiro"/></div> <div><label for="campaign-gm" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Mestre (GM)</label> <input id="campaign-gm" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/></div> <div><label for="campaign-desc" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Descrição</label> <textarea id="campaign-desc" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors resize-none" rows="3" placeholder="Uma breve descrição da sua jornada..."></textarea></div> <div><label for="campaign-pwd" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center justify-between"><div class="flex items-center gap-1"><!> Senha de Acesso (Opcional)</div> <!></label> <div class="relative"><input type="password" id="campaign-pwd" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors pr-24"/> <!></div> <!></div></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-6"><button class="flex-1 bg-slate-700 hover:bg-slate-600 text-white py-4 sm:py-3 rounded-xl font-bold transition-all active:scale-95">Cancelar</button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-4 sm:py-3 rounded-xl font-bold shadow-lg shadow-indigo-900/20 transition-all active:scale-95"> </button></div>',1);function da(b,i){ye(i,!0);let u=oe(i,"isOpen",3,!1),f=oe(i,"initialData",3,"{}"),t=T(Se({name:"",description:"",gmName:"",password:"",removePassword:!1,system:I})),c=T(!1),l=T(!1);Ne(()=>{if(u())try{const v=JSON.parse(f());_(t,{name:v.name||"",description:v.description||"",gmName:v.gmName||"",password:"",removePassword:!1,system:v.system||I},!0),_(c,!!v.passwordHash),_(l,!!v.id)}catch{_(t,{name:"",description:"",gmName:"",password:"",removePassword:!1,system:I},!0),_(c,!1),_(l,!1)}});function g(){i.onSave({...e(t)})}{let v=Ce(()=>e(l)?"Configurações da Campanha":"Nova Campanha");Oe(b,{get isOpen(){return u()},get onClose(){return i.onClose},get title(){return e(v)},maxWidth:"max-w-md",children:(ie,We)=>{var R=Ve(),S=y(R),V=o(S);{var le=a=>{var d=Ue(),E=o(d),ge=o(E);Te(ge,{size:12}),se(),s(E);var ee=r(E,2);Ae(ee,21,()=>Fe,Ge,(xe,p)=>{var h=Je();h.__click=()=>!e(p).disabled&&(e(t).system=e(p).id);var G=o(h),O=o(G),ae=o(O),_e=r(ae);{var he=x=>{var j=He();n(x,j)};w(_e,x=>{e(p).comingSoon&&x(he)})}s(O);var te=r(O,2),we=o(te,!0);s(te),s(G);var $e=r(G,2);{var ke=x=>{var j=Ie();n(x,j)};w($e,x=>{e(t).system===e(p).id&&x(ke)})}s(h),re(()=>{Ee(h,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${e(t).system===e(p).id?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"} ${e(p).disabled?"opacity-60 cursor-not-allowed":""}`),h.disabled=e(p).disabled,F(ae,`${e(p).name??""} `),F(we,e(p).description)}),n(xe,h)}),s(ee),s(d),n(a,d)};w(V,a=>{e(l)||a(le)})}var N=r(V,2),W=r(o(N),2);H(W),s(N);var P=r(N,2),q=r(o(P),2);H(q),s(P);var C=r(P,2),K=r(o(C),2);Me(K),s(C);var Q=r(C,2),M=o(Q),z=o(M),de=o(z);je(de,{size:12}),se(),s(z);var ne=r(z,2);{var ce=a=>{var d=Ye();n(a,d)};w(ne,a=>{e(c)&&a(ce)})}s(M);var D=r(M,2),$=o(D);H($);var ve=r($,2);{var pe=a=>{var d=Be();d.__click=()=>{e(t).removePassword=!0,_(c,!1)},n(a,d)};w(ve,a=>{e(c)&&a(pe)})}s(D);var me=r(D,2);{var ue=a=>{var d=Le();n(a,d)},be=a=>{var d=Re();n(a,d)};w(me,a=>{e(t).removePassword?a(ue):a(be,!1)})}s(Q),s(S);var X=r(S,2),Z=o(X);Z.__click=function(...a){i.onClose?.apply(this,a)};var A=r(Z,2);A.__click=g;var fe=o(A,!0);s(A),s(X),re(()=>{De($,"placeholder",e(c)?"Preencha para alterar...":"Deixe em branco para sem senha"),F(fe,e(l)?"Salvar":"Criar Campanha")}),k(W,()=>e(t).name,a=>e(t).name=a),k(q,()=>e(t).gmName,a=>e(t).gmName=a),k(K,()=>e(t).description,a=>e(t).description=a),k($,()=>e(t).password,a=>e(t).password=a),n(ie,R)},$$slots:{default:!0}})}Pe()}ze(["click"]);export{da as C,oa as G,ia as P,la as S};
