import"../chunks/DsnmJJEf.js";import"../chunks/BmPwc1c7.js";import{u as _e,v as D,k as v,w as Pt,j as f,z as Tt,A as m,D as Ee,B as r,y as a,x as t,F as e,t as x,n as Gt,a9 as za,V as va,aw as Mr,E as jt,as as Nr,G as Ir,L as rr,bc as Ba}from"../chunks/EigO5Itq.js";import{d as Mt,o as Aa,s as n,w as Da,g as yt,e as da}from"../chunks/CE5Oy5gg.js";import{l as Lt,s as Rt,i as w,p as Et}from"../chunks/EUrPnace.js";import{h as ya}from"../chunks/CQ8CBLkT.js";import{a as Fe,$ as Ft,e as mt,s as Re,i as Ct,r as ft,b as ka,k as jr,l as Ar,h as Dr,m as qa}from"../chunks/B3FtJd8P.js";import{a as At,s as Ue,b as Or}from"../chunks/x7t77AVd.js";import{I as Ht,s as Wt}from"../chunks/D-_OqhXn.js";import{X as mr,C as Ka,b as Ma,S as Ur,M as _r,f as Br,a as Ga,D as Gr,q as fa,A as Lr,c as sr,P as La,e as Rr}from"../chunks/C99rqAqQ.js";import{t as Je,b as bt,c as Ya,f as ha}from"../chunks/DRbEtCnn.js";import{l as xr,a as Ja,b as Fr,c as Hr}from"../chunks/BPReyIlN.js";import{d as Qt,b as ht,v as Ra,A as Wr,D as or,u as ir,w as Vr,x as qr,y as nr}from"../chunks/pbaF5S1J.js";import{f as Bt,c as gt,a as pt,e as pa,b as ga,i as Xa}from"../chunks/2Gu058ss.js";import{b as Kr,g as Pa}from"../chunks/BgtZTvHF.js";import{r as ca,C as Sa,W as wr,U as lr}from"../chunks/dHx5g1Xc.js";import{S as yr,a as Yr,b as Jr,D as ra,G as Ta,C as Xr,g as Fa}from"../chunks/pDEUQP3R.js";import{a as Zr,C as Qr,G as Za,S as Qa,L as es,b as ts,P as dr}from"../chunks/BKk7EbPa.js";import{L as as,U as Ca,S as cr,a as rs}from"../chunks/DymX1oAm.js";import{c as ss}from"../chunks/DfPBy5T0.js";import{S as os}from"../chunks/B41T8Fmh.js";import{h as is}from"../chunks/BYmFNSF7.js";import{C as ns}from"../chunks/CEAxk489.js";import{b as ls}from"../chunks/BuOUQAlr.js";function $a(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];Ht(h,Rt({name:"arrow-right"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function kr(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];Ht(h,Rt({name:"book-open"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function ds(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"m2 2 20 20"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07"}]];Ht(h,Rt({name:"cloud-off"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function cs(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}]];Ht(h,Rt({name:"cloud"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function vr(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]];Ht(h,Rt({name:"download"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function vs(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21"}]];Ht(h,Rt({name:"monitor"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function us(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}]];Ht(h,Rt({name:"palette"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function er(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];Ht(h,Rt({name:"refresh-cw"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function Ha(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]];Ht(h,Rt({name:"scroll"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}function ps(h,c){const l=Lt(c,["children","$$slots","$$events","$$legacy"]);const p=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"M12 8v4"}],["path",{d:"M12 16h.01"}]];Ht(h,Rt({name:"shield-alert"},()=>l,{get iconNode(){return p},children:(i,d)=>{var o=_e(),u=D(o);Wt(u,c,"default",{}),v(i,o)},$$slots:{default:!0}}))}var gs=f('<button class="fixed bottom-28 md:bottom-6 right-6 z-[60] bg-indigo-600 hover:bg-indigo-500 text-white h-14 px-4 rounded-full shadow-2xl shadow-indigo-900/50 flex items-center justify-center font-bold animate-pulse hover:animate-none transition-all active:scale-95 group"><!> <span class="text-sm uppercase tracking-wider max-w-0 overflow-hidden ml-0 group-hover:max-w-xs group-hover:ml-2 transition-all duration-300 md:max-w-xs md:ml-2 md:inline"> </span></button>'),fs=f("<div><!></div>"),hs=f("<div><!></div>"),bs=f('<li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">1</span> <!></li> <li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">2</span> <div><!></div></li>',1),ms=f('<li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">1</span> <div><!></div></li> <li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">2</span> <div><!></div></li>',1),_s=f('<div class="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-end sm:items-center justify-center p-4 animate-in fade-in"><div class="bg-slate-900 border border-slate-700 rounded-2xl p-6 max-w-sm w-full relative shadow-2xl mb-4 sm:mb-0 animate-in slide-in-from-bottom-10 sm:slide-in-from-bottom-0 sm:zoom-in-95"><button class="absolute top-4 right-4 text-slate-400 hover:text-white p-1"><!></button> <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2"><!> </h3> <ol class="space-y-4 text-slate-300 text-sm"><!></ol> <div class="mt-6 text-center"><button class="text-indigo-400 text-sm font-bold hover:text-indigo-300"> </button></div></div></div>'),xs=f("<!> <!>",1);function ws(h,c){Pt(c,!0);const l=()=>Ue(Ft,"$t",p),[p,i]=At();let d=Ee(null),o=Ee(!1),u=Ee(!1),b=Ee(!1),s=Ee(!1);Aa(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone){m(o,!1);return}const B=window.navigator.userAgent;m(b,/iPad|iPhone|iPod/.test(B)&&!window.MSStream,!0),m(s,/CriOS/i.test(B),!0),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(B)&&m(o,!0),window.addEventListener("beforeinstallprompt",T=>{T.preventDefault(),m(d,T,!0),m(o,!0)}),window.addEventListener("appinstalled",()=>{m(d,null),m(o,!1),m(u,!1)})});async function E(){if(r(d)){r(d).prompt();const{outcome:I}=await r(d).userChoice;I==="accepted"&&(m(d,null),m(o,!1))}else m(u,!0)}const $="inline w-3.5 h-3.5",M=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${$}"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>`,X=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${$}"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>`,V=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${$}"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>`;function L(I,B){const J=l()(I),T=`<span class="inline-flex items-center justify-center bg-slate-800 p-1 rounded mx-1 align-middle">${B}</span>`;return J.replace("{icon}",T)}var k=xs(),te=D(k);{var _=I=>{var B=gs();B.__click=E;var J=t(B);vr(J,{size:24});var T=a(J,2),C=t(T,!0);e(T),e(B),x((S,z)=>{Fe(B,"aria-label",S),n(C,z)},[()=>l()("home.install.button"),()=>l()("home.install.button")]),v(I,B)};w(te,I=>{r(o)&&I(_)})}var H=a(te,2);{var N=I=>{var B=_s(),J=t(B),T=t(J);T.__click=()=>m(u,!1);var C=t(T);mr(C,{size:20}),e(T);var S=a(T,2),z=t(S);vr(z,{size:24,class:"text-indigo-500"});var P=a(z);e(S);var ae=a(S,2),fe=t(ae);{var ie=U=>{var R=bs(),xe=D(R),Be=a(t(xe),2);{var ke=le=>{var W=fs(),Q=t(W);ya(Q,()=>L("home.install.ios_chrome_step1",M)),e(W),v(le,W)},G=le=>{var W=hs(),Q=t(W);ya(Q,()=>L("home.install.ios_step1",M)),e(W),v(le,W)};w(Be,le=>{r(s)?le(ke):le(G,!1)})}e(xe);var F=a(xe,2),re=a(t(F),2),qe=t(re);ya(qe,()=>L("home.install.ios_step2",X)),e(re),e(F),v(U,R)},he=U=>{var R=ms(),xe=D(R),Be=a(t(xe),2),ke=t(Be);ya(ke,()=>L("home.install.android_step1",V)),e(Be),e(xe);var G=a(xe,2),F=a(t(G),2),re=t(F);ya(re,()=>l()("home.install.android_step2")),e(F),e(G),v(U,R)};w(fe,U=>{r(b)?U(ie):U(he,!1)})}e(ae);var ne=a(ae,2),Pe=t(ne);Pe.__click=()=>m(u,!1);var q=t(Pe,!0);e(Pe),e(ne),e(J),e(B),x((U,R)=>{n(P,` ${U??""}`),n(q,R)},[()=>l()("home.install.title"),()=>l()("home.install.close")]),v(I,B)};w(H,I=>{r(u)&&I(N)})}v(h,k),Tt(),i()}Mt(["click"]);var ys=f('<div class="absolute top-4 right-4 bg-black/50 p-2 rounded-full backdrop-blur-sm border border-white/10"><!></div>'),ks=f('<div class="absolute top-4 right-4 bg-indigo-500 p-2 rounded-full shadow-lg shadow-indigo-500/40 animate-in zoom-in duration-200"><!></div>'),$s=f('<div><div class="absolute inset-0 bg-slate-900"><img/> <div class="absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent"></div></div> <div class="relative p-6 h-full flex flex-col justify-end min-h-[200px]"><!> <!> <div><h3 class="text-xl font-black text-white uppercase leading-tight mb-2 group-hover:text-indigo-400 transition-colors"> </h3> <p class="text-xs text-slate-400 font-medium leading-relaxed max-w-[90%]"> </p></div></div> <div class="absolute inset-0 bg-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div></div>'),Ss=f('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>');function $r(h,c){Pt(c,!0);const l=()=>Ue(Ft,"$t",p),[p,i]=At(),d={sofdl:ca("/artworks/books/sofdl-core.webp"),sofww:ca("/artworks/books/sofww-core.webp"),dle:ca("/artworks/books/dle-core.webp")},o={dle:"object-[center_75%]",sofww:"object-center",sofdl:"object-center"};function u(E){return d[E]||""}function b(E){return o[E]||"object-center"}var s=Ss();mt(s,21,()=>yr,Ct,(E,$)=>{var M=$s();M.__click=()=>!r($).disabled&&c.onSelect(r($).id);var X=t(M),V=t(X);Gt(2),e(X);var L=a(X,2),k=t(L);{var te=C=>{var S=ys(),z=t(S);as(z,{size:16,class:"text-slate-400"}),e(S),v(C,S)};w(k,C=>{r($).disabled&&C(te)})}var _=a(k,2);{var H=C=>{var S=ks(),z=t(S);Sa(z,{size:16,class:"text-white"}),e(S),v(C,S)};w(_,C=>{c.selectedSystem===r($).id&&C(H)})}var N=a(_,2),I=t(N),B=t(I,!0);e(I);var J=a(I,2),T=t(J,!0);e(J),e(N),e(L),Gt(2),e(M),x((C,S,z,P,ae)=>{Re(M,1,`group relative rounded-2xl overflow-hidden cursor-pointer transition-all duration-300 border-2
            ${c.selectedSystem===r($).id?"border-indigo-500 ring-2 ring-indigo-500/50 scale-[1.02]":"border-transparent hover:border-white/20 hover:scale-[1.01]"}
            ${r($).disabled?"opacity-50 cursor-not-allowed grayscale":""}`),Fe(V,"src",C),Fe(V,"alt",S),Re(V,1,`w-full h-full object-cover ${z??""} opacity-40 group-hover:opacity-60 transition-opacity duration-500`),n(B,P),n(T,ae)},[()=>u(r($).id),()=>l()(r($).nameKey),()=>b(r($).id),()=>l()(r($).nameKey),()=>l()(r($).descriptionKey)]),v(E,M)}),e(s),v(h,s),Tt(),i()}Mt(["click"]);const zs=["Alistair","Baelor","Caelum","Daeron","Eldric","Fenris","Gareth","Havelock","Ignis","Jarek","Kaelen","Lucius","Malacor","Nyx","Orion","Pireus","Quintus","Rurik","Severus","Thorne","Ulric","Valerius","Wulfric","Xander","Yoric","Zephyr","Azura","Bellatrix","Celeste","Dahlia"],Cs=["Aethelgard","Bramble","Cinder","Driftwood","Ember","Fable","Gossamer","Hollow","Ivy","Juniper","Kestrel","Lark","Moss","Nettle","Omen","Pebble","Quill","Rowan","Sage","Thistle","Umber","Vesper","Willow","Yarrow","Zephyr","Ash","Birch","Crow","Dusk"],ur=["the Brave","the Cursed","the Swift","the Wise","the Fool","the Strong","the Shadow","the Light","of the North","of the South","the Wanderer","the Lost","the Broken","the Eternal","the Mad"];function Sr(h="person"){const c=Math.random()>.5?zs:Cs,l=c[Math.floor(Math.random()*c.length)];if(h==="person")return Math.random()>.7?`${l} ${ur[Math.floor(Math.random()*ur.length)]}`:l;{const p=["Shadow","Legacy","Curse","Fall","Rise","Revenge","Secret","Tale","Legend","Doom"],i=["of","of the","from","and"];return`The ${p[Math.floor(Math.random()*p.length)]} ${i[Math.floor(Math.random()*i.length)]} ${l}`}}const Zt=Da("idle"),ar=Da(null),Na=Da(null),Es="701898444454-7ml9onnv529k99rkvgh1slhdj4a1arrm.apps.googleusercontent.com",pr="https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/userinfo.profile",rt=Da({signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null,isInited:!1});let Ia,gr=!1;const ba="wwv_google_session";function Ps(){localStorage.removeItem(ba),rt.update(h=>({...h,signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null})),console.log("Session cleared due to expired or invalid token")}async function ja(){Ps(),console.warn("OAuth token expired or invalid. Please sign in again.")}async function zr(h){try{const c=await fetch("https://www.googleapis.com/oauth2/v1/userinfo?alt=json",{headers:{Authorization:`Bearer ${h}`}});if(c.status===401){await ja();return}if(c.ok){const l=await c.json();rt.update(p=>({...p,userProfile:{name:l.name,picture:l.picture}})),Cr()}}catch(c){console.error("Failed to fetch user profile:",c)}}function Ts(){try{const h=localStorage.getItem(ba);if(h){const c=JSON.parse(h);if(c.accessToken)return c.tokenExpiry&&Date.now()>c.tokenExpiry?(console.log("Stored token is expired, clearing session"),localStorage.removeItem(ba),!1):(rt.set({signedIn:!0,accessToken:c.accessToken,tokenExpiry:c.tokenExpiry||null,userProfile:c.userProfile||null,isInited:!0}),console.log("Restored session from localStorage"),zr(c.accessToken),!0)}}catch(h){console.error("Failed to load stored session:",h)}return!1}function Cr(){const h=yt(rt);h.signedIn&&h.accessToken?localStorage.setItem(ba,JSON.stringify({accessToken:h.accessToken,tokenExpiry:h.tokenExpiry,userProfile:h.userProfile})):localStorage.removeItem(ba)}async function Ms(){const h=Es;if(Ts()){try{await hr(),Ia=google.accounts.oauth2.initTokenClient({client_id:h,scope:pr,callback:fr}),gr=!0}catch(l){console.warn("Could not initialize GIS after restoring session:",l)}return}try{await hr(),Ia=google.accounts.oauth2.initTokenClient({client_id:h,scope:pr,callback:fr}),gr=!0,rt.update(l=>({...l,isInited:!0})),console.log("Google Auth Initialized")}catch(l){console.error("Failed to initialize Google Auth:",l),Na.set("init_failed"),rt.update(p=>({...p,isInited:!0}))}}function fr(h){if(h.error!==void 0){console.error("Google Auth Error:",h);return}console.log("Google Auth Success",h);const c=h.expires_in||3600,l=Date.now()+c*1e3;rt.update(p=>({...p,signedIn:!0,accessToken:h.access_token,tokenExpiry:l})),Cr(),zr(h.access_token)}let la=null;function hr(){return typeof window>"u"||typeof google<"u"&&google.accounts?Promise.resolve():la||(la=new Promise((h,c)=>{if(document.querySelector('script[src="https://accounts.google.com/gsi/client"]')){const i=setInterval(()=>{typeof google<"u"&&google.accounts&&(clearInterval(i),h())},100);setTimeout(()=>{clearInterval(i),(typeof google>"u"||!google.accounts)&&(la=null,c(new Error("Google Identity Services script found but failed to initialize")))},5e3);return}const p=document.createElement("script");p.src="https://accounts.google.com/gsi/client",p.async=!0,p.defer=!0,p.onload=()=>{const i=setInterval(()=>{typeof google<"u"&&google.accounts&&(clearInterval(i),h())},50);setTimeout(()=>{clearInterval(i),(typeof google>"u"||!google.accounts)&&(la=null,c(new Error("Google object not available after script load")))},5e3)},p.onerror=()=>{la=null;const d=!navigator.onLine?"Failed to load Google script: No internet connection":"Failed to load Google script: Blocked by browser or network error";c(new Error(d))},document.head.appendChild(p)}),la)}function Er(){Ia?(Na.set(null),Ia.requestAccessToken()):(console.error("Google Auth not initialized"),Na.set("not_initialized"),Zt.set("error"))}function Ns(){const h=yt(rt).accessToken;localStorage.removeItem(ba),rt.update(c=>({...c,signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null})),h&&typeof google<"u"&&google.accounts&&google.accounts.oauth2.revoke(h,()=>{console.log("Access token revoked")})}async function Pr(){const h=yt(rt),c=h.accessToken;if(!c)throw new Error("Not signed in");if(h.tokenExpiry&&Date.now()>h.tokenExpiry)throw await ja(),new Error("Token expired, please sign in again");const p=`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name = 'weird-wizard-backup.json' and 'appDataFolder' in parents and trashed = false")}&spaces=appDataFolder&fields=files(id, name, modifiedTime, size)`,i=await fetch(p,{headers:{Authorization:`Bearer ${c}`}});if(i.status===401)throw await ja(),new Error("Token expired, please sign in again");if(!i.ok)throw new Error("Failed to list backups: "+i.statusText);return(await i.json()).files||[]}async function Is(h){const c=yt(rt).accessToken;if(!c)throw new Error("Not signed in");const l=JSON.stringify(h),p="weird-wizard-backup.json",i=await Pr(),d=i.length>0?i[0].id:null;if(d){const o=`https://www.googleapis.com/upload/drive/v3/files/${d}?uploadType=media`,u=await fetch(o,{method:"PATCH",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:l});if(!u.ok){const b=await u.text();throw console.error("Upload error details:",b),new Error("Upload failed: "+u.statusText)}return await u.json()}else{const o={name:p,mimeType:"application/json",parents:["appDataFolder"]},u=new FormData;u.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),u.append("file",new Blob([l],{type:"application/json"}));const s=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${c}`},body:u});if(!s.ok){const E=await s.text();throw console.error("Upload error details:",E),new Error("Upload failed: "+s.statusText)}return await s.json()}}async function js(h){const c=yt(rt).accessToken;if(!c)throw new Error("Not signed in");const l=`https://www.googleapis.com/drive/v3/files/${h}?alt=media`,p=await fetch(l,{headers:{Authorization:`Bearer ${c}`}});if(p.status===401)throw await ja(),new Error("Token expired, please sign in again");if(!p.ok)throw new Error("Download failed: "+p.statusText);return await p.json()}let Wa;async function tr(){if(yt(rt).accessToken)try{console.log("Syncing from cloud..."),Zt.set("syncing");const c=await Pr();if(c.length===0){console.log("No backups found in cloud."),Zt.set("success");return}const l=c[0].id,p=await js(l),i=new Set;if(Bt.forEach((d,o)=>{i.add(String(o)),console.log("[DEBUG] Local deleted ID entry:",{key:o,type:typeof o,val:d})}),console.log("[DEBUG] Total locally deleted IDs:",i.size),p.deletedIds&&Array.isArray(p.deletedIds)){console.log("[DEBUG] Cloud data deletedIds count:",p.deletedIds.length);for(const d of p.deletedIds){const o=String(d.id);Bt.has(o)||(Bt.set(o,d),console.log("[DEBUG] New deletion synced from cloud:",o)),i.add(o),d.type==="character"&&gt.has(o)&&(gt.delete(o),console.log("[DEBUG] Removed char locally based on cloud deletion:",o)),d.type==="campaign"&&pt.has(o)&&(pt.delete(o),console.log("[DEBUG] Removed camp locally based on cloud deletion:",o)),d.type==="enemy"&&pa.has(o)&&(pa.delete(o),console.log("[DEBUG] Removed enemy locally based on cloud deletion:",o)),d.type==="encounter"&&ga.has(o)&&(ga.delete(o),console.log("[DEBUG] Removed encounter locally based on cloud deletion:",o))}}if(p.characters&&Array.isArray(p.characters)){console.log("[DEBUG] Syncing",p.characters.length,"characters from cloud");for(const d of p.characters){const o=String(d.id);if(i.has(o)||Bt.has(o)){console.log("[DEBUG] Skipping character because it is marked as deleted:",{id:o,name:d.name}),gt.has(o)&&(console.log("[DEBUG] Character found locally but marked deleted. Removing now:",o),gt.delete(o));for(const E of gt.keys()){const $=gt.get(E);$&&$.id===o&&(console.log("[DEBUG] Mismatched key entry found for deleted char. Removing:",E),gt.delete(E))}continue}const u=gt.get(o),b=d.lastUpdate||0,s=u?.lastUpdate||0;if(u&&s>b){console.log("[DEBUG] Skipping cloud overwrite for character, local is newer:",{id:o,localTime:s,cloudTime:b});continue}console.log("[DEBUG] Syncing character from cloud:",{id:o,name:d.name,status:u?"OVERWRITING":"ADDING"}),gt.set(o,d)}}if(p.campaigns&&Array.isArray(p.campaigns)){console.log("[DEBUG] Syncing",p.campaigns.length,"campaigns from cloud");for(const d of p.campaigns){const o=String(d.id);if(i.has(o)||Bt.has(o)){console.log("[DEBUG] Skipping campaign because it is marked as deleted:",{id:o,name:d.name}),pt.has(o)&&(console.log("[DEBUG] Campaign found locally but marked deleted. Removing now:",o),pt.delete(o));for(const E of pt.keys()){const $=pt.get(E);$&&$.id===o&&(console.log("[DEBUG] Mismatched key entry found for deleted camp. Removing:",E),pt.delete(E))}continue}const u=pt.get(o),b=d.lastUpdate||0,s=u?.lastUpdate||0;if(u&&s>b){console.log("[DEBUG] Skipping cloud overwrite for campaign, local is newer:",{id:o,localTime:s,cloudTime:b});continue}console.log("[DEBUG] Syncing campaign from cloud:",{id:o,name:d.name,status:pt.has(o)?"OVERWRITING":"ADDING"}),pt.set(o,d)}}if(p.enemies&&Array.isArray(p.enemies)){console.log("[DEBUG] Syncing",p.enemies.length,"enemies from cloud");for(const d of p.enemies){const o=String(d.id);if(i.has(o)||Bt.has(o)){pa.has(o)&&pa.delete(o);continue}const u=pa.get(o),b=d.lastUpdate||0,s=u?.lastUpdate||0;u&&s>b||pa.set(o,d)}}if(p.encounters&&Array.isArray(p.encounters)){console.log("[DEBUG] Syncing",p.encounters.length,"encounters from cloud");for(const d of p.encounters){const o=String(d.id);if(i.has(o)||Bt.has(o)){ga.has(o)&&ga.delete(o);continue}const u=ga.get(o),b=d.lastUpdate||0,s=u?.lastUpdate||0;u&&s>b||ga.set(o,d)}}if(p.images&&typeof p.images=="object"){console.log("[DEBUG] Syncing",Object.keys(p.images).length,"images from cloud");for(const[d,o]of Object.entries(p.images))Xa.has(d)||(Xa.set(d,o),console.log("[DEBUG] New image synced from cloud:",d))}if(p.appSettings){console.log("[DEBUG] Syncing app settings from cloud");const d=yt(Qt),o={...p.appSettings};!o.userName&&(o.defaultPlayerName||o.defaultGmName)&&(o.userName=o.defaultPlayerName||o.defaultGmName||"",console.log("[DEBUG] Migrated legacy settings to userName:",o.userName)),delete o.defaultPlayerName,delete o.defaultGmName;const u={...o,...d};console.log("[DEBUG] Merged settings:",{current:d,cloud:o,merged:u}),Qt.set(u)}console.log("[DEBUG] Sync from cloud complete."),Zt.set("success"),ar.set(Date.now())}catch(c){console.error("Failed to sync from cloud:",c),Zt.set("error")}}async function Va(){yt(rt).accessToken&&(Wa&&clearTimeout(Wa),Wa=setTimeout(async()=>{try{console.log("Syncing to cloud..."),Zt.set("syncing");const c=[],l=new Set;Bt.forEach((s,E)=>{c.push({id:E,...s}),l.add(String(E))});const p=yt(xr).filter(s=>!l.has(String(s.id))),i=yt(Ja).filter(s=>!l.has(String(s.id))),d=yt(Fr).filter(s=>!l.has(String(s.id))),o=yt(Hr).filter(s=>!l.has(String(s.id))),u={};Xa.forEach((s,E)=>{u[E]=s});const b={characters:p,campaigns:i,enemies:d,encounters:o,images:u,deletedIds:c,appSettings:yt(Qt),timestamp:Date.now(),version:1,appName:"WeirdWizardVault"};console.log("[DEBUG] Uploading to cloud:",{charactersCount:b.characters.length,campaignsCount:b.campaigns.length,enemiesCount:d.length,imagesCount:Object.keys(u).length,deletedIdsCount:c.length}),await Is(b),console.log("Sync to cloud complete."),Zt.set("success"),ar.set(Date.now())}catch(c){console.error("Failed to sync to cloud:",c),Zt.set("error")}},2e3))}var As=f('<button class="p-2 -ml-2 hover:bg-white/5 rounded-full text-slate-400 hover:text-white transition-all"><!></button>'),Ds=f("<div></div>"),Os=f('<div class="space-y-6 text-center"><h3 class="text-3xl md:text-4xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400 max-w-lg mx-auto mb-8"> </p> <!></div>'),Us=f('<div class="space-y-8 w-full max-w-lg mx-auto"><div class="text-center"><h3 class="text-3xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400"> </p></div> <div class="space-y-6"><div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest"> </label> <div class="relative"><input class="w-full bg-slate-900 border-2 border-slate-800 hover:border-slate-700 focus:border-indigo-500 rounded-xl p-4 text-lg font-bold text-white outline-none transition-all placeholder:text-slate-600"/> <button class="absolute right-3 top-1/2 -translate-y-1/2 p-2 text-slate-500 hover:text-indigo-400 hover:bg-indigo-500/10 rounded-lg transition-all"><!></button></div></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest"> </label> <input class="w-full bg-slate-900 border-2 border-slate-800 hover:border-slate-700 focus:border-indigo-500 rounded-xl p-4 font-medium text-white outline-none transition-all placeholder:text-slate-600"/></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest"> </label> <textarea class="w-full bg-slate-900 border-2 border-slate-800 hover:border-slate-700 focus:border-indigo-500 rounded-xl p-4 text-white outline-none transition-all resize-none placeholder:text-slate-600" rows="4"></textarea></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white text-lg font-black uppercase tracking-widest py-4 rounded-xl shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2"> <!></button></div></div>'),Bs=f('<div class="w-6 h-6 rounded-full bg-indigo-500 flex items-center justify-center shadow-[0_0_10px_rgba(99,102,241,0.5)]"><!></div>'),Gs=f('<button><div class="flex-1"><div> </div> <div class="text-xs opacity-60 mt-1 font-medium"> </div></div> <!></button>'),Ls=f('<div class="space-y-8 w-full max-w-lg mx-auto"><div class="text-center"><h3 class="text-3xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400"> </p></div> <div class="space-y-3"></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white text-lg font-black uppercase tracking-widest py-4 rounded-xl shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2"> <!></button></div>'),Rs=f('<div class="space-y-8 w-full max-w-lg mx-auto"><div class="text-center"><h3 class="text-3xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400"> </p></div> <div class="bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-4"><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-2"><!> </label> <input type="password" class="w-full bg-slate-950 border border-slate-700 rounded-xl p-4 text-white outline-none focus:border-indigo-500 transition-all placeholder:text-slate-700 font-mono text-center tracking-widest text-lg" placeholder="••••••••"/> <p class="text-xs text-slate-500 leading-relaxed text-center px-4"> </p></div> <button class="w-full bg-emerald-500 hover:bg-emerald-400 text-white text-lg font-black uppercase tracking-widest py-4 rounded-xl shadow-lg shadow-emerald-900/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2"> </button></div>'),Fs=f('<div class="fixed inset-0 bg-slate-950/95 backdrop-blur-md z-[100] flex flex-col overflow-hidden"><div class="px-6 py-4 flex items-center justify-between border-b border-white/5 bg-white/[0.02]"><div class="flex items-center gap-4"><!> <div><h2 class="text-xl font-black text-white uppercase tracking-tight"> </h2> <div class="flex items-center gap-2 mt-1"></div></div></div> <button class="text-slate-500 hover:text-white font-bold text-xs uppercase tracking-widest px-4 py-2 hover:bg-white/5 rounded-lg transition-all"> </button></div> <div class="flex-1 overflow-y-auto custom-scrollbar p-6 flex flex-col items-center svelte-1uk72qn"><div class="w-full max-w-2xl py-8"><!></div></div></div>');function Hs(h,c){Pt(c,!0);const l=()=>Ue(Qt,"$appSettings",d),p=()=>Ue(rt,"$googleSession",d),i=()=>Ue(Ft,"$t",d),[d,o]=At();let u=Et(c,"isOpen",3,!1),b=Ee(1),s=za({name:"",description:"",gmName:"",password:"",system:"",tier:"starting"});va(()=>{u()&&(m(b,1),s.system="",s.tier="starting",s.name="",s.description="",s.gmName=l().userName||p().userProfile?.name||"",s.password="")});function E(){m(b,r(b)+1)}function $(){r(b)>1&&m(b,r(b)-1)}function M(_){s.system=_,s.tier=Yr(_),E()}function X(){c.onSave({...s})}function V(){s.name=Sr("campaign")}var L=_e(),k=D(L);{var te=_=>{var H=Fs(),N=t(H),I=t(N),B=t(I);{var J=q=>{var U=As();U.__click=$;var R=t(U);Ka(R,{size:24}),e(U),v(q,U)};w(B,q=>{r(b)>1&&q(J)})}var T=a(B,2),C=t(T),S=t(C,!0);e(C);var z=a(C,2);mt(z,20,()=>[1,2,3,4],Ct,(q,U)=>{var R=Ds();x(()=>Re(R,1,`h-1 rounded-full transition-all duration-500 ${U<=r(b)?"w-8 bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]":"w-2 bg-slate-800"}`)),v(q,R)}),e(z),e(T),e(I);var P=a(I,2);P.__click=function(...q){c.onClose?.apply(this,q)};var ae=t(P,!0);e(P),e(N);var fe=a(N,2),ie=t(fe),he=t(ie);{var ne=q=>{var U=Os(),R=t(U),xe=t(R,!0);e(R);var Be=a(R,2),ke=t(Be,!0);e(Be);var G=a(Be,2);$r(G,{get selectedSystem(){return s.system},onSelect:M}),e(U),x((F,re)=>{n(xe,F),n(ke,re)},[()=>i()("wizard.campaign.step1_title"),()=>i()("wizard.campaign.step1_subtitle")]),Je(1,U,()=>bt,()=>({duration:300,delay:100})),v(q,U)},Pe=q=>{var U=_e(),R=D(U);{var xe=ke=>{var G=Us(),F=t(G),re=t(F),qe=t(re,!0);e(re);var le=a(re,2),W=t(le,!0);e(le),e(F);var Q=a(F,2),Te=t(Q),Me=t(Te),$e=t(Me,!0);e(Me);var Se=a(Me,2),de=t(Se);ft(de);var ze=a(de,2);ze.__click=V;var ye=t(ze);Ma(ye,{size:20}),e(ze),e(Se),e(Te);var He=a(Te,2),we=t(He),Ce=t(we,!0);e(we);var O=a(we,2);ft(O),e(He);var be=a(He,2),De=t(be),We=t(De,!0);e(De);var se=a(De,2);Mr(se),e(be);var Z=a(be,2);Z.__click=E;var pe=t(Z),Ae=a(pe);$a(Ae,{size:20}),e(Z),e(Q),e(G),x((K,oe,Ve,Ge,nt,vt,Ie,ge,ce,me)=>{n(qe,K),n(W,oe),n($e,Ve),Fe(de,"placeholder",Ge),Fe(ze,"title",nt),n(Ce,vt),Fe(O,"placeholder",Ie),n(We,ge),Fe(se,"placeholder",ce),Z.disabled=!s.name,n(pe,`${me??""} `)},[()=>i()("wizard.campaign.step2_title"),()=>i()("wizard.campaign.step2_subtitle"),()=>i()("wizard.campaign.step2_name_label"),()=>i()("wizard.campaign.step2_name_placeholder"),()=>i()("wizard.campaign.step2_random_name_tooltip"),()=>i()("wizard.campaign.step2_gm_label"),()=>i()("wizard.campaign.step2_gm_placeholder"),()=>i()("wizard.campaign.step2_description_label"),()=>i()("wizard.campaign.step2_description_placeholder"),()=>i()("wizard.campaign.continue")]),ht(de,()=>s.name,K=>s.name=K),ht(O,()=>s.gmName,K=>s.gmName=K),ht(se,()=>s.description,K=>s.description=K),Je(1,G,()=>bt,()=>({duration:300,delay:100})),v(ke,G)},Be=ke=>{var G=_e(),F=D(G);{var re=le=>{var W=Ls(),Q=t(W),Te=t(Q),Me=t(Te,!0);e(Te);var $e=a(Te,2),Se=t($e,!0);e($e),e(Q);var de=a(Q,2);mt(de,21,()=>Jr(s.system),Ct,(we,Ce)=>{var O=Gs();O.__click=()=>s.tier=r(Ce).value;var be=t(O),De=t(be),We=t(De,!0);e(De);var se=a(De,2),Z=t(se,!0);e(se),e(be);var pe=a(be,2);{var Ae=K=>{var oe=Bs(),Ve=t(oe);Sa(Ve,{size:14,class:"text-white"}),e(oe),v(K,oe)};w(pe,K=>{s.tier===r(Ce).value&&K(Ae)})}e(O),x((K,oe)=>{Re(O,1,`w-full relative flex items-center p-4 rounded-xl border-2 text-left transition-all ${s.tier===r(Ce).value?"bg-indigo-600/10 border-indigo-500 ring-1 ring-indigo-500/50":"bg-slate-900/50 border-slate-800 text-slate-400 hover:border-slate-600 hover:bg-slate-900"}`),Re(De,1,`font-black uppercase tracking-wide text-lg ${s.tier===r(Ce).value?"text-indigo-400":"text-slate-300"}`),n(We,K),n(Z,oe)},[()=>i()(r(Ce).labelKey),()=>i()("wizard.campaign.step3_tier_description")]),v(we,O)}),e(de);var ze=a(de,2);ze.__click=E;var ye=t(ze),He=a(ye);$a(He,{size:20}),e(ze),e(W),x((we,Ce,O)=>{n(Me,we),n(Se,Ce),n(ye,`${O??""} `)},[()=>i()("wizard.campaign.step3_title"),()=>i()("wizard.campaign.step3_subtitle"),()=>i()("wizard.campaign.continue")]),Je(1,W,()=>bt,()=>({duration:300,delay:100})),v(le,W)},qe=le=>{var W=_e(),Q=D(W);{var Te=Me=>{var $e=Rs(),Se=t($e),de=t(Se),ze=t(de,!0);e(de);var ye=a(de,2),He=t(ye,!0);e(ye),e(Se);var we=a(Se,2),Ce=t(we),O=t(Ce);Ur(O,{size:14});var be=a(O);e(Ce);var De=a(Ce,2);ft(De);var We=a(De,2),se=t(We,!0);e(We),e(we);var Z=a(we,2);Z.__click=X;var pe=t(Z,!0);e(Z),e($e),x((Ae,K,oe,Ve,Ge)=>{n(ze,Ae),n(He,K),n(be,` ${oe??""}`),n(se,Ve),n(pe,Ge)},[()=>i()("wizard.campaign.step4_title"),()=>i()("wizard.campaign.step4_subtitle"),()=>i()("wizard.campaign.step4_password_label"),()=>i()("wizard.campaign.step4_password_info"),()=>i()("wizard.campaign.create")]),ht(De,()=>s.password,Ae=>s.password=Ae),Je(1,$e,()=>bt,()=>({duration:300,delay:100})),v(Me,$e)};w(Q,Me=>{r(b)===4&&Me(Te)},!0)}v(le,W)};w(F,le=>{r(b)===3?le(re):le(qe,!1)},!0)}v(ke,G)};w(R,ke=>{r(b)===2?ke(xe):ke(Be,!1)},!0)}v(q,U)};w(he,q=>{r(b)===1?q(ne):q(Pe,!1)})}e(ie),e(fe),e(H),x((q,U)=>{n(S,q),n(ae,U)},[()=>i()("wizard.campaign.title"),()=>i()("wizard.campaign.cancel")]),Je(3,H,()=>bt,()=>({duration:200})),v(_,H)};w(k,_=>{u()&&_(te)})}v(h,L),Tt(),o()}Mt(["click"]);var Ws=f('<div class="space-y-4"><div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="p-3 bg-slate-800 rounded-lg border border-slate-700 text-slate-300 text-sm font-bold flex items-center gap-2"> <span class="text-[9px] bg-slate-700 text-slate-400 px-1.5 py-0.5 rounded uppercase tracking-wider ml-auto"> </span></div></div> <div><label for="char-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="char-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="char-player" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center gap-1"><!> </label> <input id="char-player" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div class="grid grid-cols-2 gap-4"><div><label for="char-ancestry" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="char-ancestry" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="char-level" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="char-level" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div></div> <div><label for="char-path" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="char-path" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div class="grid grid-cols-2 gap-4"><div><label for="char-defense" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="char-defense" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="char-health" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="char-health" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div></div></div> <div class="flex gap-3 mt-8"><button class="flex-1 bg-slate-700 hover:bg-slate-600 transition-all py-3 rounded-xl text-white font-bold active:scale-95"> </button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 transition-all py-3 rounded-xl text-white font-bold shadow-lg shadow-indigo-900/20 active:scale-95"> </button></div>',1);function Vs(h,c){Pt(c,!0);const l=()=>Ue(Ft,"$t",p),[p,i]=At();let d=Et(c,"isOpen",3,!1),o=Et(c,"initialData",3,"{}"),u=za({name:"",playerName:"",ancestry:"",novicePath:"",level:1,defense:10,health:24,system:ra});va(()=>{if(d()&&o())try{const s=JSON.parse(o());u.name=s.name||"",u.playerName=s.playerName||"",u.ancestry=s.ancestry||"",u.novicePath=s.paths&&s.paths.novice?s.paths.novice:"",u.level=s.level||1,u.defense=s.defense||10,u.health=s.health||s.normalHealth||24,u.system=s.system||ra}catch{u.name="",u.playerName="",u.ancestry="",u.novicePath="",u.level=1,u.defense=10,u.health=24,u.system=ra}});function b(){c.onSave({...u})}{let s=jt(()=>l()("character.settings.title"));_r(h,{get isOpen(){return d()},get onClose(){return c.onClose},get title(){return r(s)},maxWidth:"max-w-md",children:(E,$)=>{var M=Ws(),X=D(M),V=t(X),L=t(V),k=t(L);Ta(k,{size:12});var te=a(k);e(L);var _=a(L,2),H=t(_),N=a(H),I=t(N,!0);e(N),e(_),e(V);var B=a(V,2),J=t(B),T=t(J,!0);e(J);var C=a(J,2);ft(C),e(B);var S=a(B,2),z=t(S),P=t(z);Ca(P,{size:12});var ae=a(P);e(z);var fe=a(z,2);ft(fe),e(S);var ie=a(S,2),he=t(ie),ne=t(he),Pe=t(ne,!0);e(ne);var q=a(ne,2);ft(q),e(he);var U=a(he,2),R=t(U),xe=t(R,!0);e(R);var Be=a(R,2);ft(Be),e(U),e(ie);var ke=a(ie,2),G=t(ke),F=t(G,!0);e(G);var re=a(G,2);ft(re),e(ke);var qe=a(ke,2),le=t(qe),W=t(le),Q=t(W,!0);e(W);var Te=a(W,2);ft(Te),e(le);var Me=a(le,2),$e=t(Me),Se=t($e,!0);e($e);var de=a($e,2);ft(de),e(Me),e(qe),e(X);var ze=a(X,2),ye=t(ze);ye.__click=function(...O){c.onClose?.apply(this,O)};var He=t(ye,!0);e(ye);var we=a(ye,2);we.__click=b;var Ce=t(we,!0);e(we),e(ze),x((O,be,De,We,se,Z,pe,Ae,K,oe,Ve,Ge,nt,vt,Ie,ge)=>{n(te,` ${O??""}`),n(H,`${be??""} `),n(I,De),n(T,We),Fe(C,"placeholder",se),n(ae,` ${Z??""}`),Fe(fe,"placeholder",pe),n(Pe,Ae),Fe(q,"placeholder",K),n(xe,oe),n(F,Ve),Fe(re,"placeholder",Ge),n(Q,nt),n(Se,vt),n(He,Ie),n(Ce,ge)},[()=>l()("character.settings.system_label"),()=>(()=>{const O=yr.find(be=>be.id===u.system);return O?l()(O.nameKey):l()("character.settings.system_unknown")})(),()=>l()("character.settings.fixed"),()=>l()("character.settings.name_label"),()=>l()("character.settings.name_placeholder"),()=>l()("character.settings.player_label"),()=>l()("character.settings.player_placeholder"),()=>l()("character.settings.ancestry_label"),()=>l()("character.settings.ancestry_placeholder"),()=>l()("character.settings.level_label"),()=>l()("character.settings.path_label"),()=>l()("character.settings.path_placeholder"),()=>l()("character.settings.defense_label"),()=>l()("character.settings.health_label"),()=>l()("character.settings.cancel"),()=>l()("character.settings.save_changes")]),ht(C,()=>u.name,O=>u.name=O),ht(fe,()=>u.playerName,O=>u.playerName=O),ht(q,()=>u.ancestry,O=>u.ancestry=O),ht(Be,()=>u.level,O=>u.level=O),ht(re,()=>u.novicePath,O=>u.novicePath=O),ht(Te,()=>u.defense,O=>u.defense=O),ht(de,()=>u.health,O=>u.health=O),v(E,M)},$$slots:{default:!0}})}Tt(),i()}Mt(["click"]);var qs=f('<button class="p-2 -ml-2 hover:bg-white/5 rounded-full text-slate-400 hover:text-white transition-all"><!></button>'),Ks=f("<div></div>"),Ys=f('<div class="space-y-6 text-center"><h3 class="text-3xl md:text-4xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400 max-w-lg mx-auto mb-8"> </p> <!></div>'),Js=f("<button> </button>"),Xs=f("<button> </button> <button> </button>",1),Zs=f('<div class="pt-2"><label for="other-ancestry" class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest"> </label> <input id="other-ancestry" class="w-full bg-slate-900 border-2 border-slate-800 hover:border-slate-700 focus:border-indigo-500 rounded-xl p-4 text-white outline-none transition-all placeholder:text-slate-600"/></div>'),Qs=f('<div class="space-y-8 w-full max-w-lg mx-auto"><div class="text-center"><h3 class="text-3xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400"> </p></div> <div class="grid grid-cols-2 gap-3"><!></div> <!> <button class="w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white text-lg font-black uppercase tracking-widest py-4 rounded-xl shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2"> <!></button></div>'),eo=f('<button class="p-3 rounded-xl border border-slate-800 bg-slate-900/50 hover:bg-slate-800 text-slate-300 hover:text-white font-bold text-xs uppercase tracking-widest transition-all"> </button>'),to=f('<div class="grid grid-cols-2 gap-2"></div>'),ao=f("<button> </button>"),ro=f('<div class="space-y-3"><div class="flex items-center justify-between"><button class="text-xs text-indigo-400 hover:text-indigo-300 font-bold uppercase tracking-widest flex items-center gap-1 transition-all"><!> </button></div> <div class="grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar pr-2 svelte-n6fmm8"></div></div>'),so=f('<div class="w-16 h-16 bg-slate-800 rounded-full mx-auto flex items-center justify-center mb-2"><!></div> <p class="text-xs text-slate-500"> </p>',1),oo=f('<div class="space-y-1"><div class="text-[10px] text-indigo-400 font-bold uppercase tracking-widest"> </div> <div class="text-xl font-black text-white"> </div></div>'),io=f('<div class="space-y-8 w-full max-w-lg mx-auto"><div class="text-center"><h3 class="text-3xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400"> </p></div> <div class="space-y-4"><!> <div class="bg-slate-900/50 border-2 border-slate-800 rounded-2xl p-6 text-center space-y-4"><!> <button class="w-full bg-white/5 hover:bg-white/10 text-white font-bold py-3 rounded-xl border border-white/10 transition-all flex items-center justify-center gap-2 hover:border-white/20 text-xs"><!> </button></div></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white text-lg font-black uppercase tracking-widest py-4 rounded-xl shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2"> <!></button></div>'),no=f("<button> </button>"),lo=f("<button> </button>"),co=f('<div class="pt-2"><label for="other-path" class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest"> </label> <input id="other-path" class="w-full bg-slate-900 border-2 border-slate-800 hover:border-slate-700 focus:border-indigo-500 rounded-xl p-4 text-white outline-none transition-all placeholder:text-slate-600"/></div>'),vo=f('<div class="space-y-8 w-full max-w-lg mx-auto"><div class="text-center"><h3 class="text-3xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400"> </p></div> <div class="grid grid-cols-2 gap-3"><button class="col-span-2 p-3 text-xs text-slate-500 hover:text-white uppercase tracking-widest hover:underline"> </button> <!></div> <!> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white text-lg font-black uppercase tracking-widest py-4 rounded-xl shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2"> <!></button></div>'),uo=f('<div class="space-y-8 w-full max-w-lg mx-auto"><div class="text-center"><h3 class="text-3xl font-black text-white uppercase tracking-tight mb-2"> </h3> <p class="text-slate-400"> </p></div> <div class="space-y-6"><div><label for="character-name" class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest"> </label> <div class="relative"><input id="character-name" class="w-full bg-slate-900 border-2 border-slate-800 hover:border-slate-700 focus:border-indigo-500 rounded-xl p-4 text-lg font-bold text-white outline-none transition-all placeholder:text-slate-600"/> <button class="absolute right-3 top-1/2 -translate-y-1/2 p-2 text-slate-500 hover:text-indigo-400 hover:bg-indigo-500/10 rounded-lg transition-all"><!></button></div></div> <div><label for="player-name" class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-2"><!> </label> <input id="player-name" class="w-full bg-slate-900 border-2 border-slate-800 hover:border-slate-700 focus:border-indigo-500 rounded-xl p-4 font-medium text-white outline-none transition-all placeholder:text-slate-600"/></div> <div class="bg-indigo-900/20 border border-indigo-500/20 rounded-xl p-4 flex items-start gap-3"><!> <div><h4 class="text-sm font-bold text-white mb-1"> </h4> <p class="text-xs text-slate-400"> </p></div></div> <button class="w-full bg-emerald-500 hover:bg-emerald-400 disabled:opacity-50 text-white text-lg font-black uppercase tracking-widest py-4 rounded-xl shadow-lg shadow-emerald-900/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2"> </button></div></div>'),po=f('<div class="fixed inset-0 bg-slate-950/95 backdrop-blur-md z-[100] flex flex-col overflow-hidden"><div class="px-6 py-4 flex items-center justify-between border-b border-white/5 bg-white/[0.02]"><div class="flex items-center gap-4"><!> <div><h2 class="text-xl font-black text-white uppercase tracking-tight"> </h2> <div class="flex items-center gap-2 mt-1"></div></div></div> <button class="text-slate-500 hover:text-white font-bold text-xs uppercase tracking-widest px-4 py-2 hover:bg-white/5 rounded-lg transition-all"> </button></div> <div class="flex-1 overflow-y-auto custom-scrollbar p-6 flex flex-col items-center svelte-n6fmm8"><div class="w-full max-w-2xl py-8"><!></div></div></div>');function go(h,c){Pt(c,!0);const l=()=>Ue(Qt,"$appSettings",d),p=()=>Ue(rt,"$googleSession",d),i=()=>Ue(Ft,"$t",d),[d,o]=At();let u=Et(c,"isOpen",3,!1),b=Ee(1),s=za({name:"",playerName:"",system:"",ancestry:"",profession:"",novicePath:""}),E=Ee(""),$=Ee(""),M=Ee("");const X={sofdl:{Academic:["architecture","astrology","engineering","etiquette_customs","folklore","geography","heraldry","history","law","literature","magic","medicine","navigation","occult","philosophy","politics","nature","religion","science","war"],Criminal:["agitator","beggar","burglar","carouser","charlatan","cultist","fence","forger","gambler","grave_robber","informant","murderer","pickpocket","pirate","prostitute","rebel","saboteur","spy","thug","urchin"],Martial:["constable","detective","guard","jailer","officer","marine","mercenary","militia_member","patroller","peasant_conscript","slave","soldier","squire","torturer"],Wilderness:["bandit","barbarian","exile","gatherer","guide","hermit","hunter","nomad","pioneer","poacher","prospector","outlaw","refugee","spelunker","tracker","trapper","woodcutter"],Religious:["devotee","evangelist","flagellant","heretic","initiate_old_faith","minister","acolyte_new_god","inquisitor_henchman","pilgrim","street_preacher","temple_ward"],Common:["animal_trainer","apothecary","artisan","artist","boatman","butcher","cook","drover","entertainer","farmer","fisher","groom","laborer","merchant","miner","musician","sailor","servant","shopkeeper","teamster"]},sofww:{Entertainment:["acrobat","animal_handler","artist","busker","clown","dancer","fortune_teller","juggler","singer","thespian"],Military:["caravan_guard","herald","house_guard","marine","member_of_the_watch","mercenary_soldier","militia_member","soldier","squire","sworn_bodyguard"],Religious:["acolyte","aspirant","cultist","evangelist","fundamentalist","heretic","missionary","minister","prophet","scribe"],Academic:["apothecary","apprentice_magician","astrologer","doctor","folklorist","inventor","naturalist","occultist","philosopher","politician"],Aristocratic:["carouser","dilettante","merchant","landholder","influencer"],Common:["baker","bartender","carpenter","cook","exterminator","farmer","fisher","gravedigger","groom","herder","jeweler","laborer","mason","miner","sailor","servant","shopkeeper","smith","tanner","teamster"],Criminal:["bandit","burglar","charlatan","constable","detective","forger","grave_robber","jailer","mugger","rake"],Wilderness:["beggar","forester","gatherer","hunter","nomad","pilgrim","prospector","recluse","spelunker","woodcutter"]}};va(()=>{u()&&(m(b,1),s.system="",s.name="",s.playerName=l().userName||p().userProfile?.name||"",s.ancestry="",s.profession="",s.novicePath="",m(E,""),m($,""),m(M,""))});function V(){r(b)===2&&s.ancestry==="Other"&&!r(E)||r(b)===4&&s.novicePath==="Other"&&!r($)||(r(b)===2&&s.ancestry==="Other"&&(s.ancestry=r(E)),r(b)===4&&s.novicePath==="Other"&&(s.novicePath=r($)),r(b)===3&&m(M,""),m(b,r(b)+1))}function L(){r(b)>1&&m(b,r(b)-1)}function k(T){s.system=T,V()}function te(){s.name=Sr("person")}function _(){const T=s.system==="sofdl"||s.system==="sofww"?s.system:"sofww",C=X[T],S=Object.keys(C),z=S[Math.floor(Math.random()*S.length)],P=C[z],ae=P[Math.floor(Math.random()*P.length)],fe=i()(`professions.${T}.${z.toLowerCase()}.${ae}`),ie=i()(`professions.categories.${z.toLowerCase()}`);s.profession=`${fe} (${ie})`,m(M,"")}function H(T,C){const S=s.system==="sofdl"||s.system==="sofww"?s.system:"sofww",z=i()(`professions.${S}.${T.toLowerCase()}.${C}`),P=i()(`professions.categories.${T.toLowerCase()}`);s.profession=`${z} (${P})`}function N(){s.novicePath==="Other"&&(s.novicePath=r($));const T=s.system==="sofdl"||s.system==="sofww"?s.system:"sofww";let C=s.ancestry;["Human","Changeling","Clockwork","Dwarf","Goblin","Orc"].includes(C)&&(C=i()(`ancestries.${T}.${C.toLowerCase()}`));let z=s.novicePath;["Magician","Priest","Rogue","Warrior","Fighter","Mage","Ancestry"].includes(z)&&(z=i()(`paths.${T}.${z.toLowerCase()}`));const ae={...s,ancestry:C,novicePath:z,level:s.system==="sofdl"?0:1,health:(s.system==="sofdl",10),defense:10};c.onSave(ae)}var I=_e(),B=D(I);{var J=T=>{var C=po(),S=t(C),z=t(S),P=t(z);{var ae=G=>{var F=qs();F.__click=L;var re=t(F);Ka(re,{size:24}),e(F),v(G,F)};w(P,G=>{r(b)>1&&G(ae)})}var fe=a(P,2),ie=t(fe),he=t(ie,!0);e(ie);var ne=a(ie,2);mt(ne,20,()=>[1,2,3,4,5],Ct,(G,F)=>{var re=Ks();x(()=>Re(re,1,`h-1 rounded-full transition-all duration-500 ${F<=r(b)?"w-8 bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]":"w-2 bg-slate-800"}`)),v(G,re)}),e(ne),e(fe),e(z);var Pe=a(z,2);Pe.__click=function(...G){c.onClose?.apply(this,G)};var q=t(Pe,!0);e(Pe),e(S);var U=a(S,2),R=t(U),xe=t(R);{var Be=G=>{var F=Ys(),re=t(F),qe=t(re,!0);e(re);var le=a(re,2),W=t(le,!0);e(le);var Q=a(le,2);$r(Q,{get selectedSystem(){return s.system},onSelect:k}),e(F),x((Te,Me)=>{n(qe,Te),n(W,Me)},[()=>i()("wizard.character.step1_title"),()=>i()("wizard.character.step1_subtitle")]),Je(1,F,()=>bt,()=>({duration:300,delay:100})),v(G,F)},ke=G=>{var F=_e(),re=D(F);{var qe=W=>{var Q=Qs(),Te=t(Q),Me=t(Te),$e=t(Me,!0);e(Me);var Se=a(Me,2),de=t(Se,!0);e(Se),e(Te);var ze=a(Te,2),ye=t(ze);{var He=se=>{var Z=_e(),pe=D(Z);mt(pe,16,()=>["Human","Changeling","Clockwork","Dwarf","Goblin","Orc","Other"],Ct,(Ae,K)=>{var oe=Js();oe.__click=()=>s.ancestry=K;var Ve=t(oe,!0);e(oe),x(Ge=>{Re(oe,1,`p-4 rounded-xl border-2 text-center font-bold uppercase tracking-wider transition-all ${s.ancestry===K?"bg-indigo-600/20 border-indigo-500 text-white shadow-[0_0_15px_rgba(99,102,241,0.3)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600 hover:text-white"}`),n(Ve,Ge)},[()=>i()(`ancestries.sofdl.${K.toLowerCase()}`)]),v(Ae,oe)}),v(se,Z)},we=se=>{var Z=Xs(),pe=D(Z);pe.__click=()=>s.ancestry="Human";var Ae=t(pe,!0);e(pe);var K=a(pe,2);K.__click=()=>s.ancestry="Other";var oe=t(K,!0);e(K),x((Ve,Ge)=>{Re(pe,1,`p-4 rounded-xl border-2 text-center font-bold uppercase tracking-wider transition-all ${s.ancestry==="Human"?"bg-indigo-600/20 border-indigo-500 text-white shadow-[0_0_15px_rgba(99,102,241,0.3)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600 hover:text-white"}`),n(Ae,Ve),Re(K,1,`p-4 rounded-xl border-2 text-center font-bold uppercase tracking-wider transition-all ${s.ancestry==="Other"?"bg-indigo-600/20 border-indigo-500 text-white shadow-[0_0_15px_rgba(99,102,241,0.3)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600 hover:text-white"}`),n(oe,Ge)},[()=>i()("ancestries.sofww.human"),()=>i()("ancestries.sofww.other")]),v(se,Z)};w(ye,se=>{s.system==="sofdl"?se(He):se(we,!1)})}e(ze);var Ce=a(ze,2);{var O=se=>{var Z=Zs(),pe=t(Z),Ae=t(pe,!0);e(pe);var K=a(pe,2);ft(K),e(Z),x((oe,Ve)=>{n(Ae,oe),Fe(K,"placeholder",Ve)},[()=>i()("wizard.character.step2_other_label"),()=>i()("wizard.character.step2_other_placeholder")]),ht(K,()=>r(E),oe=>m(E,oe)),Je(1,Z,()=>Ya),v(se,Z)};w(Ce,se=>{s.ancestry==="Other"&&se(O)})}var be=a(Ce,2);be.__click=V;var De=t(be),We=a(De);$a(We,{size:20}),e(be),e(Q),x((se,Z,pe)=>{n($e,se),n(de,Z),be.disabled=!s.ancestry||s.ancestry==="Other"&&!r(E),n(De,`${pe??""} `)},[()=>i()("wizard.character.step2_title"),()=>i()("wizard.character.step2_subtitle"),()=>i()("wizard.character.continue")]),Je(1,Q,()=>bt,()=>({duration:300,delay:100})),v(W,Q)},le=W=>{var Q=_e(),Te=D(Q);{var Me=Se=>{var de=io(),ze=t(de),ye=t(ze),He=t(ye,!0);e(ye);var we=a(ye,2),Ce=t(we,!0);e(we),e(ze);var O=a(ze,2),be=t(O);{var De=Ie=>{var ge=to();mt(ge,21,()=>Object.keys(X[s.system==="sofdl"?"sofdl":"sofww"]),Ct,(ce,me)=>{var Ne=eo();Ne.__click=()=>m(M,r(me),!0);var Xe=t(Ne,!0);e(Ne),x(Le=>n(Xe,Le),[()=>i()(`professions.categories.${r(me).toLowerCase()}`)]),v(ce,Ne)}),e(ge),v(Ie,ge)},We=Ie=>{var ge=ro(),ce=t(ge),me=t(ce);me.__click=()=>m(M,"");var Ne=t(me);Ka(Ne,{size:14});var Xe=a(Ne);e(me),e(ce);var Le=a(ce,2);mt(Le,21,()=>X[s.system==="sofdl"?"sofdl":"sofww"][r(M)],Ct,(Oe,st)=>{const _t=jt(()=>i()(`professions.${s.system==="sofdl"?"sofdl":"sofww"}.${r(M).toLowerCase()}.${r(st)}`));var xt=ao();xt.__click=()=>H(r(M),r(st));var kt=t(xt,!0);e(xt),x(g=>{Re(xt,1,`p-2.5 rounded-lg border text-left text-xs font-bold transition-all ${g??""}`),n(kt,r(_t))},[()=>s.profession.includes(r(_t))?"bg-indigo-600/20 border-indigo-500 text-white shadow-[0_0_10px_rgba(99,102,241,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-700 hover:text-slate-200"]),v(Oe,xt)}),e(Le),e(ge),x(Oe=>n(Xe,` ${Oe??""}`),[()=>i()(`professions.categories.${r(M).toLowerCase()}`)]),Je(1,ge,()=>bt,()=>({duration:200})),v(Ie,ge)};w(be,Ie=>{r(M)?Ie(We,!1):Ie(De)})}var se=a(be,2),Z=t(se);{var pe=Ie=>{var ge=so(),ce=D(ge),me=t(ce);kr(me,{size:28,class:"text-slate-600"}),e(ce);var Ne=a(ce,2),Xe=t(Ne,!0);e(Ne),x(Le=>n(Xe,Le),[()=>i()("wizard.character.step3_empty_message")]),v(Ie,ge)},Ae=Ie=>{var ge=oo(),ce=t(ge),me=t(ce,!0);e(ce);var Ne=a(ce,2),Xe=t(Ne,!0);e(Ne),e(ge),x(Le=>{n(me,Le),n(Xe,s.profession)},[()=>i()("wizard.character.step3_your_profession")]),Je(1,ge,()=>bt),v(Ie,ge)};w(Z,Ie=>{s.profession?Ie(Ae,!1):Ie(pe)})}var K=a(Z,2);K.__click=_;var oe=t(K);Ma(oe,{size:16});var Ve=a(oe);e(K),e(se),e(O);var Ge=a(O,2);Ge.__click=V;var nt=t(Ge),vt=a(nt);$a(vt,{size:20}),e(Ge),e(de),x((Ie,ge,ce,me)=>{n(He,Ie),n(Ce,ge),n(Ve,` ${ce??""}`),Ge.disabled=!s.profession,n(nt,`${me??""} `)},[()=>i()("wizard.character.step3_title"),()=>i()("wizard.character.step3_subtitle"),()=>s.profession?i()("wizard.character.step3_roll_again"):i()("wizard.character.step3_roll"),()=>i()("wizard.character.continue")]),Je(1,de,()=>bt,()=>({duration:300,delay:100})),v(Se,de)},$e=Se=>{var de=_e(),ze=D(de);{var ye=we=>{var Ce=vo(),O=t(Ce),be=t(O),De=t(be,!0);e(be);var We=a(be,2),se=t(We,!0);e(We),e(O);var Z=a(O,2),pe=t(Z);pe.__click=()=>s.novicePath="";var Ae=t(pe,!0);e(pe);var K=a(pe,2);{var oe=ce=>{var me=_e(),Ne=D(me);mt(Ne,16,()=>["Magician","Priest","Rogue","Warrior","Other"],Ct,(Xe,Le)=>{var Oe=no();Oe.__click=()=>s.novicePath=Le;var st=t(Oe,!0);e(Oe),x(_t=>{Re(Oe,1,`p-4 rounded-xl border-2 text-center font-bold uppercase tracking-wider transition-all ${s.novicePath===Le?"bg-indigo-600/20 border-indigo-500 text-white shadow-[0_0_15px_rgba(99,102,241,0.3)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600 hover:text-white"}`),n(st,_t)},[()=>i()(`paths.sofdl.${Le.toLowerCase()}`)]),v(Xe,Oe)}),v(ce,me)},Ve=ce=>{var me=_e(),Ne=D(me);mt(Ne,16,()=>["Fighter","Mage","Priest","Rogue","Ancestry","Other"],Ct,(Xe,Le)=>{var Oe=lo();Oe.__click=()=>s.novicePath=Le;var st=t(Oe,!0);e(Oe),x(_t=>{Re(Oe,1,`p-4 rounded-xl border-2 text-center font-bold uppercase tracking-wider transition-all ${s.novicePath===Le?"bg-indigo-600/20 border-indigo-500 text-white shadow-[0_0_15px_rgba(99,102,241,0.3)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600 hover:text-white"}`),n(st,_t)},[()=>i()(`paths.sofww.${Le.toLowerCase()}`)]),v(Xe,Oe)}),v(ce,me)};w(K,ce=>{s.system==="sofdl"?ce(oe):ce(Ve,!1)})}e(Z);var Ge=a(Z,2);{var nt=ce=>{var me=co(),Ne=t(me),Xe=t(Ne,!0);e(Ne);var Le=a(Ne,2);ft(Le),e(me),x((Oe,st)=>{n(Xe,Oe),Fe(Le,"placeholder",st)},[()=>i()("wizard.character.step4_other_label"),()=>i()("wizard.character.step4_other_placeholder")]),ht(Le,()=>r($),Oe=>m($,Oe)),Je(1,me,()=>Ya),v(ce,me)};w(Ge,ce=>{s.novicePath==="Other"&&ce(nt)})}var vt=a(Ge,2);vt.__click=V;var Ie=t(vt),ge=a(Ie);$a(ge,{size:20}),e(vt),e(Ce),x((ce,me,Ne,Xe)=>{n(De,ce),n(se,me),n(Ae,Ne),n(Ie,`${Xe??""} `)},[()=>i()("wizard.character.step4_title"),()=>i()("wizard.character.step4_subtitle"),()=>i()("wizard.character.step4_skip"),()=>i()("wizard.character.continue")]),Je(1,Ce,()=>bt,()=>({duration:300,delay:100})),v(we,Ce)},He=we=>{var Ce=_e(),O=D(Ce);{var be=De=>{var We=uo(),se=t(We),Z=t(se),pe=t(Z,!0);e(Z);var Ae=a(Z,2),K=t(Ae,!0);e(Ae),e(se);var oe=a(se,2),Ve=t(oe),Ge=t(Ve),nt=t(Ge,!0);e(Ge);var vt=a(Ge,2),Ie=t(vt);ft(Ie);var ge=a(Ie,2);ge.__click=te;var ce=t(ge);Ma(ce,{size:20}),e(ge),e(vt),e(Ve);var me=a(Ve,2),Ne=t(me),Xe=t(Ne);Ca(Xe,{size:14});var Le=a(Xe);e(Ne);var Oe=a(Ne,2);ft(Oe),e(me);var st=a(me,2),_t=t(st);Br(_t,{size:20,class:"text-indigo-400 shrink-0 mt-0.5"});var xt=a(_t,2),kt=t(xt),g=t(kt,!0);e(kt);var ve=a(kt,2),y=t(ve,!0);e(ve),e(xt),e(st);var A=a(st,2);A.__click=N;var Ze=t(A,!0);e(A),e(oe),e(We),x((Ke,ea,Vt,St,lt,$t,Nt,It,qt,Kt)=>{n(pe,Ke),n(K,ea),n(nt,Vt),Fe(Ie,"placeholder",St),Fe(ge,"title",lt),n(Le,` ${$t??""}`),Fe(Oe,"placeholder",Nt),n(g,It),n(y,qt),A.disabled=!s.name,n(Ze,Kt)},[()=>i()("wizard.character.step5_title"),()=>i()("wizard.character.step5_subtitle"),()=>i()("wizard.character.step5_character_name_label"),()=>i()("wizard.character.step5_character_name_placeholder"),()=>i()("wizard.character.step5_random_name_tooltip"),()=>i()("wizard.character.step5_player_name_label"),()=>i()("wizard.character.step5_player_name_placeholder"),()=>i()("wizard.character.step5_ready_title"),()=>i()("wizard.character.step5_ready_message"),()=>i()("wizard.character.create")]),ht(Ie,()=>s.name,Ke=>s.name=Ke),ht(Oe,()=>s.playerName,Ke=>s.playerName=Ke),Je(1,We,()=>bt,()=>({duration:300,delay:100})),v(De,We)};w(O,De=>{r(b)===5&&De(be)},!0)}v(we,Ce)};w(ze,we=>{r(b)===4?we(ye):we(He,!1)},!0)}v(Se,de)};w(Te,Se=>{r(b)===3?Se(Me):Se($e,!1)},!0)}v(W,Q)};w(re,W=>{r(b)===2?W(qe):W(le,!1)},!0)}v(G,F)};w(xe,G=>{r(b)===1?G(Be):G(ke,!1)})}e(R),e(U),e(C),x((G,F)=>{n(he,G),n(q,F)},[()=>i()("wizard.character.title"),()=>i()("wizard.character.cancel")]),Je(3,C,()=>bt,()=>({duration:200})),v(T,C)};w(B,T=>{u()&&T(J)})}v(h,I),Tt(),o()}Mt(["click"]);var fo=f('<div class="ml-auto flex items-center h-full self-center"><div class="w-3 h-3 rounded-full bg-indigo-500 shadow-[0_0_10px_rgba(99,102,241,0.5)]"></div></div>'),ho=f('<button><div><!></div> <div class="flex-1"><h4 class="font-bold text-sm mb-1"> </h4> <p class="text-[10px] opacity-70 leading-relaxed"> </p></div> <!></button>'),bo=f('<div class="space-y-3 pt-4 border-t border-slate-800"><label class="text-xs font-black uppercase tracking-widest text-slate-500 flex items-center gap-2"><!> </label> <div class="grid grid-cols-1 gap-3"></div></div>'),mo=f('<div class="space-y-6"><div><label for="settings-player-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center gap-1"><!> </label> <input id="settings-player-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/> <p class="text-[10px] text-slate-500 mt-1">O nome do jogador associado a este personagem.</p></div> <!></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-8"><button class="flex-1 bg-slate-700 hover:bg-slate-600 transition-all py-4 sm:py-3 rounded-xl text-white font-bold active:scale-95"> </button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 transition-all py-4 sm:py-3 rounded-xl text-white font-bold shadow-lg shadow-indigo-900/20 active:scale-95"> </button></div>',1);function _o(h,c){Pt(c,!0);const l=()=>Ue(Ft,"$t",p),[p,i]=At();let d=Et(c,"isOpen",3,!1),o=Et(c,"characterData",3,null),u=Ee(""),b=Ee("standard"),s=[{value:"standard",label:"Standard",desc:"Sistema de magia padrão do Shadow of the Demon Lord.",icon:kr,disabled:!1},{value:"forbidden_rules",label:"Forbidden Rules",desc:"Coming Soon",icon:os,disabled:!0},{value:"uncanny_arcana",label:"Uncanny Arcana",desc:"Coming Soon",icon:cr,disabled:!0}];va(()=>{d()&&o()&&(m(u,o().playerName||"",!0),m(b,o().magicSystem||"standard",!0))});function E(){c.onSave({playerName:r(u),magicSystem:r(b)})}{let $=jt(()=>l()("character.settings.title_label"));_r(h,{get isOpen(){return d()},get onClose(){return c.onClose},get title(){return`⚙️ ${r($)??""}`},maxWidth:"max-w-md",children:(M,X)=>{var V=mo(),L=D(V),k=t(L),te=t(k),_=t(te);Ca(_,{size:12});var H=a(_);e(te);var N=a(te,2);ft(N),Gt(2),e(k);var I=a(k,2);{var B=P=>{var ae=bo(),fe=t(ae),ie=t(fe);cr(ie,{size:14});var he=a(ie);e(fe);var ne=a(fe,2);mt(ne,21,()=>s,Ct,(Pe,q)=>{var U=ho();U.__click=()=>!r(q).disabled&&m(b,r(q).value,!0);var R=t(U),xe=t(R);ss(xe,()=>r(q).icon,(W,Q)=>{Q(W,{size:20})}),e(R);var Be=a(R,2),ke=t(Be),G=t(ke,!0);e(ke);var F=a(ke,2),re=t(F,!0);e(F),e(Be);var qe=a(Be,2);{var le=W=>{var Q=fo();v(W,Q)};w(qe,W=>{r(b)===r(q).value&&W(le)})}e(U),x(()=>{Re(U,1,`flex items-start gap-4 p-4 rounded-xl border text-left transition-all ${r(b)===r(q).value?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"} ${r(q).disabled?"opacity-50 cursor-not-allowed":""}`),U.disabled=r(q).disabled,Re(R,1,`mt-1 p-2 rounded-lg bg-slate-800 ${r(b)===r(q).value?"text-indigo-400":"text-slate-500"}`),n(G,r(q).label),n(re,r(q).desc)}),v(Pe,U)}),e(ne),e(ae),x(Pe=>n(he,` ${Pe??""}`),[()=>l()("character.settings.magic_system")]),v(P,ae)};w(I,P=>{o()?.system==="sofdl"&&P(B)})}e(L);var J=a(L,2),T=t(J);T.__click=function(...P){c.onClose?.apply(this,P)};var C=t(T,!0);e(T);var S=a(T,2);S.__click=E;var z=t(S,!0);e(S),e(J),x((P,ae,fe)=>{n(H,` ${P??""}`),n(C,ae),n(z,fe)},[()=>l()("character.settings.player_name"),()=>l()("common.buttons.cancel")||"Cancelar",()=>l()("common.buttons.save")||"Salvar"]),ht(N,()=>r(u),P=>m(u,P)),v(M,V)},$$slots:{default:!0}})}Tt(),i()}Mt(["click"]);var xo=f('<img alt="Avatar" class="w-10 h-10 rounded-full border-2 border-indigo-500/50 shadow-lg object-cover"/>'),wo=f('<div class="w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white border-2 border-indigo-400/30 shadow-lg"><span class="font-bold text-lg"><!></span></div>'),yo=f('<div class="absolute right-0 top-full mt-2 w-48 bg-slate-800 rounded-xl shadow-xl border border-slate-700 p-2 z-50 animate-in fade-in slide-in-from-top-2"><div class="px-3 py-2 border-b border-slate-700 mb-2"><p class="text-xs text-slate-400"> </p> <p class="text-sm font-bold text-white truncate"> </p></div> <button class="w-full flex items-center gap-2 px-3 py-2 text-slate-300 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors text-sm"><!> </button></div>  <div class="fixed inset-0 z-40"></div>',1),ko=f('<div class="relative"><button><!> <div class="absolute bottom-1 right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-slate-900"></div></button> <!></div>'),$o=f('<div class="w-4 h-4 rounded-full border-2 border-slate-300 border-t-slate-600 animate-spin"></div>'),So=Nr('<svg class="w-4 h-4" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg>'),zo=f("<button><!> <span> </span></button>");function Co(h,c){Pt(c,!0);const l=()=>Ue(rt,"$googleSession",i),p=()=>Ue(Ft,"$t",i),[i,d]=At();let o=Et(c,"className",3,""),u=Ee(!1);var b=_e(),s=D(b);{var E=M=>{var X=ko(),V=t(X);V.__click=()=>m(u,!r(u));var L=t(V);{var k=N=>{var I=xo();x(()=>Fe(I,"src",l().userProfile.picture)),v(N,I)},te=N=>{var I=wo(),B=t(I),J=t(B);{var T=S=>{var z=Ir();x(P=>n(z,P),[()=>l().userProfile.name[0].toUpperCase()]),v(S,z)},C=S=>{Ca(S,{size:20})};w(J,S=>{l().userProfile?.name?S(T):S(C,!1)})}e(B),e(I),v(N,I)};w(L,N=>{l().userProfile?.picture?N(k):N(te,!1)})}Gt(2),e(V);var _=a(V,2);{var H=N=>{var I=yo(),B=D(I),J=t(B),T=t(J),C=t(T,!0);e(T);var S=a(T,2),z=t(S,!0);e(S),e(J);var P=a(J,2);P.__click=()=>{Ns(),m(u,!1)};var ae=t(P);rs(ae,{size:14});var fe=a(ae);e(P),e(B);var ie=a(B,2);ie.__click=()=>m(u,!1),x((he,ne,Pe)=>{n(C,he),n(z,ne),n(fe,` ${Pe??""}`)},[()=>p()("common.auth.signed_in_as"),()=>l().userProfile?.name??p()("common.auth.user"),()=>p()("common.auth.logout")]),v(N,I)};w(_,N=>{r(u)&&N(H)})}e(X),x(N=>{Re(V,1,`flex items-center gap-2 p-1 rounded-full hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-700 ${o()??""}`),Fe(V,"title",N)},[()=>l().userProfile?.name||p()("common.auth.user")]),v(M,X)},$=M=>{var X=zo();X.__click=function(...H){Er?.apply(this,H)};var V=t(X);{var L=H=>{var N=$o();v(H,N)},k=H=>{var N=So();v(H,N)};w(V,H=>{l().isInited?H(k,!1):H(L)})}var te=a(V,2),_=t(te,!0);e(te),e(X),x(H=>{X.disabled=!l().isInited,Re(X,1,`flex items-center gap-2 px-4 py-2 bg-white text-slate-900 hover:bg-slate-100 rounded-full font-bold text-xs transition-all shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-wait disabled:scale-100 disabled:shadow-none ${o()??""}`),n(_,H)},[()=>p()("common.auth.login")]),v(M,X)};w(s,M=>{l().signedIn?M(E):M($,!1)})}v(h,b),Tt(),d()}Mt(["click"]);var Eo=f('<span class="w-2 h-2 rounded-full bg-amber-500"></span> <span class="text-amber-400">Auth: Init Failed</span>',1),Po=f('<span class="w-2 h-2 rounded-full bg-amber-500"></span> <span class="text-amber-400">Auth: Not Ready</span>',1),To=f('<span class="w-2 h-2 rounded-full bg-slate-600"></span> <span> </span>',1),Mo=f('<span class="w-2 h-2 rounded-full bg-indigo-500 animate-pulse"></span> <span> </span>',1),No=f('<span class="w-2 h-2 rounded-full bg-emerald-500"></span> <span> </span>',1),Io=f('<span class="w-2 h-2 rounded-full bg-red-500"></span> <span> </span>',1),jo=f('<span class="w-2 h-2 rounded-full bg-slate-500"></span> <span> </span>',1),Ao=f('<div class="mt-1.5 pt-1.5 border-t border-slate-800 text-[9px] text-slate-400 opacity-80 font-medium flex justify-between items-center gap-4"><span> </span> <span> </span></div>'),Do=f('<div class="mt-1 text-[9px] text-slate-400 opacity-60 italic"> </div>'),Oo=f('<div class="absolute top-full right-0 mt-3 whitespace-nowrap bg-slate-900/95 backdrop-blur-md text-white text-[10px] font-bold py-2 px-3 rounded-lg shadow-2xl border border-slate-700/50 z-[100] pointer-events-none min-w-[120px]"><div class="flex items-center gap-2"><!></div> <!></div>'),Uo=f('<div class="relative flex items-center"><button class="flex items-center justify-center p-2 rounded-xl hover:bg-slate-800/50 transition-all active:scale-95 group focus:outline-none"><!></button> <!></div>');function Bo(h,c){Pt(c,!0);const l=()=>Ue(rt,"$googleSession",u),p=()=>Ue(Ft,"$t",u),i=()=>Ue(Na,"$authError",u),d=()=>Ue(Zt,"$syncStatus",u),o=()=>Ue(ar,"$lastSyncTime",u),[u,b]=At();let s=Ee(!1);function E(_){return new Date(_).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var $=Uo(),M=t($);M.__click=()=>l().signedIn?tr():Er();var X=t(M);{var V=_=>{ps(_,{size:20,class:"text-amber-500"})},L=_=>{var H=_e(),N=D(H);{var I=J=>{ds(J,{size:20,class:"text-slate-600 group-hover:text-slate-400"})},B=J=>{var T=_e(),C=D(T);{var S=P=>{er(P,{size:20,class:"animate-spin text-indigo-400"})},z=P=>{var ae=_e(),fe=D(ae);{var ie=ne=>{ns(ne,{size:20,class:"text-emerald-400 group-hover:text-emerald-300"})},he=ne=>{var Pe=_e(),q=D(Pe);{var U=xe=>{Zr(xe,{size:20,class:"text-red-400"})},R=xe=>{cs(xe,{size:20,class:"text-slate-400 group-hover:text-slate-300"})};w(q,xe=>{d()==="error"?xe(U):xe(R,!1)},!0)}v(ne,Pe)};w(fe,ne=>{d()==="success"?ne(ie):ne(he,!1)},!0)}v(P,ae)};w(C,P=>{d()==="syncing"?P(S):P(z,!1)},!0)}v(J,T)};w(N,J=>{l().signedIn?J(B,!1):J(I)},!0)}v(_,H)};w(X,_=>{i()?_(V):_(L,!1)})}e(M);var k=a(M,2);{var te=_=>{var H=Oo(),N=t(H),I=t(N);{var B=z=>{var P=Eo();Gt(2),v(z,P)},J=z=>{var P=_e(),ae=D(P);{var fe=he=>{var ne=Po();Gt(2),v(he,ne)},ie=he=>{var ne=_e(),Pe=D(ne);{var q=R=>{var xe=To(),Be=a(D(xe),2),ke=t(Be,!0);e(Be),x(G=>n(ke,G),[()=>p()("common.status.offline")]),v(R,xe)},U=R=>{var xe=_e(),Be=D(xe);{var ke=F=>{var re=Mo(),qe=a(D(re),2),le=t(qe,!0);e(qe),x(W=>n(le,W),[()=>p()("common.status.syncing")]),v(F,re)},G=F=>{var re=_e(),qe=D(re);{var le=Q=>{var Te=No(),Me=a(D(Te),2),$e=t(Me,!0);e(Me),x(Se=>n($e,Se),[()=>p()("common.status.saved")]),v(Q,Te)},W=Q=>{var Te=_e(),Me=D(Te);{var $e=de=>{var ze=Io(),ye=a(D(ze),2),He=t(ye,!0);e(ye),x(we=>n(He,we),[()=>p()("common.status.error")]),v(de,ze)},Se=de=>{var ze=jo(),ye=a(D(ze),2),He=t(ye,!0);e(ye),x(we=>n(He,we),[()=>p()("common.status.synced")]),v(de,ze)};w(Me,de=>{d()==="error"?de($e):de(Se,!1)},!0)}v(Q,Te)};w(qe,Q=>{d()==="success"?Q(le):Q(W,!1)},!0)}v(F,re)};w(Be,F=>{d()==="syncing"?F(ke):F(G,!1)},!0)}v(R,xe)};w(Pe,R=>{l().signedIn?R(U,!1):R(q)},!0)}v(he,ne)};w(ae,he=>{i()==="not_initialized"?he(fe):he(ie,!1)},!0)}v(z,P)};w(I,z=>{i()==="init_failed"?z(B):z(J,!1)})}e(N);var T=a(N,2);{var C=z=>{var P=Ao(),ae=t(P),fe=t(ae,!0);e(ae);var ie=a(ae,2),he=t(ie,!0);e(ie),e(P),x((ne,Pe)=>{n(fe,ne),n(he,Pe)},[()=>p()("common.status.last_sync"),()=>E(o())]),v(z,P)},S=z=>{var P=_e(),ae=D(P);{var fe=ie=>{var he=Do(),ne=t(he,!0);e(he),x(Pe=>n(ne,Pe),[()=>p()("common.auth.login")]),v(ie,he)};w(ae,ie=>{l().signedIn||ie(fe)},!0)}v(z,P)};w(T,z=>{l().signedIn&&o()?z(C):z(S,!1)})}e(H),Je(3,H,()=>bt,()=>({duration:150})),v(_,H)};w(k,_=>{r(s)&&_(te)})}e($),x(_=>Fe(M,"aria-label",_),[()=>p()("common.status.label")]),da("mouseenter",M,()=>m(s,!0)),da("mouseleave",M,()=>m(s,!1)),da("focus",M,()=>m(s,!0)),da("blur",M,()=>m(s,!1)),v(h,$),Tt(),b()}Mt(["click"]);var Go=f('<span class="text-[10px] text-slate-500 font-medium leading-tight mt-0.5"> </span>'),Lo=f('<div class="flex flex-col"><span> </span> <!></div>'),Ro=f('<div class="absolute inset-0 flex items-center justify-center"><div class="w-1.5 h-1.5 rounded-full bg-indigo-600"></div></div>'),Fo=f("<div><!> <div><div><!></div></div></div>");function br(h,c){Pt(c,!0);let l=Et(c,"checked",3,!1),p=Et(c,"label",3,""),i=Et(c,"description",3,""),d=Et(c,"disabled",3,!1);function o(){d()||c.onToggle(!l())}var u=Fo();u.__click=o;var b=t(u);{var s=V=>{var L=Lo(),k=t(L),te=t(k,!0);e(k);var _=a(k,2);{var H=N=>{var I=Go(),B=t(I,!0);e(I),x(()=>n(B,i())),v(N,I)};w(_,N=>{i()&&N(H)})}e(L),x(()=>{Re(k,1,`text-sm font-black uppercase tracking-widest transition-colors ${l()?"text-indigo-400":"text-slate-300 group-hover:text-white"}`),n(te,p())}),v(V,L)};w(b,V=>{(p()||i())&&V(s)})}var E=a(b,2),$=t(E),M=t($);{var X=V=>{var L=Ro();v(V,L)};w(M,V=>{l()&&V(X)})}e($),e(E),e(u),x(()=>{Re(u,1,`flex items-center justify-between gap-4 p-1 group ${d()?"opacity-50 grayscale":"cursor-pointer"}`),Re(E,1,`relative w-12 h-6 rounded-full transition-all duration-300 ease-in-out ${l()?"bg-indigo-600 shadow-[0_0_15px_rgba(79,70,229,0.4)]":"bg-slate-800 border border-white/5"}`),Re($,1,`absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)] shadow-md ${l()?"translate-x-6":"translate-x-0"}`)}),v(h,u),Tt()}Mt(["click"]);var Ho=f('<div class="absolute top-2 right-2 text-primary-400"><!></div>'),Wo=f('<button><div class="w-12 h-12 rounded-full shadow-lg relative border-2 border-white/10 overflow-hidden"><div class="absolute inset-0 flex items-center justify-center font-bold text-sm">20</div></div> <span> </span> <!></button>'),Vo=f('<div class="h-full flex flex-col"><div class="h-48 bg-black/30 rounded-xl relative overflow-hidden shrink-0 mb-4 border border-white/5"><div class="w-full h-full"></div> <div class="absolute bottom-2 left-2 text-xs text-white/50 bg-black/50 px-2 py-1 rounded">Preview</div></div> <div class="flex-1 overflow-y-auto pr-2 custom-scrollbar"><div class="grid grid-cols-2 sm:grid-cols-3 gap-3"></div></div></div>');function qo(h,c){Pt(c,!0);const l=()=>Ue(Qt,"$appSettings",p),[p,i]=At();let d,o;const u=Object.entries(Ga).map(([L,k])=>({id:L,...k}));let b=Ee(za(l().diceTheme||"default"));Aa(async()=>{o=new Gr(d,{assetPath:"/assets/dice-box/",scale:6,theme_surface:r(b),theme_customColorset:Ga[r(b)]?.dice,theme_colorset:r(b),gravity_multiplier:400,baseScale:45,strength:1,onRollComplete:()=>{}}),await o.initialize(),await o.showSelector(["d20",{type:"d6",style:"boon"},{type:"d6",style:"bane"}])});async function s(L){m(b,L,!0),Or(Qt,rr(l).diceTheme=L,rr(l));const k=Ga[L];o&&k&&(await o.updateConfig({theme_surface:L,theme_colorset:L,theme_customColorset:k.dice}),await o.showSelector(["d20",{type:"d6",style:"boon"},{type:"d6",style:"bane"}]))}var E=Vo(),$=t(E),M=t($);ls(M,L=>d=L,()=>d),Gt(2),e($);var X=a($,2),V=t(X);mt(V,21,()=>u,Ct,(L,k)=>{var te=Wo();te.__click=()=>s(r(k).id);var _=t(te),H=t(_);e(_);var N=a(_,2);let I;var B=t(N,!0);e(N);var J=a(N,2);{var T=C=>{var S=Ho(),z=t(S);Sa(z,{size:14}),e(S),v(C,S)};w(J,C=>{r(b)===r(k).id&&C(T)})}e(te),x((C,S)=>{Re(te,1,`relative group flex flex-col items-center gap-2 p-3 rounded-xl border transition-all duration-200
                    ${r(b)===r(k).id?"bg-primary/20 border-primary/50 ring-1 ring-primary/50":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/10"}`),Fe(te,"aria-label",`Select theme ${r(k).name??""}`),ka(_,`background: ${C??""};`),ka(H,`color: ${S??""};`),I=Re(N,1,"text-xs font-medium text-center truncate w-full px-1",null,I,{"text-primary-300":r(b)===r(k).id,"text-zinc-400":r(b)!==r(k).id}),n(B,r(k).name)},[()=>Array.isArray(r(k).dice.background)?r(k).dice.background[0]:r(k).dice.background,()=>Array.isArray(r(k).dice.foreground)?r(k).dice.foreground[0]:r(k).dice.foreground]),v(L,te)}),e(V),e(X),e(E),v(h,E),Tt(),i()}Mt(["click"]);var Ko=f('<button class="p-2 -ml-2 hover:bg-white/5 rounded-full text-slate-400 hover:text-white transition-all active:scale-95"><!></button>'),Yo=f('<div class="p-2 bg-indigo-500/10 rounded-xl border border-indigo-500/20"><!></div>'),Jo=f('<button class="p-2 hover:bg-white/5 rounded-full text-slate-400 hover:text-white transition-all active:scale-95"><!></button>'),Xo=f('<option class="bg-slate-900 text-white"> </option>'),Zo=f('<button class="text-[10px] text-cyan-400 hover:text-white uppercase font-bold px-2 py-0.5 hover:bg-cyan-500/10 rounded transition-all shrink-0"> </button>'),Qo=f('<div class="space-y-4"><div class="flex items-center gap-2 mb-2 text-pink-400"><!> <h3 class="text-xs font-black uppercase tracking-widest"> </h3></div> <div class="bg-white/5 rounded-2xl p-4 border border-white/5 h-[500px] overflow-hidden"><!></div></div>'),ei=f('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-xs text-indigo-400 hover:text-white bg-indigo-500/10 hover:bg-indigo-500 px-2 py-1 rounded transition-all">Google</button>'),ti=f('<div class="p-4 bg-white/[0.02] border-t border-white/5"><button class="w-full bg-slate-800 hover:bg-slate-700 text-white font-black uppercase tracking-widest py-3 rounded-2xl transition-all active:scale-[0.98] text-sm"> </button></div>'),ai=f('<div class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center md:p-4"><div class="bg-slate-900 border-white/10 w-full md:max-w-md md:rounded-3xl shadow-2xl overflow-hidden flex flex-col h-full md:h-auto md:max-h-[90vh]"><div class="px-6 py-6 border-b border-white/5 flex items-center justify-between bg-white/[0.02]"><div class="flex items-center gap-3"><!> <div><h2 class="text-lg font-black text-white uppercase tracking-tight"> </h2> <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest"> </p></div></div> <!></div> <div class="flex-1 p-6 space-y-8 overflow-y-auto custom-scrollbar pb-32 md:pb-6 svelte-14b6qd9"><div class="space-y-4"><div class="flex items-center gap-2 mb-2 text-indigo-400"><!> <h3 class="text-xs font-black uppercase tracking-widest"> </h3></div> <div class="space-y-6"><!> <!></div></div> <div class="space-y-4"><div class="flex items-center gap-2 mb-2 text-cyan-400"><!> <h3 class="text-xs font-black uppercase tracking-widest"> </h3></div> <div class="space-y-4"><div><label for="settings-tracker-url" class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1"> </label> <div class="relative"><select id="settings-tracker-url" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-3 pr-10 text-white focus:border-cyan-500 outline-none transition-all text-xs appearance-none cursor-pointer"></select> <div class="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400"><!></div></div> <div class="flex justify-between items-start mt-2"><p class="text-[10px] text-slate-500 max-w-[200px]"> </p> <!></div></div></div></div> <!> <div class="space-y-4"><div class="flex items-center gap-2 mb-2 text-amber-400"><!> <h3 class="text-xs font-black uppercase tracking-widest"> </h3></div> <div class="grid grid-cols-1 gap-2"><button><div class="flex items-center gap-3"><span class="text-xl">🇧🇷</span> <span class="font-bold">Português (Brasil)</span></div> <!></button> <button><div class="flex items-center gap-3"><span class="text-xl">🇺🇸</span> <span class="font-bold">English (US)</span></div> <!></button></div></div> <div class="space-y-4"><div class="flex items-center gap-2 mb-2 text-indigo-400"><!> <h3 class="text-xs font-black uppercase tracking-widest"> </h3></div> <div class="grid grid-cols-1 gap-4"><div><label for="settings-user-name" class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1"> </label> <div class="relative"><input id="settings-user-name" type="text" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-3 pr-10 text-white focus:border-indigo-500 outline-none transition-all"/> <!></div></div></div></div> <div class="space-y-4"><div class="flex items-center gap-2 mb-2 text-emerald-400"><!> <h3 class="text-xs font-black uppercase tracking-widest"> </h3></div> <div class="bg-white/5 rounded-2xl p-4 border border-white/5"><div class="flex justify-between items-center opacity-50 cursor-not-allowed"><div class="flex flex-col"><span class="text-sm font-black uppercase tracking-widest text-slate-400"> </span> <span class="text-[10px] text-slate-500"> </span></div> <div class="w-12 h-6 bg-slate-800 rounded-full border border-white/5 p-1 relative"><div class="w-4 h-4 bg-slate-600 rounded-full"></div></div></div></div></div> <div class="pt-4 border-t border-white/5 flex flex-col items-center gap-4 text-center"><p class="text-[10px] text-slate-500 leading-relaxed max-w-[250px]"> </p></div></div> <!></div></div>');function ri(h,c){Pt(c,!0);const l=()=>Ue(Ft,"$t",u),p=()=>Ue(Qt,"$appSettings",u),i=()=>Ue(Ra,"$trackerUrl",u),d=()=>Ue(qa,"$locale",u),o=()=>Ue(rt,"$googleSession",u),[u,b]=At();let s=Et(c,"isOpen",3,!1),E=Ee(!1);Aa(()=>{const k=()=>m(E,window.innerWidth<768);return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)});function $(k,te){Qt.update(_=>({..._,[k]:te}))}function M(k){qa.set(k),localStorage.setItem("user_locale",k)}var X=_e(),V=D(X);{var L=k=>{var te=ai();te.__click=function(...j){c.onClose?.apply(this,j)};var _=t(te);_.__click=j=>j.stopPropagation();var H=t(_),N=t(H),I=t(N);{var B=j=>{var Y=Ko();Y.__click=function(...ue){c.onClose?.apply(this,ue)};var je=t(Y);Lr(je,{size:24}),e(Y),v(j,Y)},J=j=>{var Y=Yo(),je=t(Y);Qa(je,{size:20,class:"text-indigo-400"}),e(Y),v(j,Y)};w(I,j=>{r(E)?j(B):j(J,!1)})}var T=a(I,2),C=t(T),S=t(C,!0);e(C);var z=a(C,2),P=t(z,!0);e(z),e(T),e(N);var ae=a(N,2);{var fe=j=>{var Y=Jo();Y.__click=function(...ue){c.onClose?.apply(this,ue)};var je=t(Y);mr(je,{size:24}),e(Y),v(j,Y)};w(ae,j=>{r(E)||j(fe)})}e(H);var ie=a(H,2),he=t(ie),ne=t(he),Pe=t(ne);vs(Pe,{size:16});var q=a(Pe,2),U=t(q,!0);e(q),e(ne);var R=a(ne,2),xe=t(R);{let j=jt(()=>l()("settings.options.auto_open_history.label")),Y=jt(()=>l()("settings.options.auto_open_history.description"));br(xe,{get checked(){return p().autoOpenHistory},onToggle:je=>$("autoOpenHistory",je),get label(){return r(j)},get description(){return r(Y)}})}var Be=a(xe,2);{let j=jt(()=>l()("settings.options.enable_3d_dice.label")),Y=jt(()=>l()("settings.options.enable_3d_dice.description"));br(Be,{get checked(){return p().enable3DDice},onToggle:je=>$("enable3DDice",je),get label(){return r(j)},get description(){return r(Y)}})}e(R),e(he);var ke=a(he,2),G=t(ke),F=t(G);wr(F,{size:16});var re=a(F,2),qe=t(re,!0);e(re),e(G);var le=a(G,2),W=t(le),Q=t(W),Te=t(Q,!0);e(Q);var Me=a(Q,2),$e=t(Me);$e.__change=j=>Ra.set(j.currentTarget.value),mt($e,21,()=>Wr,Ct,(j,Y)=>{var je=Xo(),ue=t(je,!0);e(je);var ee={};x(()=>{n(ue,r(Y).label),ee!==(ee=r(Y).value)&&(je.value=(je.__value=r(Y).value)??"")}),v(j,je)}),e($e);var Se;jr($e);var de=a($e,2),ze=t(de);Qr(ze,{size:14}),e(de),e(Me);var ye=a(Me,2),He=t(ye),we=t(He,!0);e(He);var Ce=a(He,2);{var O=j=>{var Y=Zo();Y.__click=()=>Ra.set(or);var je=t(Y,!0);e(Y),x(ue=>n(je,ue),[()=>l()("common.buttons.reset")||"Reset"]),v(j,Y)};w(Ce,j=>{i()!==or&&j(O)})}e(ye),e(W),e(le),e(ke);var be=a(ke,2);{var De=j=>{var Y=Qo(),je=t(Y),ue=t(je);Ma(ue,{size:16});var ee=a(ue,2),Qe=t(ee,!0);e(ee),e(je);var tt=a(je,2),et=t(tt);qo(et,{}),e(tt),e(Y),x(Ye=>n(Qe,Ye),[()=>l()("settings.sections.dice_theme")]),Je(3,Y,()=>Ya),v(j,Y)};w(be,j=>{p().enable3DDice&&j(De)})}var We=a(be,2),se=t(We),Z=t(se);Za(Z,{size:16});var pe=a(Z,2),Ae=t(pe,!0);e(pe),e(se);var K=a(se,2),oe=t(K);oe.__click=()=>M("pt");var Ve=a(t(oe),2);{var Ge=j=>{Sa(j,{size:18,class:"text-indigo-400"})};w(Ve,j=>{d()==="pt"&&j(Ge)})}e(oe);var nt=a(oe,2);nt.__click=()=>M("en");var vt=a(t(nt),2);{var Ie=j=>{Sa(j,{size:18,class:"text-indigo-400"})};w(vt,j=>{d()==="en"&&j(Ie)})}e(nt),e(K),e(We);var ge=a(We,2),ce=t(ge),me=t(ce);Ca(me,{size:16});var Ne=a(me,2),Xe=t(Ne,!0);e(Ne),e(ce);var Le=a(ce,2),Oe=t(Le),st=t(Oe),_t=t(st,!0);e(st);var xt=a(st,2),kt=t(xt);ft(kt),kt.__input=j=>$("userName",j.currentTarget.value);var g=a(kt,2);{var ve=j=>{var Y=ei();Y.__click=()=>$("userName",o().userProfile?.name),v(j,Y)};w(g,j=>{!p().userName&&o().userProfile&&j(ve)})}e(xt),e(Oe),e(Le),e(ge);var y=a(ge,2),A=t(y),Ze=t(A);us(Ze,{size:16});var Ke=a(Ze,2),ea=t(Ke,!0);e(Ke),e(A);var Vt=a(A,2),St=t(Vt),lt=t(St),$t=t(lt),Nt=t($t,!0);e($t);var It=a($t,2),qt=t(It,!0);e(It),e(lt),Gt(2),e(St),e(Vt),e(y);var Kt=a(y,2),ta=t(Kt),sa=t(ta,!0);e(ta),e(Kt),e(ie);var ma=a(ie,2);{var aa=j=>{var Y=ti(),je=t(Y);je.__click=function(...ee){c.onClose?.apply(this,ee)};var ue=t(je,!0);e(je),e(Y),x(ee=>n(ue,ee),[()=>l()("common.buttons.close")]),v(j,Y)};w(ma,j=>{r(E)||j(aa)})}e(_),e(te),x((j,Y,je,ue,ee,Qe,tt,et,Ye,dt,at,wt,ut,ot)=>{n(S,j),n(P,Y),n(U,je),n(qe,ue),n(Te,ee),Se!==(Se=i())&&($e.value=($e.__value=i())??"",Ar($e,i())),n(we,Qe),n(Ae,tt),Re(oe,1,`flex items-center justify-between px-4 py-3 rounded-2xl border transition-all ${d()==="pt"?"bg-indigo-600/10 border-indigo-500/50 text-white":"bg-white/5 border-white/5 text-slate-400 hover:bg-white/10"}`),Re(nt,1,`flex items-center justify-between px-4 py-3 rounded-2xl border transition-all ${d()==="en"?"bg-indigo-600/10 border-indigo-500/50 text-white":"bg-white/5 border-white/5 text-slate-400 hover:bg-white/10"}`),n(Xe,et),n(_t,Ye),Fe(kt,"placeholder",dt),Dr(kt,p().userName||""),n(ea,at),n(Nt,wt),n(qt,ut),n(sa,ot)},[()=>l()("settings.title"),()=>l()("settings.description"),()=>l()("settings.sections.interface"),()=>l()("settings.sections.connection")||"Connection",()=>l()("settings.options.tracker_url.label")||"WebRTC Tracker URL",()=>l()("settings.options.tracker_url.description")||"Change this only if you are experiencing connection issues.",()=>l()("common.labels.language")||"Language",()=>l()("settings.sections.identity"),()=>l()("settings.options.user_name.label"),()=>l()("settings.options.user_name.placeholder"),()=>l()("settings.sections.appearance"),()=>l()("settings.options.theme.label"),()=>l()("settings.options.theme.description"),()=>l()("settings.sync_info")]),Je(1,_,()=>ha,()=>r(E)?{x:"100%",duration:600,easing:fa}:{y:20,duration:300}),Je(2,_,()=>ha,()=>r(E)?{x:"100%",duration:600,easing:fa}:{y:20,duration:300}),Je(3,te,()=>bt,()=>({duration:200})),v(k,te)};w(V,k=>{s()&&k(L)})}v(h,X),Tt(),b()}Mt(["click","change","input"]);var si=f('<span class="text-[10px] text-slate-400 font-medium"> </span>'),oi=f('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-indigo-500/40 transition-all relative group flex flex-col shadow-lg hover:shadow-indigo-500/10 border-t-white/5"><div class="flex justify-between items-start mb-4"><div class="flex-1"><h3 class="font-black text-xl text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight truncate pr-16"> </h3> <div class="flex items-center gap-2 mt-1 flex-wrap"><span class="text-[10px] bg-indigo-500/10 text-indigo-400 font-black px-2 py-0.5 rounded uppercase tracking-wider"> </span> <span class="text-[10px] text-slate-500 font-bold uppercase tracking-widest"> </span> <!></div> <div class="mt-2 flex items-center gap-2"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800 text-[9px] text-slate-400 border border-slate-700 font-bold uppercase tracking-wider"><!> </div></div></div> <div class="flex items-center gap-1"><button class="text-slate-700 hover:text-indigo-400 p-2 rounded-xl hover:bg-indigo-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button> <button class="text-slate-700 hover:text-red-400 p-2 rounded-xl hover:bg-red-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button></div></div> <div class="space-y-3 mb-6"><div class="flex items-center justify-between text-xs text-slate-400"><span class="flex items-center gap-1.5 opacity-60"><!> </span> <span class="font-bold text-slate-300 truncate max-w-[150px]"> </span></div></div> <button class="w-full bg-slate-800 hover:bg-indigo-600 text-white py-3 rounded-2xl font-bold transition-all active:scale-[0.98] border border-slate-700 hover:border-indigo-400/30 flex items-center justify-center gap-2"> <!></button></div>'),ii=f('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 col-start-1 row-start-1 w-full"><!> <button class="h-full min-h-[160px] border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center text-slate-500 hover:border-indigo-500 hover:text-indigo-500 transition-all hover:bg-indigo-500/5 gap-2 group shadow-sm bg-slate-900/20"><div class="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-indigo-500/10 group-hover:scale-110 transition-all"><!></div> <span class="font-bold"> </span></button></div>'),ni=f('<span class="text-[9px] bg-emerald-500/10 text-emerald-400 px-2 py-0.5 rounded-full border border-emerald-500/20 font-black uppercase tracking-widest flex items-center gap-1"><!> </span>'),li=f('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-indigo-500/40 transition-all group relative flex flex-col justify-between shadow-lg hover:shadow-indigo-500/10 border-t-white/5"><div class="mb-4"><div class="flex justify-between items-start mb-1"><h3 class="font-black text-2xl text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight"> </h3> <div class="flex items-center gap-1"><!> <button class="text-slate-700 hover:text-indigo-400 p-2 rounded-xl hover:bg-indigo-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button> <button class="text-slate-700 hover:text-red-400 p-2 rounded-xl hover:bg-red-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button></div></div> <p class="text-indigo-400 text-[10px] font-black uppercase tracking-[0.2em] mb-3"> </p> <div class="mb-3"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800 text-[9px] text-slate-400 border border-slate-700 font-bold uppercase tracking-wider"><!> </div></div> <p class="text-sm text-slate-400 line-clamp-2 leading-relaxed h-10"> </p></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white py-3 rounded-2xl font-bold flex items-center justify-center gap-2 border border-indigo-400/20 shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98]"><!> </button></div>'),di=f('<div class="w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"></div> <span class="text-[9px] font-bold text-amber-400 uppercase tracking-wider"> </span>',1),ci=f('<div class="w-1.5 h-1.5 rounded-full bg-emerald-400 shadow-[0_0_8px_rgba(52,211,153,0.5)]"></div> <span class="text-[9px] font-bold text-emerald-400 uppercase tracking-wider"> </span>',1),vi=f('<button class="flex items-center gap-1 cursor-pointer hover:bg-white/5 rounded px-1 -ml-1 transition-colors group" title="Tentar reconectar"><div class="w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"></div> <span class="text-[9px] font-bold text-red-500 uppercase tracking-wider"> </span> <!></button>'),ui=f('<button class="flex items-center gap-1 cursor-pointer hover:bg-white/5 rounded px-1 -ml-1 transition-colors group"><div class="w-1.5 h-1.5 rounded-full bg-slate-500"></div> <span class="text-[9px] font-bold text-slate-500 uppercase tracking-wider"> </span> <!></button>'),pi=f('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-emerald-500/40 transition-all group relative flex flex-col justify-between shadow-xl border-t-white/5"><div><h3 class="font-black text-2xl text-white group-hover:text-emerald-400 mb-2 uppercase tracking-tight"> </h3> <div class="flex items-center gap-2 mb-4"><div class="px-2 py-0.5 bg-slate-800 rounded text-[9px] text-slate-400 font-black uppercase tracking-widest"> </div> <div class="flex items-center gap-1 px-2 py-0.5 bg-emerald-500/10 rounded text-[9px] text-emerald-400 font-black uppercase tracking-wider"><div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div> </div></div> <div class="mb-4"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800/50 text-[9px] text-slate-400 border border-slate-700/50 font-bold uppercase tracking-wider"><!> </div></div> <p class="text-sm text-slate-400 line-clamp-3 leading-relaxed mb-6 h-15"> </p></div> <button class="w-full bg-emerald-600 hover:bg-emerald-500 text-white py-3 rounded-2xl font-black uppercase text-xs tracking-[0.1em] flex items-center justify-center gap-2 border border-emerald-400/20 transition-all active:scale-[0.98] group"> <!></button></div>'),gi=f('<div class="col-span-full py-12 flex flex-col items-center text-center opacity-40"><div class="w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center text-slate-600 mb-3 border border-slate-700 border-dashed"><!></div> <h3 class="text-lg font-black uppercase tracking-widest text-slate-500"> </h3> <p class="text-slate-600 max-w-sm mt-2 text-sm"> </p></div>'),fi=f('<div class="space-y-8 col-start-1 row-start-1 w-full"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <button class="h-full min-h-[160px] border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center text-slate-500 hover:border-indigo-500 hover:text-indigo-500 transition-all hover:bg-indigo-500/5 gap-2 group shadow-sm bg-slate-900/20"><div class="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-indigo-500/10 group-hover:scale-110 transition-all"><!></div> <span class="font-bold"> </span></button></div> <div><div class="flex items-center gap-3 mb-4"><div class="h-px flex-1 bg-slate-800"></div> <h3 class="text-xs font-black uppercase tracking-widest text-emerald-400 flex items-center gap-2"><!> </h3> <div class="flex items-center gap-2 ml-2 px-2 py-1 bg-slate-900 rounded-full border border-slate-800"><!></div> <div class="h-px flex-1 bg-slate-800"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <!></div></div></div>'),hi=f('<div class="fixed top-0 left-0 w-full flex justify-center items-center pointer-events-none z-[100] transition-all duration-300"><div class="bg-indigo-600 rounded-full p-2.5 shadow-xl border border-indigo-500/50 text-white"><!></div></div> <div class="animate-in fade-in px-4 md:px-8 max-w-7xl mx-auto pb-32 md:pb-20"><header class="mb-8 flex justify-between items-center border-b border-slate-800/50 pt-4 md:pt-8 pb-4 sticky top-0 bg-slate-950/80 backdrop-blur-md z-40 -mx-4 px-4 md:-mx-8 md:px-8 transition-all"><div class="flex items-center gap-3"><img alt="Schwalb Vault Logo" class="h-10 md:h-14 w-auto rounded-xl"/> <h1 class="text-xl md:text-3xl font-bold text-white flex items-center gap-2 text-gradient m-0 leading-none"><span class="hidden md:inline">Schwalb Vault</span> <span class="md:hidden">Schwalb Vault</span></h1></div> <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 bg-slate-900/50 p-1.5 rounded-2xl border border-slate-800 glass shadow-xl backdrop-blur-md"><div class="relative flex"><div class="absolute inset-y-0 w-1/2 bg-indigo-600 rounded-xl transition-transform duration-300 ease-out shadow-lg shadow-indigo-500/20"></div> <button><!> </button> <button><!> </button></div></div> <div class="flex items-center justify-end min-w-[40px] gap-3"><!> <button class="p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all"><!></button> <!></div></header> <div class="md:hidden fixed bottom-0 left-0 right-0 bg-slate-900/90 backdrop-blur-xl border-t border-slate-800 shadow-2xl rounded-t-2xl z-50 p-2 pb-safe"><div class="relative flex justify-between"><div class="absolute inset-y-0 w-1/2 bg-indigo-600/20 rounded-xl transition-transform duration-300 ease-out"></div> <button><!> <span class="transition-all duration-300"> </span></button> <button><!> <span class="transition-all duration-300"> </span></button></div></div> <div class="min-h-[500px] grid items-start relative"><!></div> <!> <!> <!> <!> <!> <!> <!></div>',1);function bi(h,c){Pt(c,!0);const l=()=>Ue(rt,"$googleSession",b),p=()=>Ue(xr,"$liveCharacters",b),i=()=>Ue(Ja,"$liveCampaigns",b),d=()=>Ue(Ft,"$t",b),o=()=>Ue(Vr,"$lobbyStatus",b),u=()=>Ue(qr,"$publicCampaigns",b),[b,s]=At();let E=Ee(0),$=Ee(0),M=Ee(!1),X=Ee(!1);const V=80;function L(g){window.scrollY===0&&(m(E,g.touches[0].clientY,!0),m(M,!0))}function k(g){if(!r(M))return;const y=g.touches[0].clientY-r(E);y>0&&window.scrollY<=0?m($,Math.min(y*.4,120),!0):(m(M,!1),m($,0))}async function te(){if(r(M))if(m(M,!1),r($)>V){m(X,!0),m($,60);try{navigator&&navigator.vibrate&&navigator.vibrate(50),await tr()}finally{setTimeout(()=>{m(X,!1),m($,0)},1e3)}}else m($,0)}Aa(()=>{Ms();const g=localStorage.getItem("user_locale");return g&&qa.set(g),document.addEventListener("touchmove",k,{passive:!1}),()=>{document.removeEventListener("touchmove",k)}});let _=Ee("characters"),H=Ee("characters"),N=Ee(!1);va(()=>{r(_)!==r(H)&&m(H,r(_),!0)}),va(()=>{l().signedIn&&tr()}),va(()=>{l().signedIn&&(p(),i(),Va())});let I=Ee(!1),B=Ee(null);function J(g){m(B,g,!0),m(I,!0)}function T(g){if(!r(B))return;const ve=r(B).id,A={...gt.get(ve),...g};gt.set(ve,A),m(I,!1)}let C=Ee(!1),S=Ee(!1),z="{}";function P(){m(S,!0)}async function ae(g){const ve=g.id||ir(),y=gt.get(ve)||{};let A;g.system==="sofdl"?A={...y,id:ve,system:"sofdl",name:g.name,playerName:g.playerName||"",ancestry:g.ancestry,level:g.level,attributes:g.attributes||y.attributes||{strength:10,agility:10,intellect:10,will:10},perception:g.perception||y.perception||10,defense:g.defense||10,health:g.health||10,healingRate:g.healingRate||y.healingRate||Math.floor((g.health||10)/4),size:y.size||1,speed:y.speed||10,power:y.power||0,damage:y.damage||0,insanity:y.insanity||0,corruption:y.corruption||0,description:y.description||"",notes:y.notes||"",paths:g.paths||y.paths||{novice:g.novicePath||"",expert:"",master:""},professions:g.professions||y.professions||(g.profession?[g.profession]:[]),languages:y.languages||["Common"],talents:y.talents||[],spells:y.spells||[],equipment:y.equipment||[],effects:y.effects||[]}:(A={...y,id:ve,name:g.name,playerName:g.playerName||"",ancestry:g.ancestry,level:g.level,defense:g.defense,system:g.system||ra,paths:g.paths||y.paths||{novice:g.novicePath||"-",expert:"-",master:"-"},attributes:y.attributes||[{name:d()("modals.mod_targets.str"),value:10,key:"str"},{name:d()("modals.mod_targets.agi"),value:10,key:"agi"},{name:d()("modals.mod_targets.int"),value:10,key:"int"},{name:d()("modals.mod_targets.wil"),value:10,key:"wil"}],speed:y.speed||5,health:g.health,currentHealth:y.currentHealth||g.health,spells:y.spells||[],talents:y.talents||[],equipment:y.equipment||[],afflictions:y.afflictions||[],effects:y.effects||[],currency:y.currency||{gp:0,sp:0,cp:0},languages:y.languages||["Common"]},g.profession&&!A.professions?.includes(g.profession)&&(A.professions=[...A.professions||[],g.profession])),gt.set(ve,A),m(C,!1),m(S,!1),Pa(ca("/characters/[id]",{id:ve}))}let fe=Ee(!1),ie=Ee(!1),he=Ee(null),ne=Ee("{}");function Pe(g=null){g?(m(he,g.id,!0),m(ne,JSON.stringify(g),!0),m(fe,!0)):m(ie,!0)}async function q(g){const ve=r(he)||ir(),y=r(he)?pt.get(ve):{},A={...y,id:ve,name:g.name,description:g.description,gmName:g.gmName,players:y.players||[],backupEnabled:g.backupEnabled||!1,backupHash:g.backupHash||"",system:g.system||ra,tier:g.tier||y.tier||getDefaultTier(g.system||ra),healthDisplayModePlayer:g.healthDisplayModePlayer||y.healthDisplayModePlayer||"bar",healthDisplayModeEnemy:g.healthDisplayModeEnemy||y.healthDisplayModeEnemy||"bar",lastUpdate:Date.now()};g.removePassword?delete A.passwordHash:g.password&&(A.passwordHash=await is(g.password)),pt.set(ve,A),m(fe,!1),m(ie,!1)}let U=Ee(!1),R=Ee(za({title:"",message:"",onConfirm:()=>{}}));function xe(g){m(R,{title:d()("dashboard.campaigns.delete_title"),message:d()("dashboard.campaigns.delete_message"),onConfirm:()=>{console.log("[DEBUG] Deleting campaign with ID:",g);let ve=0;for(const y of pt.keys()){const A=pt.get(y);(y===g||A&&A.id===g)&&(console.log("[DEBUG] Found match for deletion - Key:",y,"Camp ID:",A?.id),pt.delete(y),ve++)}console.log("[DEBUG] Total entries deleted from map:",ve),Bt.set(g,{type:"campaign",deletedAt:Date.now()}),console.log("[DEBUG] Deletion tracked in deletedIdsMap"),Va(),m(U,!1)}},!0),m(U,!0)}function Be(g){m(R,{title:d()("dashboard.characters.delete_title"),message:d()("dashboard.characters.delete_message"),onConfirm:()=>{yt(Ja).forEach(A=>{let Ze=!1;A.members&&A.members.some(Ke=>Ke.id===g)&&(A.members=A.members.filter(Ke=>Ke.id!==g),Ze=!0),A.sessionRoster&&A.sessionRoster.includes(g)&&(A.sessionRoster=A.sessionRoster.filter(Ke=>Ke!==g),Ze=!0),A.activeEnemies&&A.activeEnemies.some(Ke=>Ke.id===g)&&(A.activeEnemies=A.activeEnemies.filter(Ke=>Ke.id!==g),Ze=!0),Ze&&pt.set(A.id,{...A,lastUpdate:Date.now()})}),console.log("[DEBUG] Deleting character with ID:",g);let y=0;for(const A of gt.keys()){const Ze=gt.get(A);(A===g||Ze&&Ze.id===g)&&(console.log("[DEBUG] Found match for deletion - Key:",A,"Char ID:",Ze?.id),gt.delete(A),y++)}console.log("[DEBUG] Total entries deleted from map:",y),Bt.set(g,{type:"character",deletedAt:Date.now()}),console.log("[DEBUG] Deletion tracked in deletedIdsMap"),Va(),m(U,!1)}},!0),m(U,!0)}var ke=hi();da("touchstart",Ba,L),da("touchmove",Ba,k),da("touchend",Ba,te);var G=D(ke),F=t(G),re=t(F);{let g=jt(()=>r(X)?"animate-spin":""),ve=jt(()=>r($)*2);es(re,{get class(){return r(g)},size:20,get style(){return`transform: rotate(${r(ve)??""}deg)`}})}e(F),e(G);var qe=a(G,2),le=t(qe),W=t(le),Q=t(W);Gt(2),e(W);var Te=a(W,2),Me=t(Te),$e=t(Me),Se=a($e,2);Se.__click=()=>m(_,"characters");var de=t(Se);lr(de,{size:18});var ze=a(de);e(Se);var ye=a(Se,2);ye.__click=()=>m(_,"campaigns");var He=t(ye);Ha(He,{size:18});var we=a(He);e(ye),e(Me),e(Te);var Ce=a(Te,2),O=t(Ce);Bo(O,{});var be=a(O,2);be.__click=()=>m(N,!0);var De=t(be);Qa(De,{size:20}),e(be);var We=a(be,2);Co(We,{}),e(Ce),e(le);var se=a(le,2),Z=t(se),pe=t(Z),Ae=a(pe,2);Ae.__click=()=>m(_,"characters");var K=t(Ae);{let g=jt(()=>r(_)==="characters"?2.5:2);lr(K,{size:20,get strokeWidth(){return r(g)},class:"transition-all duration-300"})}var oe=a(K,2),Ve=t(oe,!0);e(oe),e(Ae);var Ge=a(Ae,2);Ge.__click=()=>m(_,"campaigns");var nt=t(Ge);{let g=jt(()=>r(_)==="campaigns"?2.5:2);Ha(nt,{size:20,get strokeWidth(){return r(g)},class:"transition-all duration-300"})}var vt=a(nt,2),Ie=t(vt,!0);e(vt),e(Ge),e(Z),e(se);var ge=a(se,2),ce=t(ge);{var me=g=>{var ve=ii(),y=t(ve);mt(y,1,p,St=>St.id,(St,lt)=>{var $t=oi(),Nt=t($t),It=t(Nt),qt=t(It),Kt=t(qt,!0);e(qt);var ta=a(qt,2),sa=t(ta),ma=t(sa,!0);e(sa);var aa=a(sa,2),j=t(aa);e(aa);var Y=a(aa,2);{var je=Xt=>{var Ut=si(),ia=t(Ut);e(Ut),x(()=>n(ia,`• ${r(lt).playerName??""}`)),v(Xt,Ut)};w(Y,Xt=>{r(lt).playerName&&Xt(je)})}e(ta);var ue=a(ta,2),ee=t(ue),Qe=t(ee);Ta(Qe,{size:10});var tt=a(Qe);e(ee),e(ue),e(It);var et=a(It,2),Ye=t(et);Ye.__click=()=>J(r(lt));var dt=t(Ye);Qa(dt,{size:16}),e(Ye);var at=a(Ye,2);at.__click=()=>Be(r(lt).id);var wt=t(at);sr(wt,{size:16}),e(at),e(et),e(Nt);var ut=a(Nt,2),ot=t(ut),it=t(ot),ct=t(it);Ha(ct,{size:12});var Dt=a(ct);e(it);var zt=a(it,2),Ot=t(zt,!0);e(zt),e(ot),e(ut);var Yt=a(ut,2);Yt.__click=()=>Pa(ca("/characters/[id]",{id:r(lt).id}));var Jt=t(Yt),oa=a(Jt);dr(oa,{size:14,fill:"currentColor"}),e(Yt),e($t),x((Xt,Ut,ia,na,ua,_a)=>{n(Kt,r(lt).name),n(ma,r(lt).ancestry||"Human"),n(j,`${Xt??""} ${r(lt).level??""}`),n(tt,` ${Ut??""}`),Fe(Ye,"title",ia),Fe(at,"title",na),n(Dt,` ${ua??""}`),n(Ot,r(lt).paths?.novice||"-"),n(Jt,`${_a??""} `)},[()=>d()("common.labels.level"),()=>d()(Fa(r(lt).system).nameKey),()=>d()("common.buttons.settings"),()=>d()("common.buttons.delete"),()=>d()("dashboard.characters.paths"),()=>d()("dashboard.characters.open_sheet")]),v(St,$t)});var A=a(y,2);A.__click=()=>P();var Ze=t(A),Ke=t(Ze);La(Ke,{size:32}),e(Ze);var ea=a(Ze,2),Vt=t(ea,!0);e(ea),e(A),e(ve),x(St=>n(Vt,St),[()=>d()("dashboard.characters.new_character")]),Je(1,ve,()=>ha,()=>({x:-100,duration:300,easing:fa})),Je(2,ve,()=>ha,()=>({x:-100,duration:300,easing:fa})),v(g,ve)},Ne=g=>{var ve=fi(),y=t(ve),A=t(y);mt(A,1,i,ue=>ue.id,(ue,ee)=>{var Qe=li(),tt=t(Qe),et=t(tt),Ye=t(et),dt=t(Ye,!0);e(Ye);var at=a(Ye,2),wt=t(at);{var ut=xa=>{var wa=ni(),Ea=t(wa);Za(Ea,{size:10});var Oa=a(Ea);e(wa),x(Ua=>n(Oa,` ${Ua??""}`),[()=>d()("dashboard.campaigns.published")]),v(xa,wa)};w(wt,xa=>{r(ee).isPublished&&xa(ut)})}var ot=a(wt,2);ot.__click=()=>Pe(r(ee));var it=t(ot);Rr(it,{size:16}),e(ot);var ct=a(ot,2);ct.__click=()=>xe(r(ee).id);var Dt=t(ct);sr(Dt,{size:16}),e(ct),e(at),e(et);var zt=a(et,2),Ot=t(zt,!0);e(zt);var Yt=a(zt,2),Jt=t(Yt),oa=t(Jt);Ta(oa,{size:10});var Xt=a(oa);e(Jt),e(Yt);var Ut=a(Yt,2),ia=t(Ut,!0);e(Ut),e(tt);var na=a(tt,2);na.__click=()=>Pa(ca("/campaigns/[id]",{id:r(ee).id}));var ua=t(na);dr(ua,{size:18,fill:"currentColor"});var _a=a(ua);e(na),e(Qe),x((xa,wa,Ea,Oa,Ua,Tr)=>{n(dt,r(ee).name),Fe(ot,"title",xa),Fe(ct,"title",wa),n(Ot,Ea),n(Xt,` ${Oa??""}`),n(ia,Ua),n(_a,` ${Tr??""}`)},[()=>d()("common.buttons.edit"),()=>d()("common.buttons.delete"),()=>r(ee).gmName||d()("common.labels.master"),()=>d()(Fa(r(ee).system||ra).nameKey),()=>r(ee).description||d()("dashboard.campaigns.no_description"),()=>d()("dashboard.campaigns.start_session")]),v(ue,Qe)});var Ze=a(A,2);Ze.__click=()=>Pe();var Ke=t(Ze),ea=t(Ke);La(ea,{size:32}),e(Ke);var Vt=a(Ke,2),St=t(Vt,!0);e(Vt),e(Ze),e(y);var lt=a(y,2),$t=t(lt),Nt=a(t($t),2),It=t(Nt);Za(It,{size:14});var qt=a(It);e(Nt);var Kt=a(Nt,2),ta=t(Kt);{var sa=ue=>{var ee=di(),Qe=a(D(ee),2),tt=t(Qe,!0);e(Qe),x(et=>n(tt,et),[()=>d()("dashboard.status.connecting")]),v(ue,ee)},ma=ue=>{var ee=_e(),Qe=D(ee);{var tt=Ye=>{var dt=ci(),at=a(D(dt),2),wt=t(at,!0);e(at),x(ut=>n(wt,ut),[()=>d()("dashboard.status.connected")]),v(Ye,dt)},et=Ye=>{var dt=_e(),at=D(dt);{var wt=ot=>{var it=vi();it.__click=()=>nr();var ct=a(t(it),2),Dt=t(ct,!0);e(ct);var zt=a(ct,2);er(zt,{size:10,class:"text-red-500 ml-1 group-hover:rotate-180 transition-transform"}),e(it),x(Ot=>n(Dt,Ot),[()=>d()("dashboard.status.error")]),v(ot,it)},ut=ot=>{var it=ui();it.__click=()=>nr();var ct=a(t(it),2),Dt=t(ct,!0);e(ct);var zt=a(ct,2);er(zt,{size:10,class:"text-slate-500 ml-1 group-hover:rotate-180 transition-transform"}),e(it),x(Ot=>n(Dt,Ot),[()=>d()("dashboard.status.disconnected")]),v(ot,it)};w(at,ot=>{o()==="error"?ot(wt):ot(ut,!1)},!0)}v(Ye,dt)};w(Qe,Ye=>{o()==="connected"?Ye(tt):Ye(et,!1)},!0)}v(ue,ee)};w(ta,ue=>{o()==="connecting"?ue(sa):ue(ma,!1)})}e(Kt),Gt(2),e($t);var aa=a($t,2),j=t(aa);mt(j,1,u,ue=>ue.id,(ue,ee)=>{var Qe=pi(),tt=t(Qe),et=t(tt),Ye=t(et,!0);e(et);var dt=a(et,2),at=t(dt),wt=t(at,!0);e(at);var ut=a(at,2),ot=a(t(ut));e(ut),e(dt);var it=a(dt,2),ct=t(it),Dt=t(ct);Ta(Dt,{size:10});var zt=a(Dt);e(ct),e(it);var Ot=a(it,2),Yt=t(Ot,!0);e(Ot),e(tt);var Jt=a(tt,2);Jt.__click=()=>Pa(ca("/campaigns/[id]/invite",{id:r(ee).id}));var oa=t(Jt),Xt=a(oa);La(Xt,{size:18,class:"group-hover:rotate-90 transition-transform"}),e(Jt),e(Qe),x((Ut,ia,na,ua,_a)=>{n(Ye,r(ee).name),n(wt,Ut),n(ot,` ${ia??""}`),n(zt,` ${na??""}`),n(Yt,ua),n(oa,`${_a??""} `)},[()=>r(ee).gmName||d()("common.labels.master"),()=>d()("dashboard.campaigns.online"),()=>d()(Fa(r(ee).system||ra).nameKey),()=>r(ee).description||d()("dashboard.campaigns.public_description"),()=>d()("dashboard.campaigns.join_adventure")]),v(ue,Qe)});var Y=a(j,2);{var je=ue=>{var ee=gi(),Qe=t(ee),tt=t(Qe);wr(tt,{size:32}),e(Qe);var et=a(Qe,2),Ye=t(et,!0);e(et);var dt=a(et,2),at=t(dt,!0);e(dt),e(ee),x((wt,ut)=>{n(Ye,wt),n(at,ut)},[()=>d()("dashboard.campaigns.no_online_campaigns"),()=>d()("dashboard.campaigns.no_online_description")]),v(ue,ee)};w(Y,ue=>{u().length===0&&ue(je)})}e(aa),e(lt),e(ve),x((ue,ee)=>{n(St,ue),n(qt,` ${ee??""}`)},[()=>d()("dashboard.campaigns.new_campaign"),()=>d()("dashboard.campaigns.public_campaigns")]),Je(1,ve,()=>ha,()=>({x:100,duration:300,easing:fa})),Je(2,ve,()=>ha,()=>({x:100,duration:300,easing:fa})),v(g,ve)};w(ce,g=>{r(_)==="characters"?g(me):g(Ne,!1)})}e(ge);var Xe=a(ge,2);go(Xe,{get isOpen(){return r(S)},onClose:()=>m(S,!1),onSave:ae});var Le=a(Xe,2);Hs(Le,{get isOpen(){return r(ie)},onClose:()=>m(ie,!1),onSave:q});var Oe=a(Le,2);Vs(Oe,{get isOpen(){return r(C)},initialData:z,onClose:()=>m(C,!1),onSave:ae});var st=a(Oe,2);ts(st,{get isOpen(){return r(fe)},get initialData(){return r(ne)},onClose:()=>m(fe,!1),onSave:q});var _t=a(st,2);Xr(_t,{get isOpen(){return r(U)},get title(){return r(R).title},get message(){return r(R).message},get onConfirm(){return r(R).onConfirm},onCancel:()=>m(U,!1)});var xt=a(_t,2);_o(xt,{get isOpen(){return r(I)},get characterData(){return r(B)},onClose:()=>m(I,!1),onSave:T});var kt=a(xt,2);ri(kt,{get isOpen(){return r(N)},onClose:()=>m(N,!1)}),e(qe),x((g,ve,y,A,Ze)=>{ka(G,`transform: translateY(${(r(X)?60:r($))??""}px); opacity: ${r($)>0?1:0}`),Fe(Q,"src",`${Kr??""}/logo-black.webp`),ka($e,`transform: translateX(${r(_)==="campaigns"?"100%":"0%"})`),Re(Se,1,`relative z-10 px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2 ${r(_)==="characters"?"text-white":"text-slate-400 hover:text-white"}`),n(ze,` ${g??""}`),Re(ye,1,`relative z-10 px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2 ${r(_)==="campaigns"?"text-white":"text-slate-400 hover:text-white"}`),n(we,` ${ve??""}`),Fe(be,"title",y),ka(pe,`transform: translateX(${r(_)==="campaigns"?"100%":"0%"})`),Re(Ae,1,`relative flex-1 py-3 rounded-xl text-xs font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 z-10 ${r(_)==="characters"?"text-indigo-400":"text-slate-500"}`),n(Ve,A),Re(Ge,1,`relative flex-1 py-3 rounded-xl text-xs font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 z-10 ${r(_)==="campaigns"?"text-indigo-400":"text-slate-500"}`),n(Ie,Ze)},[()=>d()("dashboard.tabs.characters"),()=>d()("dashboard.tabs.campaigns"),()=>d()("settings.title"),()=>d()("dashboard.tabs.characters"),()=>d()("dashboard.tabs.campaigns")]),v(h,ke),Tt(),s()}Mt(["click"]);var mi=f("<!> <!>",1);function Fi(h){var c=mi(),l=D(c);ws(l,{});var p=a(l,2);bi(p,{}),v(h,c)}export{Fi as component};
