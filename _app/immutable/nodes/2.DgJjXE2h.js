import"../chunks/DsnmJJEf.js";import"../chunks/CY1_wl6H.js";import{o as Ut,p as re,k as m,x as dt,j as w,z as ct,F as c,R as B,y as s,A as a,B as t,I as e,t as G,a2 as ua,L as nt,n as Ce,aq as Aa,U as Ma,T as ta}from"../chunks/DA0UBnP0.js";import{d as vt,o as Gt,s as p,g as fe,w as Oa}from"../chunks/BLQLsqF7.js";import{l as pa,s as ga,i as D,p as lt}from"../chunks/B8t1AzQE.js";import{h as ht}from"../chunks/DRdysA7i.js";import{a as Oe,$ as fa,e as Ct,s as ye,i as Fa,r as je,j as aa,k as jt}from"../chunks/BNAKlAka.js";import{s as Lt,a as Me}from"../chunks/BxFuL_3h.js";import{I as ma,s as ba}from"../chunks/bAp6L4kg.js";import{X as Ba,M as ha,a as Ga,T as sa,P as At,q as xt,b as Ha}from"../chunks/_qXVQNaj.js";import{t as _t,f as wt}from"../chunks/BZw0xz31.js";import{D as ke,G as $t,S as Ua,a as Ht,l as xa,C as La,g as Mt}from"../chunks/CERjy4Pu.js";import{b as Ae,d as Qe,e as Ze,u as oa,p as Va}from"../chunks/CV-PqCZy.js";import{g as yt}from"../chunks/fAIhs27D.js";import{U as ra,r as kt,W as qa}from"../chunks/DtCmva_V.js";import{S as Da,G as Ot,C as Ja,P as ia}from"../chunks/BSac6KtG.js";import{U as Vt,L as Ra}from"../chunks/CqpC-0gp.js";import{h as Wa}from"../chunks/BYmFNSF7.js";function na(l,o){const n=pa(o,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]];ma(l,ga({name:"download"},()=>n,{get iconNode(){return v},children:(r,d)=>{var u=Ut(),y=re(u);ba(y,o,"default",{}),m(r,u)},$$slots:{default:!0}}))}function Ft(l,o){const n=pa(o,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]];ma(l,ga({name:"scroll"},()=>n,{get iconNode(){return v},children:(r,d)=>{var u=Ut(),y=re(u);ba(y,o,"default",{}),m(r,u)},$$slots:{default:!0}}))}var Xa=w('<button class="fixed bottom-28 md:bottom-6 right-6 z-[60] bg-indigo-600 hover:bg-indigo-500 text-white p-4 rounded-full shadow-2xl shadow-indigo-900/50 flex items-center gap-2 font-bold animate-pulse hover:animate-none transition-all active:scale-95 group"><!> <span class="text-sm uppercase tracking-wider max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-300 md:max-w-xs md:inline"> </span></button>'),Ya=w('<li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">1</span> <div><!></div></li> <li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">2</span> <div><!></div></li>',1),Ka=w('<li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">1</span> <div><!></div></li> <li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">2</span> <div><!></div></li>',1),Qa=w('<div class="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-end sm:items-center justify-center p-4 animate-in fade-in"><div class="bg-slate-900 border border-slate-700 rounded-2xl p-6 max-w-sm w-full relative shadow-2xl mb-4 sm:mb-0 animate-in slide-in-from-bottom-10 sm:slide-in-from-bottom-0 sm:zoom-in-95"><button class="absolute top-4 right-4 text-slate-400 hover:text-white p-1"><!></button> <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2"><!> </h3> <ol class="space-y-4 text-slate-300 text-sm"><!></ol> <div class="mt-6 text-center"><button class="text-indigo-400 text-sm font-bold hover:text-indigo-300"> </button></div></div></div>'),Za=w("<!> <!>",1);function es(l,o){dt(o,!0);const n=()=>Me(fa,"$t",v),[v,r]=Lt();let d=B(null),u=B(!1),y=B(!1),I=B(!1);Gt(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone){c(u,!1);return}const _=window.navigator.userAgent;c(I,/iPad|iPhone|iPod/.test(_)&&!window.MSStream,!0),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(_)&&c(u,!0),window.addEventListener("beforeinstallprompt",k=>{k.preventDefault(),c(d,k,!0),c(u,!0)}),window.addEventListener("appinstalled",()=>{c(d,null),c(u,!1),c(y,!1)})});async function O(){if(s(d)){s(d).prompt();const{outcome:h}=await s(d).userChoice;h==="accepted"&&(c(d,null),c(u,!1))}else c(y,!0)}const E="inline w-3.5 h-3.5",N=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${E}"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>`,f=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${E}"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>`,j=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${E}"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>`;function A(h,_){const M=n()(h),k=`<span class="inline-flex items-center justify-center bg-slate-800 p-1 rounded mx-1 align-middle">${_}</span>`;return M.replace("{icon}",k)}var H=Za(),T=re(H);{var U=h=>{var _=Xa();_.__click=O;var M=t(_);na(M,{size:24});var k=a(M,2),J=t(k,!0);e(k),e(_),G((C,R)=>{Oe(_,"aria-label",C),p(J,R)},[()=>n()("home.install.button"),()=>n()("home.install.button")]),m(h,_)};D(T,h=>{s(u)&&h(U)})}var ie=a(T,2);{var F=h=>{var _=Qa(),M=t(_),k=t(M);k.__click=()=>c(y,!1);var J=t(k);Ba(J,{size:20}),e(k);var C=a(k,2),R=t(C);na(R,{size:24,class:"text-indigo-500"});var ee=a(R);e(C);var me=a(C,2),te=t(me);{var ne=b=>{var P=Ya(),V=re(P),X=a(t(V),2),de=t(X);ht(de,()=>A("home.install.ios_step1",N)),e(X),e(V);var ae=a(V,2),Y=a(t(ae),2),$e=t(Y);ht($e,()=>A("home.install.ios_step2",f)),e(Y),e(ae),m(b,P)},De=b=>{var P=Ka(),V=re(P),X=a(t(V),2),de=t(X);ht(de,()=>A("home.install.android_step1",j)),e(X),e(V);var ae=a(V,2),Y=a(t(ae),2),$e=t(Y);ht($e,()=>n()("home.install.android_step2")),e(Y),e(ae),m(b,P)};D(te,b=>{s(I)?b(ne):b(De,!1)})}e(me);var Fe=a(me,2),le=t(Fe);le.__click=()=>c(y,!1);var Be=t(le,!0);e(le),e(Fe),e(M),e(_),G((b,P)=>{p(ee,` ${b??""}`),p(Be,P)},[()=>n()("home.install.title"),()=>n()("home.install.close")]),m(h,_)};D(ie,h=>{s(y)&&h(F)})}m(l,H),ct(),r()}vt(["click"]);var ts=w('<span class="text-[9px] bg-slate-800 text-slate-400 px-1.5 py-0.5 rounded uppercase tracking-wider">Em Breve</span>'),as=w('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),ss=w('<button><div class="flex-1"><div class="font-bold text-sm flex items-center gap-2"> <!></div> <div class="text-[10px] opacity-60 mt-0.5"> </div></div> <!></button>'),os=w('<div class="space-y-4"><div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> Sistema de Jogo</label> <div class="grid grid-cols-1 gap-2"></div></div> <div><label for="char-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Nome do Personagem</label> <input id="char-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Alaric, o Errante"/></div> <div><label for="char-player" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center gap-1"><!> Nome do Jogador</label> <input id="char-player" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/></div> <div class="grid grid-cols-2 gap-4"><div><label for="char-ancestry" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Ancestralidade</label> <input id="char-ancestry" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Humano"/></div> <div><label for="char-level" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">NÃ­vel</label> <input id="char-level" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div></div> <div><label for="char-path" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Trilha Inicial (Novice)</label> <input id="char-path" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Guerreiro, Mago"/></div> <div class="grid grid-cols-2 gap-4"><div><label for="char-defense" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Defesa</label> <input id="char-defense" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="char-health" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Vida MÃ¡xima</label> <input id="char-health" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div></div></div> <div class="flex gap-3 mt-8"><button class="flex-1 bg-slate-700 hover:bg-slate-600 transition-all py-3 rounded-xl text-white font-bold active:scale-95">Cancelar</button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 transition-all py-3 rounded-xl text-white font-bold shadow-lg shadow-indigo-900/20 active:scale-95">Criar Personagem</button></div>',1);function rs(l,o){dt(o,!0);let n=lt(o,"isOpen",3,!1),v=lt(o,"initialData",3,"{}"),r=ua({name:"",playerName:"",ancestry:"",novicePath:"",level:1,defense:10,health:24,system:ke});nt(()=>{if(n()&&v())try{const u=JSON.parse(v());r.name=u.name||"",r.playerName=u.playerName||"",r.ancestry=u.ancestry||"",r.novicePath=u.paths&&u.paths.novice?u.paths.novice:"",r.level=u.level||1,r.defense=u.defense||10,r.health=u.health||u.normalHealth||24,r.system=u.system||ke}catch{r.name="",r.playerName="",r.ancestry="",r.novicePath="",r.level=1,r.defense=10,r.health=24,r.system=ke}});function d(){o.onSave({...r})}ha(l,{get isOpen(){return n()},get onClose(){return o.onClose},title:"Novo Personagem",maxWidth:"max-w-md",children:(u,y)=>{var I=os(),O=re(I),E=t(O),N=t(E),f=t(N);$t(f,{size:12}),Ce(),e(N);var j=a(N,2);Ct(j,21,()=>Ua,Fa,(b,P)=>{var V=ss();V.__click=()=>!s(P).disabled&&(r.system=s(P).id);var X=t(V),de=t(X),ae=t(de),Y=a(ae);{var $e=ce=>{var Ge=ts();m(ce,Ge)};D(Y,ce=>{s(P).comingSoon&&ce($e)})}e(de);var ut=a(de,2),Je=t(ut,!0);e(ut),e(X);var pt=a(X,2);{var Tt=ce=>{var Ge=as();m(ce,Ge)};D(pt,ce=>{r.system===s(P).id&&ce(Tt)})}e(V),G(()=>{ye(V,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${r.system===s(P).id?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"} ${s(P).disabled?"opacity-60 cursor-not-allowed":""}`),V.disabled=s(P).disabled,p(ae,`${s(P).name??""} `),p(Je,s(P).description)}),m(b,V)}),e(j),e(E);var A=a(E,2),H=a(t(A),2);je(H),e(A);var T=a(A,2),U=t(T),ie=t(U);Vt(ie,{size:12}),Ce(),e(U);var F=a(U,2);je(F),e(T);var h=a(T,2),_=t(h),M=a(t(_),2);je(M),e(_);var k=a(_,2),J=a(t(k),2);je(J),e(k),e(h);var C=a(h,2),R=a(t(C),2);je(R),e(C);var ee=a(C,2),me=t(ee),te=a(t(me),2);je(te),e(me);var ne=a(me,2),De=a(t(ne),2);je(De),e(ne),e(ee),e(O);var Fe=a(O,2),le=t(Fe);le.__click=function(...b){o.onClose?.apply(this,b)};var Be=a(le,2);Be.__click=d,e(Fe),Ae(H,()=>r.name,b=>r.name=b),Ae(F,()=>r.playerName,b=>r.playerName=b),Ae(M,()=>r.ancestry,b=>r.ancestry=b),Ae(J,()=>r.level,b=>r.level=b),Ae(R,()=>r.novicePath,b=>r.novicePath=b),Ae(te,()=>r.defense,b=>r.defense=b),Ae(De,()=>r.health,b=>r.health=b),m(u,I)},$$slots:{default:!0}}),ct()}vt(["click"]);var is=w('<div class="space-y-5"><div><label for="settings-player-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center gap-1"><!> Nome do Jogador</label> <input id="settings-player-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/> <p class="text-[10px] text-slate-500 mt-1">O nome do jogador associado a este personagem.</p></div></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-6"><button class="flex-1 bg-slate-700 hover:bg-slate-600 transition-all py-4 sm:py-3 rounded-xl text-white font-bold active:scale-95">Cancelar</button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 transition-all py-4 sm:py-3 rounded-xl text-white font-bold shadow-lg shadow-indigo-900/20 active:scale-95">Salvar</button></div>',1);function ns(l,o){dt(o,!0);let n=lt(o,"isOpen",3,!1),v=lt(o,"characterData",3,null),r=B("");nt(()=>{n()&&v()&&c(r,v().playerName||"",!0)});function d(){o.onSave({playerName:s(r)})}ha(l,{get isOpen(){return n()},get onClose(){return o.onClose},title:"âš™ï¸ ConfiguraÃ§Ãµes do Personagem",maxWidth:"max-w-md",children:(u,y)=>{var I=is(),O=re(I),E=t(O),N=t(E),f=t(N);Vt(f,{size:12}),Ce(),e(N);var j=a(N,2);je(j),Ce(2),e(E),e(O);var A=a(O,2),H=t(A);H.__click=function(...U){o.onClose?.apply(this,U)};var T=a(H,2);T.__click=d,e(A),Ae(j,()=>s(r),U=>c(r,U)),m(u,I)},$$slots:{default:!0}}),ct()}vt(["click"]);const ls="701898444454-7ml9onnv529k99rkvgh1slhdj4a1arrm.apps.googleusercontent.com",la="https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/userinfo.profile",q=Oa({signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null,isInited:!1});let St,da=!1;const et="wwv_google_session";function ds(){localStorage.removeItem(et),q.update(l=>({...l,signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null})),console.log("Session cleared due to expired or invalid token")}async function zt(){ds(),console.warn("OAuth token expired or invalid. Please sign in again.")}async function _a(l){try{const o=await fetch("https://www.googleapis.com/oauth2/v1/userinfo?alt=json",{headers:{Authorization:`Bearer ${l}`}});if(o.status===401){await zt();return}if(o.ok){const n=await o.json();q.update(v=>({...v,userProfile:{name:n.name,picture:n.picture}})),wa()}}catch(o){console.error("Failed to fetch user profile:",o)}}function cs(){try{const l=localStorage.getItem(et);if(l){const o=JSON.parse(l);if(o.accessToken)return o.tokenExpiry&&Date.now()>o.tokenExpiry?(console.log("Stored token is expired, clearing session"),localStorage.removeItem(et),!1):(q.set({signedIn:!0,accessToken:o.accessToken,tokenExpiry:o.tokenExpiry||null,userProfile:o.userProfile||null,isInited:!0}),console.log("Restored session from localStorage"),_a(o.accessToken),!0)}}catch(l){console.error("Failed to load stored session:",l)}return!1}function wa(){const l=fe(q);l.signedIn&&l.accessToken?localStorage.setItem(et,JSON.stringify({accessToken:l.accessToken,tokenExpiry:l.tokenExpiry,userProfile:l.userProfile})):localStorage.removeItem(et)}async function vs(){const l=ls;if(cs()){try{await va(),St=google.accounts.oauth2.initTokenClient({client_id:l,scope:la,callback:ca}),da=!0}catch(n){console.warn("Could not initialize GIS after restoring session:",n)}return}try{await va(),St=google.accounts.oauth2.initTokenClient({client_id:l,scope:la,callback:ca}),da=!0,q.update(n=>({...n,isInited:!0})),console.log("Google Auth Initialized")}catch(n){console.error("Failed to initialize Google Auth:",n),q.update(v=>({...v,isInited:!0})),alert("Falha ao inicializar Google Auth. Verifique sua conexÃ£o/Console.")}}function ca(l){if(l.error!==void 0){console.error("Google Auth Error:",l);return}console.log("Google Auth Success",l);const o=l.expires_in||3600,n=Date.now()+o*1e3;q.update(v=>({...v,signedIn:!0,accessToken:l.access_token,tokenExpiry:n})),wa(),_a(l.access_token)}function va(){return new Promise((l,o)=>{if(typeof google<"u"&&google.accounts){l();return}const n=document.createElement("script");n.src="https://accounts.google.com/gsi/client",n.async=!0,n.defer=!0,n.onload=()=>{const v=setInterval(()=>{typeof google<"u"&&google.accounts&&(clearInterval(v),l())},50);setTimeout(()=>{clearInterval(v),(typeof google>"u"||!google.accounts)&&o(new Error("Google object not available after script load"))},3e3)},n.onerror=()=>{o(new Error("Failed to load Google Identity Services script"))},document.head.appendChild(n)})}function us(){St?St.requestAccessToken():(console.error("Google Auth not initialized"),alert("Google Auth ainda nÃ£o inicializou. Tente novamente em alguns segundos."))}function ps(){const l=fe(q).accessToken;localStorage.removeItem(et),q.update(o=>({...o,signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null})),l&&typeof google<"u"&&google.accounts&&google.accounts.oauth2.revoke(l,()=>{console.log("Access token revoked")})}async function ya(){const l=fe(q),o=l.accessToken;if(!o)throw new Error("Not signed in");if(l.tokenExpiry&&Date.now()>l.tokenExpiry)throw await zt(),new Error("Token expired, please sign in again");const v=`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name = 'weird-wizard-backup.json' and 'appDataFolder' in parents and trashed = false")}&spaces=appDataFolder&fields=files(id, name, modifiedTime, size)`,r=await fetch(v,{headers:{Authorization:`Bearer ${o}`}});if(r.status===401)throw await zt(),new Error("Token expired, please sign in again");if(!r.ok)throw new Error("Failed to list backups: "+r.statusText);return(await r.json()).files||[]}async function gs(l){const o=fe(q).accessToken;if(!o)throw new Error("Not signed in");const n=JSON.stringify(l),v="weird-wizard-backup.json",r=await ya(),d=r.length>0?r[0].id:null;if(d){const u=`https://www.googleapis.com/upload/drive/v3/files/${d}?uploadType=media`,y=await fetch(u,{method:"PATCH",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:n});if(!y.ok){const I=await y.text();throw console.error("Upload error details:",I),new Error("Upload failed: "+y.statusText)}return await y.json()}else{const u={name:v,mimeType:"application/json",parents:["appDataFolder"]},y=new FormData;y.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),y.append("file",new Blob([n],{type:"application/json"}));const O=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:y});if(!O.ok){const E=await O.text();throw console.error("Upload error details:",E),new Error("Upload failed: "+O.statusText)}return await O.json()}}async function fs(l){const o=fe(q).accessToken;if(!o)throw new Error("Not signed in");const n=`https://www.googleapis.com/drive/v3/files/${l}?alt=media`,v=await fetch(n,{headers:{Authorization:`Bearer ${o}`}});if(v.status===401)throw await zt(),new Error("Token expired, please sign in again");if(!v.ok)throw new Error("Download failed: "+v.statusText);return await v.json()}let Bt;async function ms(){if(fe(q).accessToken)try{console.log("Syncing from cloud...");const o=await ya();if(o.length===0){console.log("No backups found in cloud.");return}const n=o[0].id,v=await fs(n);if(v.characters&&Array.isArray(v.characters))for(const r of v.characters)Qe.get(r.id)||(Qe.set(r.id,r),console.log("Added character from cloud:",r.name));if(v.campaigns&&Array.isArray(v.campaigns))for(const r of v.campaigns)Ze.get(r.id)||(Ze.set(r.id,r),console.log("Added campaign from cloud:",r.name));console.log("Sync from cloud complete.")}catch(o){console.error("Failed to sync from cloud:",o)}}async function bs(){fe(q).accessToken&&(Bt&&clearTimeout(Bt),Bt=setTimeout(async()=>{try{console.log("Syncing to cloud...");const o={characters:fe(xa),campaigns:fe(Ht),timestamp:Date.now(),version:1,appName:"WeirdWizardVault"};await gs(o),console.log("Sync to cloud complete.")}catch(o){console.error("Failed to sync to cloud:",o)}},2e3))}var hs=w('<img alt="Avatar" class="w-10 h-10 rounded-full border-2 border-indigo-500/50 shadow-lg object-cover"/>'),xs=w('<div class="w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white border-2 border-indigo-400/30 shadow-lg"><span class="font-bold text-lg"><!></span></div>'),_s=w('<div class="absolute right-0 top-full mt-2 w-48 bg-slate-800 rounded-xl shadow-xl border border-slate-700 p-2 z-50 animate-in fade-in slide-in-from-top-2"><div class="px-3 py-2 border-b border-slate-700 mb-2"><p class="text-xs text-slate-400">Conectado como</p> <p class="text-sm font-bold text-white truncate"> </p></div> <button class="w-full flex items-center gap-2 px-3 py-2 text-slate-300 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors text-sm"><!> Sair</button></div>  <div class="fixed inset-0 z-40"></div>',1),ws=w('<div class="relative"><button><!> <div class="absolute bottom-1 right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-slate-900"></div></button> <!></div>'),ys=w('<div class="w-4 h-4 rounded-full border-2 border-slate-300 border-t-slate-600 animate-spin"></div>'),ks=Aa('<svg class="w-4 h-4" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg>'),Cs=w("<button><!> <span>Entrar</span></button>");function $s(l,o){dt(o,!0);const n=()=>Me(q,"$googleSession",v),[v,r]=Lt();let d=lt(o,"className",3,""),u=B(!1);var y=Ut(),I=re(y);{var O=N=>{var f=ws(),j=t(f);j.__click=()=>c(u,!s(u));var A=t(j);{var H=F=>{var h=hs();G(()=>Oe(h,"src",n().userProfile.picture)),m(F,h)},T=F=>{var h=xs(),_=t(h),M=t(_);{var k=C=>{var R=Ma();G(ee=>p(R,ee),[()=>n().userProfile.name[0].toUpperCase()]),m(C,R)},J=C=>{Vt(C,{size:20})};D(M,C=>{n().userProfile?.name?C(k):C(J,!1)})}e(_),e(h),m(F,h)};D(A,F=>{n().userProfile?.picture?F(H):F(T,!1)})}Ce(2),e(j);var U=a(j,2);{var ie=F=>{var h=_s(),_=re(h),M=t(_),k=a(t(M),2),J=t(k,!0);e(k),e(M);var C=a(M,2);C.__click=()=>{ps(),c(u,!1)};var R=t(C);Ra(R,{size:14}),Ce(),e(C),e(_);var ee=a(_,2);ee.__click=()=>c(u,!1),G(()=>p(J,n().userProfile?.name??"UsuÃ¡rio")),m(F,h)};D(U,F=>{s(u)&&F(ie)})}e(f),G(()=>{ye(j,1,`flex items-center gap-2 p-1 rounded-full hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-700 ${d()??""}`),Oe(j,"title",n().userProfile?.name||"Conta Google")}),m(N,f)},E=N=>{var f=Cs();f.__click=function(...T){us?.apply(this,T)};var j=t(f);{var A=T=>{var U=ys();m(T,U)},H=T=>{var U=ks();m(T,U)};D(j,T=>{n().isInited?T(H,!1):T(A)})}Ce(2),e(f),G(()=>{f.disabled=!n().isInited,ye(f,1,`flex items-center gap-2 px-4 py-2 bg-white text-slate-900 hover:bg-slate-100 rounded-full font-bold text-xs transition-all shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-wait disabled:scale-100 disabled:shadow-none ${d()??""}`)}),m(N,f)};D(I,N=>{n().signedIn?N(O):N(E,!1)})}m(l,y),ct(),r()}vt(["click"]);var Ss=w('<div class="absolute top-full right-0 mt-2 bg-slate-900 border border-slate-700 rounded-xl shadow-xl p-1.5 min-w-[120px] z-50 flex flex-col gap-1 animate-in fade-in zoom-in-95 duration-200"><button>ðŸ‡§ðŸ‡· PT-BR</button> <button>ðŸ‡ºðŸ‡¸ EN-US</button></div> <button class="fixed inset-0 z-40 cursor-default" aria-label="Close menu"></button>',1),zs=w('<span class="text-[10px] text-slate-400 font-medium"> </span>'),Ts=w('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-indigo-500/40 transition-all relative group flex flex-col shadow-lg hover:shadow-indigo-500/10 border-t-white/5"><div class="flex justify-between items-start mb-4"><div class="flex-1"><h3 class="font-black text-xl text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight truncate pr-16"> </h3> <div class="flex items-center gap-2 mt-1 flex-wrap"><span class="text-[10px] bg-indigo-500/10 text-indigo-400 font-black px-2 py-0.5 rounded uppercase tracking-wider"> </span> <span class="text-[10px] text-slate-500 font-bold uppercase tracking-widest"> </span> <!></div> <div class="mt-2 flex items-center gap-2"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800 text-[9px] text-slate-400 border border-slate-700 font-bold uppercase tracking-wider"><!> </div></div></div> <div class="flex items-center gap-1"><button class="text-slate-700 hover:text-indigo-400 p-2 rounded-xl hover:bg-indigo-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button> <button class="text-slate-700 hover:text-red-400 p-2 rounded-xl hover:bg-red-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button></div></div> <div class="space-y-3 mb-6"><div class="flex items-center justify-between text-xs text-slate-400"><span class="flex items-center gap-1.5 opacity-60"><!> </span> <span class="font-bold text-slate-300 truncate max-w-[150px]"> </span></div></div> <button class="w-full bg-slate-800 hover:bg-indigo-600 text-white py-3 rounded-2xl font-bold transition-all active:scale-[0.98] border border-slate-700 hover:border-indigo-400/30 flex items-center justify-center gap-2"> <!></button></div>'),Is=w('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 col-start-1 row-start-1 w-full"><!> <button class="h-full min-h-[160px] border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center text-slate-500 hover:border-indigo-500 hover:text-indigo-500 transition-all hover:bg-indigo-500/5 gap-2 group shadow-sm bg-slate-900/20"><div class="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-indigo-500/10 group-hover:scale-110 transition-all"><!></div> <span class="font-bold"> </span></button></div>'),Es=w('<span class="text-[9px] bg-emerald-500/10 text-emerald-400 px-2 py-0.5 rounded-full border border-emerald-500/20 font-black uppercase tracking-widest flex items-center gap-1"><!> </span>'),Ps=w('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-indigo-500/40 transition-all group relative flex flex-col justify-between shadow-lg hover:shadow-indigo-500/10 border-t-white/5"><div class="mb-4"><div class="flex justify-between items-start mb-1"><h3 class="font-black text-2xl text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight"> </h3> <div class="flex items-center gap-1"><!> <button class="text-slate-700 hover:text-indigo-400 p-2 rounded-xl hover:bg-indigo-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button> <button class="text-slate-700 hover:text-red-400 p-2 rounded-xl hover:bg-red-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button></div></div> <p class="text-indigo-400 text-[10px] font-black uppercase tracking-[0.2em] mb-3"> </p> <div class="mb-3"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800 text-[9px] text-slate-400 border border-slate-700 font-bold uppercase tracking-wider"><!> </div></div> <p class="text-sm text-slate-400 line-clamp-2 leading-relaxed h-10"> </p></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white py-3 rounded-2xl font-bold flex items-center justify-center gap-2 border border-indigo-400/20 shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98]"><!> </button></div>'),Ns=w('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-emerald-500/40 transition-all group relative flex flex-col justify-between shadow-xl border-t-white/5"><div><h3 class="font-black text-2xl text-white group-hover:text-emerald-400 mb-2 uppercase tracking-tight"> </h3> <div class="flex items-center gap-2 mb-4"><div class="px-2 py-0.5 bg-slate-800 rounded text-[9px] text-slate-400 font-black uppercase tracking-widest"> </div> <div class="flex items-center gap-1 px-2 py-0.5 bg-emerald-500/10 rounded text-[9px] text-emerald-400 font-black uppercase tracking-wider"><div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div> </div></div> <div class="mb-4"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800/50 text-[9px] text-slate-400 border border-slate-700/50 font-bold uppercase tracking-wider"><!> </div></div> <p class="text-sm text-slate-400 line-clamp-3 leading-relaxed mb-6 h-15"> </p></div> <button class="w-full bg-emerald-600 hover:bg-emerald-500 text-white py-3 rounded-2xl font-black uppercase text-xs tracking-[0.1em] flex items-center justify-center gap-2 border border-emerald-400/20 transition-all active:scale-[0.98] group"> <!></button></div>'),js=w('<div class="col-span-full py-12 flex flex-col items-center text-center opacity-40"><div class="w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center text-slate-600 mb-3 border border-slate-700 border-dashed"><!></div> <h3 class="text-lg font-black uppercase tracking-widest text-slate-500"> </h3> <p class="text-slate-600 max-w-sm mt-2 text-sm"> </p></div>'),As=w('<div class="space-y-8 col-start-1 row-start-1 w-full"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <button class="h-full min-h-[160px] border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center text-slate-500 hover:border-indigo-500 hover:text-indigo-500 transition-all hover:bg-indigo-500/5 gap-2 group shadow-sm bg-slate-900/20"><div class="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-indigo-500/10 group-hover:scale-110 transition-all"><!></div> <span class="font-bold"> </span></button></div> <div><div class="flex items-center gap-3 mb-4"><div class="h-px flex-1 bg-slate-800"></div> <h3 class="text-xs font-black uppercase tracking-widest text-emerald-400 flex items-center gap-2"><!> </h3> <div class="h-px flex-1 bg-slate-800"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <!></div></div></div>'),Ms=w('<div class="animate-in fade-in px-4 md:px-8 max-w-7xl mx-auto pb-32 md:pb-20"><header class="mb-8 flex justify-between items-center border-b border-slate-800/50 pt-4 md:pt-8 pb-4 sticky top-0 bg-slate-950/80 backdrop-blur-md z-40 -mx-4 px-4 md:-mx-8 md:px-8 transition-all"><div class="flex items-center"><h1 class="text-xl md:text-3xl font-bold text-white flex items-center gap-2 text-gradient m-0 leading-none"><!> <span class="hidden md:inline">Schwalb Vault</span> <span class="md:hidden">Schwalb Vault</span></h1></div> <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 bg-slate-900/50 p-1.5 rounded-2xl border border-slate-800 glass shadow-xl backdrop-blur-md"><div class="relative flex"><div class="absolute inset-y-0 w-1/2 bg-indigo-600 rounded-xl transition-transform duration-300 ease-out shadow-lg shadow-indigo-500/20"></div> <button><!> </button> <button><!> </button></div></div> <div class="flex items-center justify-end min-w-[40px] gap-3"><div class="relative"><button class="flex items-center gap-2 text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-800"><!> <span class="text-xs font-bold uppercase hidden md:inline"> </span></button> <!></div> <!></div></header> <div class="md:hidden fixed bottom-6 left-4 right-4 bg-slate-900/90 backdrop-blur-xl border border-slate-700/50 shadow-2xl rounded-2xl p-1.5 z-50"><div class="relative flex justify-between"><div class="absolute inset-y-0 w-1/2 bg-indigo-600/20 rounded-xl transition-transform duration-300 ease-out"></div> <button><!> <span class="transition-all duration-300"> </span></button> <button><!> <span class="transition-all duration-300"> </span></button></div></div> <div class="min-h-[500px] grid items-start relative"><!></div> <!> <!> <!> <!></div>');function Os(l,o){dt(o,!0);const n=()=>Me(q,"$googleSession",I),v=()=>Me(xa,"$liveCharacters",I),r=()=>Me(Ht,"$liveCampaigns",I),d=()=>Me(fa,"$t",I),u=()=>Me(jt,"$locale",I),y=()=>Me(Va,"$publicCampaigns",I),[I,O]=Lt();Gt(()=>{vs();const i=localStorage.getItem("user_locale");i&&jt.set(i)});let E=B(!1);function N(i){jt.set(i),localStorage.setItem("user_locale",i),c(E,!1)}let f=B("characters"),j=B("characters");nt(()=>{s(f)!==s(j)&&c(j,s(f),!0)}),nt(()=>{n().signedIn&&ms()}),nt(()=>{n().signedIn&&(v(),r(),bs())});let A=B(!1),H=B(null);function T(i){c(H,i,!0),c(A,!0)}function U(i){if(!s(H))return;const x=s(H).id,$={...Qe.get(x),...i};Qe.set(x,$),c(A,!1)}let ie=B(!1),F=B("{}");const h={name:"",playerName:"",ancestry:"Humano",novicePath:"",level:0,defense:8,health:5,system:ke};function _(){c(F,JSON.stringify(h),!0),c(ie,!0)}async function M(i){const x=oa(),g={id:x,name:i.name,playerName:i.playerName||"",ancestry:i.ancestry,level:i.level,defense:i.defense,system:i.system||ke,paths:{novice:i.novicePath||"-",expert:"-",master:"-"},attributes:[{name:"ForÃ§a",value:10,key:"str"},{name:"Agilidade",value:10,key:"agi"},{name:"Intelecto",value:10,key:"int"},{name:"Vontade",value:10,key:"wil"}],speed:5,health:i.health,currentHealth:i.health,spells:[],talents:[],equipment:[],afflictions:[],effects:[],currency:{gp:0,sp:0,cp:0},languages:["Comum"]};Qe.set(x,g),c(ie,!1),yt(kt("/characters/[id]",{id:x}))}let k=B(!1),J=B(null),C=B("{}");const R={name:"",description:"",gmName:"",system:ke};function ee(i=null){c(J,i?i.id:null,!0),c(C,JSON.stringify(i||R),!0),c(k,!0)}async function me(i){const x=s(J)||oa(),g=s(J)?Ze.get(x):{},$={...g,id:x,name:i.name,description:i.description,gmName:i.gmName,players:g.players||[],backupEnabled:i.backupEnabled||!1,backupHash:i.backupHash||"",system:i.system||ke};i.removePassword?delete $.passwordHash:i.password&&($.passwordHash=await Wa(i.password)),Ze.set(x,$),c(k,!1)}let te=B(!1),ne=B(ua({title:"",message:"",onConfirm:()=>{}}));function De(i){c(ne,{title:d()("dashboard.campaigns.delete_title"),message:d()("dashboard.campaigns.delete_message"),onConfirm:()=>{Ze.delete(i),c(te,!1)}},!0),c(te,!0)}function Fe(i){c(ne,{title:d()("dashboard.characters.delete_title"),message:d()("dashboard.characters.delete_message"),onConfirm:()=>{fe(Ht).forEach(g=>{let $=!1;g.members&&g.members.some(S=>S.id===i)&&(g.members=g.members.filter(S=>S.id!==i),$=!0),g.sessionRoster&&g.sessionRoster.includes(i)&&(g.sessionRoster=g.sessionRoster.filter(S=>S!==i),$=!0),g.activeEnemies&&g.activeEnemies.some(S=>S.id===i)&&(g.activeEnemies=g.activeEnemies.filter(S=>S.id!==i),$=!0),$&&Ze.set(g.id,g)}),Qe.delete(i),c(te,!1)}},!0),c(te,!0)}Gt(()=>{});var le=Ms(),Be=t(le),b=t(Be),P=t(b),V=t(P);Da(V,{class:"text-indigo-500",size:28}),Ce(4),e(P),e(b);var X=a(b,2),de=t(X),ae=t(de),Y=a(ae,2);Y.__click=()=>c(f,"characters");var $e=t(Y);ra($e,{size:18});var ut=a($e);e(Y);var Je=a(Y,2);Je.__click=()=>c(f,"campaigns");var pt=t(Je);Ft(pt,{size:18});var Tt=a(pt);e(Je),e(de),e(X);var ce=a(X,2),Ge=t(ce),tt=t(Ge);tt.__click=()=>c(E,!s(E));var qt=t(tt);Ot(qt,{size:20});var Dt=a(qt,2),ka=t(Dt,!0);e(Dt),e(tt);var Ca=a(tt,2);{var $a=i=>{var x=Ss(),g=re(x),$=t(g);$.__click=()=>N("pt");var S=a($,2);S.__click=()=>N("en"),e(g);var He=a(g,2);He.__click=()=>c(E,!1),G(()=>{ye($,1,`flex items-center gap-2 px-3 py-2 text-sm font-bold rounded-lg ${u()==="pt"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`),ye(S,1,`flex items-center gap-2 px-3 py-2 text-sm font-bold rounded-lg ${u()==="en"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`)}),m(i,x)};D(Ca,i=>{s(E)&&i($a)})}e(Ge);var Sa=a(Ge,2);$s(Sa,{}),e(ce),e(Be);var It=a(Be,2),Jt=t(It),Rt=t(Jt),at=a(Rt,2);at.__click=()=>c(f,"characters");var Wt=t(at);{let i=ta(()=>s(f)==="characters"?2.5:2);ra(Wt,{size:20,get strokeWidth(){return s(i)},class:"transition-all duration-300"})}var Xt=a(Wt,2),za=t(Xt,!0);e(Xt),e(at);var gt=a(at,2);gt.__click=()=>c(f,"campaigns");var Yt=t(gt);{let i=ta(()=>s(f)==="campaigns"?2.5:2);Ft(Yt,{size:20,get strokeWidth(){return s(i)},class:"transition-all duration-300"})}var Kt=a(Yt,2),Ta=t(Kt,!0);e(Kt),e(gt),e(Jt),e(It);var Et=a(It,2),Ia=t(Et);{var Ea=i=>{var x=Is(),g=t(x);Ct(g,1,v,Ue=>Ue.id,(Ue,K)=>{var Le=Ts(),Re=t(Le),We=t(Re),st=t(We),bt=t(st,!0);e(st);var Xe=a(st,2),ot=t(Xe),Pt=t(ot,!0);e(ot);var L=a(ot,2),z=t(L);e(L);var Q=a(L,2);{var se=ge=>{var _e=zs(),we=t(_e);e(_e),G(()=>p(we,`â€¢ ${s(K).playerName??""}`)),m(ge,_e)};D(Q,ge=>{s(K).playerName&&ge(se)})}e(Xe);var W=a(Xe,2),ve=t(W),oe=t(ve);$t(oe,{size:10});var ue=a(oe);e(ve),e(W),e(We);var be=a(We,2),Z=t(be);Z.__click=()=>T(s(K));var he=t(Z);Ga(he,{size:16}),e(Z);var pe=a(Z,2);pe.__click=()=>Fe(s(K).id);var xe=t(pe);sa(xe,{size:16}),e(pe),e(be),e(Re);var Se=a(Re,2),ze=t(Se),Te=t(ze),Ie=t(Te);Ft(Ie,{size:12});var Ee=a(Ie);e(Te);var Pe=a(Te,2),rt=t(Pe,!0);e(Pe),e(ze),e(Se);var Ne=a(Se,2);Ne.__click=()=>yt(kt("/characters/[id]",{id:s(K).id}));var Ye=t(Ne),Ve=a(Ye);ia(Ve,{size:14,fill:"currentColor"}),e(Ne),e(Le),G((ge,_e,we,qe,Ke,it)=>{p(bt,s(K).name),p(Pt,s(K).ancestry||"Humano"),p(z,`${ge??""} ${s(K).level??""}`),p(ue,` ${_e??""}`),Oe(Z,"title",we),Oe(pe,"title",qe),p(Ee,` ${Ke??""}`),p(rt,s(K).paths?.novice||"-"),p(Ye,`${it??""} `)},[()=>d()("common.labels.level"),()=>Mt(s(K).system).name,()=>d()("common.buttons.settings"),()=>d()("common.buttons.delete"),()=>d()("dashboard.characters.paths"),()=>d()("dashboard.characters.open_sheet")]),m(Ue,Le)});var $=a(g,2);$.__click=()=>_();var S=t($),He=t(S);At(He,{size:32}),e(S);var ft=a(S,2),mt=t(ft,!0);e(ft),e($),e(x),G(Ue=>p(mt,Ue),[()=>d()("dashboard.characters.new_character")]),_t(1,x,()=>wt,()=>({x:-100,duration:300,easing:xt})),_t(2,x,()=>wt,()=>({x:-100,duration:300,easing:xt})),m(i,x)},Pa=i=>{var x=As(),g=t(x),$=t(g);Ct($,1,r,L=>L.id,(L,z)=>{var Q=Ps(),se=t(Q),W=t(se),ve=t(W),oe=t(ve,!0);e(ve);var ue=a(ve,2),be=t(ue);{var Z=we=>{var qe=Es(),Ke=t(qe);Ot(Ke,{size:10});var it=a(Ke);e(qe),G(Nt=>p(it,` ${Nt??""}`),[()=>d()("dashboard.campaigns.published")]),m(we,qe)};D(be,we=>{s(z).isPublished&&we(Z)})}var he=a(be,2);he.__click=()=>ee(s(z));var pe=t(he);Ha(pe,{size:16}),e(he);var xe=a(he,2);xe.__click=()=>De(s(z).id);var Se=t(xe);sa(Se,{size:16}),e(xe),e(ue),e(W);var ze=a(W,2),Te=t(ze,!0);e(ze);var Ie=a(ze,2),Ee=t(Ie),Pe=t(Ee);$t(Pe,{size:10});var rt=a(Pe);e(Ee),e(Ie);var Ne=a(Ie,2),Ye=t(Ne,!0);e(Ne),e(se);var Ve=a(se,2);Ve.__click=()=>yt(kt("/campaigns/[id]",{id:s(z).id}));var ge=t(Ve);ia(ge,{size:18,fill:"currentColor"});var _e=a(ge);e(Ve),e(Q),G((we,qe,Ke,it,Nt,ja)=>{p(oe,s(z).name),Oe(he,"title",we),Oe(xe,"title",qe),p(Te,Ke),p(rt,` ${it??""}`),p(Ye,Nt),p(_e,` ${ja??""}`)},[()=>d()("common.buttons.edit"),()=>d()("common.buttons.delete"),()=>s(z).gmName||d()("common.labels.master"),()=>Mt(s(z).system||ke).name,()=>s(z).description||d()("dashboard.campaigns.no_description"),()=>d()("dashboard.campaigns.start_session")]),m(L,Q)});var S=a($,2);S.__click=()=>ee();var He=t(S),ft=t(He);At(ft,{size:32}),e(He);var mt=a(He,2),Ue=t(mt,!0);e(mt),e(S),e(g);var K=a(g,2),Le=t(K),Re=a(t(Le),2),We=t(Re);Ot(We,{size:14});var st=a(We);e(Re),Ce(2),e(Le);var bt=a(Le,2),Xe=t(bt);Ct(Xe,1,y,L=>L.id,(L,z)=>{var Q=Ns(),se=t(Q),W=t(se),ve=t(W,!0);e(W);var oe=a(W,2),ue=t(oe),be=t(ue,!0);e(ue);var Z=a(ue,2),he=a(t(Z));e(Z),e(oe);var pe=a(oe,2),xe=t(pe),Se=t(xe);$t(Se,{size:10});var ze=a(Se);e(xe),e(pe);var Te=a(pe,2),Ie=t(Te,!0);e(Te),e(se);var Ee=a(se,2);Ee.__click=()=>yt(kt("/campaigns/[id]/invite",{id:s(z).id}));var Pe=t(Ee),rt=a(Pe);At(rt,{size:18,class:"group-hover:rotate-90 transition-transform"}),e(Ee),e(Q),G((Ne,Ye,Ve,ge,_e)=>{p(ve,s(z).name),p(be,Ne),p(he,` ${Ye??""}`),p(ze,` ${Ve??""}`),p(Ie,ge),p(Pe,`${_e??""} `)},[()=>s(z).gmName||d()("common.labels.master"),()=>d()("dashboard.campaigns.online"),()=>Mt(s(z).system||ke).name,()=>s(z).description||d()("dashboard.campaigns.public_description"),()=>d()("dashboard.campaigns.join_adventure")]),m(L,Q)});var ot=a(Xe,2);{var Pt=L=>{var z=js(),Q=t(z),se=t(Q);qa(se,{size:32}),e(Q);var W=a(Q,2),ve=t(W,!0);e(W);var oe=a(W,2),ue=t(oe,!0);e(oe),e(z),G((be,Z)=>{p(ve,be),p(ue,Z)},[()=>d()("dashboard.campaigns.no_online_campaigns"),()=>d()("dashboard.campaigns.no_online_description")]),m(L,z)};D(ot,L=>{y().length===0&&L(Pt)})}e(bt),e(K),e(x),G((L,z)=>{p(Ue,L),p(st,` ${z??""}`)},[()=>d()("dashboard.campaigns.new_campaign"),()=>d()("dashboard.campaigns.public_campaigns")]),_t(1,x,()=>wt,()=>({x:100,duration:300,easing:xt})),_t(2,x,()=>wt,()=>({x:100,duration:300,easing:xt})),m(i,x)};D(Ia,i=>{s(f)==="characters"?i(Ea):i(Pa,!1)})}e(Et);var Qt=a(Et,2);rs(Qt,{get isOpen(){return s(ie)},get initialData(){return s(F)},onClose:()=>c(ie,!1),onSave:M});var Zt=a(Qt,2);Ja(Zt,{get isOpen(){return s(k)},get initialData(){return s(C)},onClose:()=>c(k,!1),onSave:me});var ea=a(Zt,2);La(ea,{get isOpen(){return s(te)},get title(){return s(ne).title},get message(){return s(ne).message},get onConfirm(){return s(ne).onConfirm},onCancel:()=>c(te,!1)});var Na=a(ea,2);ns(Na,{get isOpen(){return s(A)},get characterData(){return s(H)},onClose:()=>c(A,!1),onSave:U}),e(le),G((i,x,g,$,S)=>{aa(ae,`transform: translateX(${s(f)==="campaigns"?"100%":"0%"})`),ye(Y,1,`relative z-10 px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2 ${s(f)==="characters"?"text-white":"text-slate-400 hover:text-white"}`),p(ut,` ${i??""}`),ye(Je,1,`relative z-10 px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2 ${s(f)==="campaigns"?"text-white":"text-slate-400 hover:text-white"}`),p(Tt,` ${x??""}`),Oe(tt,"title",g),p(ka,u()==="pt"?"PT":"EN"),aa(Rt,`transform: translateX(${s(f)==="campaigns"?"100%":"0%"})`),ye(at,1,`relative flex-1 py-3 rounded-xl text-xs font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 z-10 ${s(f)==="characters"?"text-indigo-400":"text-slate-500"}`),p(za,$),ye(gt,1,`relative flex-1 py-3 rounded-xl text-xs font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 z-10 ${s(f)==="campaigns"?"text-indigo-400":"text-slate-500"}`),p(Ta,S)},[()=>d()("dashboard.tabs.characters"),()=>d()("dashboard.tabs.campaigns"),()=>d()("common.labels.language")||"Language",()=>d()("dashboard.tabs.characters"),()=>d()("dashboard.tabs.campaigns")]),m(l,le),ct(),O()}vt(["click"]);var Fs=w("<!> <!>",1);function ao(l){var o=Fs(),n=re(o);es(n,{});var v=a(n,2);Os(v,{}),m(l,o)}export{ao as component};
