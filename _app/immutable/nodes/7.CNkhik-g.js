import{f as j,a as C}from"../chunks/vbI-l42I.js";import"../chunks/BX-sjYO1.js";import{o as G}from"../chunks/D_FouEMM.js";import{p as H,t as E,g as e,b as K,s as l,c as r,m as $,d as v,u as P,r as s}from"../chunks/BlobBfBu.js";import{e as A,s as c}from"../chunks/OaA2MUvX.js";import{e as N,b as O,j as Q,s as I,i as U,r as V,a as M}from"../chunks/BO950AV2.js";import{i as W}from"../chunks/DGloBz3m.js";import{s as X,a as Y}from"../chunks/iJn5IoH5.js";import{$ as Z}from"../chunks/CYXxo5Ah.js";var ee=j("<div><span> </span></div>"),te=j('<main class="p-4 max-w-lg mx-auto"><div class="mb-4 p-2 bg-gray-100 rounded"><h1 class="font-bold text-xl">Chat Trystero (Serverless)</h1> <p class="text-sm text-gray-600"> </p> <p class="text-xs text-gray-400"> </p></div> <div class="h-64 border rounded overflow-y-auto p-2 mb-4 bg-white"></div> <div class="flex gap-2"><input class="flex-1 border p-2 rounded" placeholder="Digite algo..."/> <button class="bg-blue-600 text-white px-4 rounded"> </button></div></main>');function me(D,S){H(S,!1);const z=()=>Y(Z,"$_",J),[J,L]=X(),R={appId:"weird-wizard-vault"};let p,h,n=$([]),o=$(""),m=$(0);G(()=>{p=Q(R,"sala-geral");const[a,i]=p.makeAction("message");h=a,i((t,d)=>{v(n,[...e(n),{sender:"Amigo",text:t,id:d}])}),p.onPeerJoin(t=>{P(m),console.log(`Peer ${t} entrou`)}),p.onPeerLeave(t=>{P(m,-1),console.log(`Peer ${t} saiu`)})});function y(){e(o)&&(h(e(o)),v(n,[...e(n),{sender:"Eu",text:e(o),id:M}]),v(o,""))}W();var x=te(),g=r(x),f=l(r(g),2),T=r(f);s(f);var w=l(f,2),q=r(w);s(w),s(g);var b=l(g,2);N(b,5,()=>e(n),U,(a,i)=>{var t=ee(),d=r(t),F=r(d,!0);s(d),s(t),E(()=>{I(t,1,`mb-2 ${e(i).sender==="Eu"?"text-right":"text-left"}`),I(d,1,`inline-block px-3 py-1 rounded text-sm
          ${e(i).sender==="Eu"?"bg-blue-600 text-white":"bg-gray-200 text-black"}`),c(F,e(i).text)}),C(a,t)}),s(b);var k=l(b,2),u=r(k);V(u);var _=l(u,2),B=r(_,!0);s(_),s(k),s(x),E(a=>{c(T,`Status: ${e(m)>0?"ðŸŸ¢ Conectado":"ðŸŸ¡ Aguardando peers..."} 
      (${e(m)??""} online)`),c(q,`ID: ${M??""}`),c(B,a)},[()=>z()("chat.send")]),O(u,()=>e(o),a=>v(o,a)),A("keydown",u,a=>a.key==="Enter"&&y()),A("click",_,y),C(D,x),K(),L()}export{me as component};
