import{b as Vo,d as Wo,a as l,c as T,f,t as zt}from"../chunks/BRTMgXkI.js";import"../chunks/Dk46Yrm8.js";import{h as At,a as ts,J as cr,b5 as Go,A as Xo,ah as Yo,b6 as Qo,C as Ko,z as Jo,I as as,B as vr,ad as Zo,t as ei,q as cs,y as vs,v as r,ae as a,d as n,k as xe,w as D,af as t,g as e,aU as pr,b7 as fr,b8 as Nt,b9 as ti,x as P,m as We,s as U,ba as $,n as be,bb as ht,bc as Wt,an as rs}from"../chunks/BwAmkLWk.js";import{s as k}from"../chunks/CP1S4VyT.js";import{e as qe,i as Ce,b as $e,a as ai}from"../chunks/D4EOzbzc.js";import{B as ri,l as ce,p as Lt,s as _e,i as A}from"../chunks/DxPAIYby.js";import{b as ss,s as Gt,a as we,c as si,r as Pe,d as Tt}from"../chunks/B_OzcHYs.js";import{g as oi,f as _}from"../chunks/BYC1B8Vp.js";import{i as us}from"../chunks/DjppR_Fy.js";import{s as ve}from"../chunks/BS1IUiQ2.js";function ii(M,c,y,h,w,ee){let v=At;At&&ts();var g=null;At&&cr.nodeType===Go&&(g=cr,ts());var ut=At?cr:M,Dt=new ri(ut,!1);Xo(()=>{const Ne=c()||null;var b=Qo;if(Ne===null){Dt.ensure(null,null);return}return Dt.ensure(Ne,nt=>{if(Ne){if(g=At?g:document.createElementNS(b,Ne),Vo(g,g),h){At&&oi(Ne)&&g.append(document.createComment(""));var at=At?Ko(g):g.appendChild(Jo());At&&(at===null?as(!1):vr(at)),h(g,at)}Zo.nodes_end=g,nt.before(g)}At&&vr(nt)}),()=>{}},Yo),ei(()=>{}),v&&(as(!0),vr(ut))}function ur(M){return function(...c){var y=c[0];return y.stopPropagation(),M?.apply(this,c)}}const ni={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var di=Wo("<svg><!><!></svg>");function ge(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]),h=ce(y,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);cs(c,!1);let w=Lt(c,"name",8,void 0),ee=Lt(c,"color",8,"currentColor"),v=Lt(c,"size",8,24),g=Lt(c,"strokeWidth",8,2),ut=Lt(c,"absoluteStrokeWidth",8,!1),Dt=Lt(c,"iconNode",24,()=>[]);const Ne=(...d)=>d.filter((G,dt,Ze)=>!!G&&Ze.indexOf(G)===dt).join(" ");us();var b=di();ss(b,(d,G)=>({...ni,...h,width:v(),height:v(),stroke:ee(),"stroke-width":d,class:G}),[()=>(xe(ut()),xe(g()),xe(v()),n(()=>ut()?Number(g())*24/Number(v()):g())),()=>(xe(w()),xe(y),n(()=>Ne("lucide-icon","lucide",w()?`lucide-${w()}`:"",y.class)))]);var nt=a(b);qe(nt,1,Dt,Ce,(d,G)=>{var dt=pr(()=>fr(e(G),2));let Ze=()=>e(dt)[0],s=()=>e(dt)[1];var mt=T(),wt=D(mt);ii(wt,Ze,!0,(rt,bt)=>{ss(rt,()=>({...s()}))}),l(d,mt)});var at=r(nt);ve(at,c,"default",{}),t(b),l(M,b),vs()}function os(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"}]];ge(M,_e({name:"activity"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function li(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z"}],["path",{d:"M8 10h8"}],["path",{d:"M8 18h8"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"}]];ge(M,_e({name:"backpack"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function ci(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"}],["path",{d:"m22 2-1.5 1.5"}]];ge(M,_e({name:"bomb"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function vi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]];ge(M,_e({name:"book"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function ui(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"m9 18 6-6-6-6"}]];ge(M,_e({name:"chevron-right"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function pi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]];ge(M,_e({name:"clock"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function is(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M16.17 7.83 2 22"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12"}],["path",{d:"m7.83 7.83 8.34 8.34"}]];ge(M,_e({name:"clover"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function fi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["circle",{cx:"8",cy:"8",r:"6"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}],["path",{d:"M7 6h1v4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82"}]];ge(M,_e({name:"coins"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function bi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18"}]];ge(M,_e({name:"crosshair"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function ns(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6"}],["path",{d:"M6 18h.01"}],["path",{d:"M10 14h.01"}],["path",{d:"M15 6h.01"}],["path",{d:"M18 9h.01"}]];ge(M,_e({name:"dices"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function xi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21"}],["path",{d:"m5.082 11.09 8.828 8.828"}]];ge(M,_e({name:"eraser"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function _i(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z"}]];ge(M,_e({name:"fast-forward"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function gi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];ge(M,_e({name:"file-text"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function hi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M12 7v5l4 2"}]];ge(M,_e({name:"history"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function ds(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8"}]];ge(M,_e({name:"infinity"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function mi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"m5 8 6 6"}],["path",{d:"m4 14 6-6 2-3"}],["path",{d:"M2 5h12"}],["path",{d:"M7 2h1"}],["path",{d:"m22 22-5-10-5 10"}],["path",{d:"M14 18h6"}]];ge(M,_e({name:"languages"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function It(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M5 12h14"}]];ge(M,_e({name:"minus"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function ls(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];ge(M,_e({name:"moon"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function vt(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];ge(M,_e({name:"plus"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function yi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M12 6a2 2 0 0 0-3.414-1.414l-6 6a2 2 0 0 0 0 2.828l6 6A2 2 0 0 0 12 18z"}],["path",{d:"M22 6a2 2 0 0 0-3.414-1.414l-6 6a2 2 0 0 0 0 2.828l6 6A2 2 0 0 0 22 18z"}]];ge(M,_e({name:"rewind"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function $i(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];ge(M,_e({name:"settings"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function wi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}]];ge(M,_e({name:"shield"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function ki(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"}],["path",{d:"M20 2v4"}],["path",{d:"M22 4h-4"}],["circle",{cx:"4",cy:"20",r:"2"}]];ge(M,_e({name:"sparkles"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function Mi(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"}],["path",{d:"m9 11 3 3L22 4"}]];ge(M,_e({name:"square-check-big"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function Xt(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];ge(M,_e({name:"square-pen"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function Ai(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];ge(M,_e({name:"square"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function la(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"m11 19-6-6"}],["path",{d:"m5 21-2-2"}],["path",{d:"m8 16-4 4"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5"}]];ge(M,_e({name:"sword"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function jt(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];ge(M,_e({name:"trash-2"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function Ni(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];ge(M,_e({name:"triangle-alert"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function Si(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72"}],["path",{d:"m14 7 3 3"}],["path",{d:"M5 6v4"}],["path",{d:"M19 14v4"}],["path",{d:"M10 2v2"}],["path",{d:"M7 8H3"}],["path",{d:"M21 16h-4"}],["path",{d:"M11 3H9"}]];ge(M,_e({name:"wand-sparkles"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function ca(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];ge(M,_e({name:"x"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}function va(M,c){const y=ce(c,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}]];ge(M,_e({name:"zap"},()=>y,{get iconNode(){return h},children:(w,ee)=>{var v=T(),g=D(v);ve(g,c,"default",{}),l(w,v)},$$slots:{default:!0}}))}const zi=["Aeromancy","Alchemy","Alteration","Animism","Astromancy","Chaos","Chronomancy","Conjuration","Cryomancy","Dark Arts","Destruction","Divination","Eldritch","Enchantment","Evocation","Geomancy","Hydromancy","Illusion","Invocation","Necromancy","Oneiromancy","Order","Primal","Protection","Psychomancy","Pyromancy","Shadowmancy","Skullduggery","Spiritualism","Symbolism","Technomancy","Teleportation","War"],ua={NEXT_ROLL:"Próxima Rolagem",ROUNDS:"Rodadas",MINUTES:"Minutos",HOURS:"Horas",DAYS:"Dias",LUCK_ENDS:"Sorte Encerra",PERMANENT:"Indeterminado"},le={WEAPON:"Weapon",ARMOR:"Armor",SHIELD:"Shield",CONSUMABLE:"Consumable",EXPLOSIVE:"Explosive",OTHER:"Other"},Te={ADD:"ADD",SET:"SET",MULT:"MULT"},pa={str:"Força",agi:"Agilidade",int:"Intelecto",wil:"Vontade",defense:"Defesa",speed:"Deslocamento",health:"Vida",damage:"Dano (Dados)",boons:"Boons/Banes"},fa={Blinded:{effect:"Make rolls with 3 banes. No sight reactions. Speed halved.",speedMult:.5,rollMod:-3},Confused:{effect:"No reactions. Intellect and Will rolls with 1 bane.",rollMod:-1,attributes:["int","wil"]},Controlled:{effect:"Controller decides your turn. Regard source as ally."},Cursed:{effect:"Luck rolls with 1 bane."},Deafened:{effect:"No hearing reactions. Immune to hearing effects."},Frightened:{effect:"Attribute rolls with 1 bane (while in LOS). Grant 1 boon on rolls against you.",rollMod:-1},Held:{effect:"Speed 0. Cannot increase Speed. Auto-fail Agility defense rolls.",speedFixed:0},Impaired:{effect:"Roll with 1 bane for specified attribute. Grant 1 boon against that attribute.",rollMod:-1},Incapacitated:{effect:"Damage equals or exceeds Health. You cannot use actions or reactions. Speed 0.",speedFixed:0},"On Fire":{effect:"Take 1d6 damage at end of round. Action/Luck roll to extinguish."},Poisoned:{effect:"Attribute rolls with 1 bane. Grant 1 boon against you. Lose 1d6 Health end of round.",rollMod:-1},Prone:{effect:"No reactions. Grant 1 boon to melee vs you, impose 1 bane to ranged vs you."},Slowed:{effect:"Speed drops to 2 (if higher). Cannot benefit from Speed increases.",speedCap:2},Stunned:{effect:"No actions/reactions. Speed 0. Grant 2 boons against you. Attribute rolls with 2 banes.",speedFixed:0,rollMod:-2},Unconscious:{effect:"No actions/reactions. Speed 0. Grant 3 boons against you. Auto-fail attribute rolls.",speedFixed:0,autoFail:!0},Vulnerable:{effect:"Grant 1 boon on attacks/rolls against you."},Weakened:{effect:"Strength/Agility rolls with 1 bane. Grant 1 boon vs Str/Agi. Speed halved.",speedMult:.5,attributes:["str","agi"],rollMod:-1}},qt={OFF:"Off",ONE:"One",TWO:"Two"};var Di=f('<div class="fixed inset-0 bg-black/50 z-[90] lg:hidden backdrop-blur-sm"></div>'),Ei=f('<div class="text-center text-slate-500 text-sm mt-10 italic">Nenhuma rolagem.</div>'),Pi=f('<div class="text-xs text-slate-400 italic mb-2 whitespace-pre-wrap"> </div>'),Ti=f('<span class="text-[9px] bg-indigo-900/50 text-indigo-200 px-1.5 py-0.5 rounded border border-indigo-800/50"> </span>'),qi=f('<div class="flex flex-wrap gap-1 mb-2"></div>'),Ci=f('<div class="bg-slate-900 rounded p-2 flex justify-between items-center"><div class="text-xs font-mono text-slate-400"> </div> <div> </div></div>'),Oi=f('<div class="bg-slate-800 rounded-lg border border-slate-700 p-3 shadow-sm animate-in slide-in-from-right-4"><div class="flex justify-between items-start mb-1"><span class="text-[10px] text-slate-400 uppercase font-bold"> </span> <span class="text-[10px] text-slate-500"> </span></div> <div class="font-bold text-white mb-1"> </div> <!> <!> <!></div>'),Ri=f("<option> </option>"),Li=f("<option> </option>"),Ii=f('<div class="grid grid-cols-3 gap-2"><input type="number" class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs" placeholder="Dano (d6)"/> <input class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs col-span-2" placeholder="Traits"/> <select class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs"></select> <input class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs col-span-2" placeholder="Range"/></div>'),ji=f('<div class="grid grid-cols-2 gap-2"><input type="number" class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs" placeholder="Fixed Def"/> <input type="number" class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs" placeholder="Mod Def"/></div>'),Ui=f('<button class="bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded"><!></button>'),Hi=f('<div class="space-y-3"><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white font-bold" placeholder="Nome"/> <div class="grid grid-cols-2 gap-2"><select class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs"></select> <input type="number" class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs" placeholder="Qtd"/></div> <!> <!> <textarea class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm" placeholder="Descrição"></textarea> <div class="flex gap-2"><!> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded">Salvar</button></div></div>'),Fi=f("<option> </option>"),Bi=f("<option> </option>"),Vi=f('<button class="bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded"><!></button>'),Wi=f('<div class="space-y-3"><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white font-bold" placeholder="Nome"/> <div class="grid grid-cols-2 gap-2"><select class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs"></select> <select class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs"></select></div> <div class="flex items-center gap-2 bg-slate-900 p-2 rounded border border-slate-700"><label class="text-xs text-slate-400 uppercase">Castings</label> <input type="number" class="w-16 bg-slate-800 border border-slate-600 rounded p-1 text-white text-center"/></div> <div class="bg-slate-900 p-2 rounded border border-slate-700 flex justify-between items-center"><span class="text-xs text-slate-400 font-bold uppercase">Efeito Associado</span> <button> </button></div> <textarea class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm" placeholder="Descrição"></textarea> <div class="flex gap-2"><!> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded">Salvar</button></div></div>'),Gi=f('<div class="flex items-center gap-2 border-l border-slate-700 pl-2"><label class="text-xs text-slate-400 uppercase">Max Uses</label> <input type="number" class="w-16 bg-slate-800 border border-slate-600 rounded p-1 text-white text-center"/></div>'),Xi=f('<button class="bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded"><!></button>'),Yi=f('<div class="space-y-3"><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white font-bold" placeholder="Nome"/> <div class="flex items-center gap-2 bg-slate-900 p-2 rounded border border-slate-700"><input type="checkbox" id="isPassive" class="w-4 h-4 rounded bg-slate-800 border-slate-600 text-indigo-600 focus:ring-indigo-500"/> <label for="isPassive" class="text-xs text-slate-400 uppercase font-bold flex-1 cursor-pointer">Passivo / Ilimitado</label> <!></div> <div class="bg-slate-900 p-2 rounded border border-slate-700 flex justify-between items-center"><span class="text-xs text-slate-400 font-bold uppercase">Efeito Associado</span> <button> </button></div> <textarea class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm" placeholder="Descrição"></textarea> <div class="flex gap-2"><!> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded">Salvar</button></div></div>'),Qi=f('<div><label class="text-xs font-bold text-slate-400 uppercase">Nome</label><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></div>'),Ki=f('<div class="text-center text-xs text-slate-500 italic mb-2">Nome e Descrição herdados do item pai.</div>'),Ji=f("<option> </option>"),Zi=f('<input type="number" class="bg-slate-900 border border-slate-700 rounded p-2 text-white"/>'),en=f("<option> </option>"),tn=f('<div class="flex gap-1 items-center"><select class="bg-slate-900 border border-slate-700 rounded text-[10px] text-white p-1 w-1/3"></select> <select class="bg-slate-900 border border-slate-700 rounded text-[10px] text-white p-1 w-1/4"><option>Add (+/-)</option><option>Set (=)</option><option>Mult (x)</option></select> <input type="number" class="bg-slate-900 border border-slate-700 rounded text-[10px] text-white p-1 w-1/4 text-center"/> <button class="text-slate-600 hover:text-red-400 p-1"><!></button></div>'),an=f('<div><label class="text-xs font-bold text-slate-400 uppercase">Descrição</label><textarea class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"></textarea></div>'),rn=f('<div class="space-y-4"><!> <div><label class="text-xs font-bold text-slate-400 uppercase">Duração</label> <div class="grid grid-cols-2 gap-2"><select class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"></select> <!></div></div> <div class="bg-slate-950 p-3 rounded border border-slate-800"><div class="flex justify-between items-center mb-2"><span class="text-xs font-bold text-indigo-400 uppercase">Modificadores</span> <button class="text-[10px] bg-slate-800 hover:bg-slate-700 px-2 py-1 rounded border border-slate-600 flex items-center gap-1"><!> Add</button></div> <div class="space-y-2"></div></div> <!> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded">Salvar Efeito</button></div>'),sn=f('<div class="space-y-4"><h3 class="text-white font-bold text-lg"> </h3> <div><label class="text-xs text-slate-400 uppercase font-bold">Valor Base</label><input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded">Salvar</button></div>'),on=f('<div class="space-y-4"><div class="grid grid-cols-2 gap-4"><div><label class="text-xs text-slate-400 uppercase font-bold">Vida Normal</label><input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></div> <div><label class="text-xs text-slate-400 uppercase font-bold">Vida Atual</label><input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></div></div> <div><label class="text-xs text-red-400 uppercase font-bold">Dano</label><input type="number" class="w-full bg-slate-900 border border-red-900/50 rounded p-2 text-white"/></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded">Atualizar</button></div>'),nn=f('<div class="flex items-center gap-2 text-xs text-red-300"><!> </div>'),dn=f("<button><!> </button>"),ln=f('<div class="bg-slate-900 p-2 rounded border border-slate-700 max-h-40 overflow-y-auto"><!> <!></div>'),cn=f('<div class="space-y-4"><h3 class="text-center font-bold text-white uppercase mb-2">Rolagem</h3> <!> <div class="bg-slate-900 p-4 rounded-lg border border-slate-700 text-center"><div class="flex justify-center items-center gap-6 mb-2"><button class="w-12 h-12 rounded-full bg-slate-800 hover:bg-red-900 flex items-center justify-center text-slate-300 hover:text-white border border-slate-700"><!></button> <span> </span> <button class="w-12 h-12 rounded-full bg-slate-800 hover:bg-green-900 flex items-center justify-center text-slate-300 hover:text-white border border-slate-700"><!></button></div> <div class="text-xs text-slate-500"> </div></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2"><!> ROLAR</button></div>'),vn=f('<div class="space-y-4 text-center"><h3 class="text-xl font-bold text-white mb-2"> </h3> <div class="grid grid-cols-2 gap-4"><button class="flex flex-col items-center justify-center p-6 bg-slate-700 hover:bg-indigo-600 rounded-xl border border-slate-600 transition-colors"><!><span class="font-bold text-white">ATAQUE</span></button> <button class="flex flex-col items-center justify-center p-6 bg-slate-700 hover:bg-red-600 rounded-xl border border-slate-600 transition-colors"><!><span class="font-bold text-white">DANO</span></button></div></div>'),un=f('<div class="space-y-4"><div><label class="text-xs font-bold text-slate-400 uppercase">Nome</label><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></div> <div class="grid grid-cols-2 gap-4"><div><label class="text-xs font-bold text-slate-400 uppercase">Nível</label><input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></div> <div><label class="text-xs font-bold text-slate-400 uppercase">Ancestralidade</label><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></div></div> <div class="pt-2 border-t border-slate-700 space-y-3"><div><label class="text-[10px] font-bold text-slate-400 uppercase">Novice</label><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"/></div> <div><label class="text-[10px] font-bold text-slate-400 uppercase">Expert</label><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"/></div> <div><label class="text-[10px] font-bold text-slate-400 uppercase">Master</label><input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"/></div></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded mt-2">Salvar</button></div>'),pn=f('<div class="mt-4 border-t border-slate-700 pt-3"><div class="flex items-center gap-2 mb-2 text-xs font-bold text-green-400 uppercase"><!> Efeito Associado</div> <button class="w-full bg-green-900/50 hover:bg-green-800 text-green-200 border border-green-700 p-2 rounded text-xs font-bold flex items-center justify-center gap-2">APLICAR EFEITO E CONFIRMAR</button></div>'),fn=f('<div class="space-y-4 text-center"><h3 class="text-white font-bold text-lg">Confirmar Uso</h3> <div class="bg-slate-900 p-3 rounded border border-slate-700 text-left"><p class="text-indigo-300 font-bold text-xl mb-1 text-center"> </p> <p class="text-slate-400 text-sm italic mb-2 text-center"> </p> <!></div> <div class="flex gap-4 justify-center"><button class="px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-white">Cancelar</button> <button class="px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-white font-bold">Confirmar</button></div></div>'),bn=f('<button><div class="font-bold mb-1"> </div> <div class="text-[9px] opacity-70 line-clamp-2"> </div></button>'),xn=f('<div class="grid grid-cols-2 gap-2 max-h-80 overflow-y-auto"></div>'),_n=f('<div class="text-center space-y-6"><div class="flex justify-center"><!></div> <div><p class="text-lg text-white font-bold">Realizar Descanso?</p></div> <div class="flex gap-4 justify-center"><button class="px-6 py-2 rounded bg-slate-700 hover:bg-slate-600 text-white font-bold">Cancelar</button><button class="px-6 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-white font-bold">Descansar</button></div></div>'),gn=f('<button class="w-full text-left p-2 bg-slate-900 border border-slate-700 rounded hover:bg-indigo-900/30 flex justify-between disabled:opacity-50"><span class="text-white font-bold"> </span> <span> </span></button>'),hn=f('<div class="space-y-2 max-h-60 overflow-y-auto"></div>'),mn=f('<span class="text-xs text-slate-500 flex items-center gap-1"><!> Passivo</span>'),yn=f("<span> </span>"),$n=f('<button class="w-full text-left p-2 bg-slate-900 border border-slate-700 rounded hover:bg-yellow-900/30 flex justify-between disabled:opacity-50"><span class="text-white font-bold"> </span> <!></button>'),wn=f('<div class="space-y-2 max-h-60 overflow-y-auto"></div>'),kn=f('<div class="fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200"><div class="bg-slate-800 border border-slate-600 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col"><div class="bg-slate-900 p-4 border-b border-slate-700 flex justify-between items-center shrink-0"><h3 class="font-bold text-lg text-white flex items-center gap-2"><!></h3> <button class="text-slate-400 hover:text-white transition-colors"><!></button></div> <div class="p-6 overflow-y-auto custom-scrollbar"><!></div></div></div>'),Mn=f('<span class="text-[10px] text-cyan-400"> </span>'),An=f('<div class="absolute top-0 left-0 w-full h-full z-20 bg-cyan-400/10 pointer-events-none animate-pulse"></div>'),Nn=f('<span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>'),Sn=f("<span> </span>"),zn=f('<div class="bg-slate-900 p-2 rounded border border-slate-800 text-center cursor-pointer hover:bg-slate-800 transition-colors group relative"><span class="text-[10px] uppercase text-slate-500 font-bold group-hover:text-indigo-400 transition-colors"> </span> <div class="text-xl font-bold text-white flex justify-center items-center gap-1"> <!></div> <div class="text-xs text-indigo-400 font-mono"> </div> <button class="absolute top-1 right-1 text-slate-600 hover:text-white"><!></button></div>'),Dn=f('<span class="text-[10px] text-red-500 leading-none">Reduzido</span>'),En=f('<span class="bg-slate-950 border border-slate-700 text-slate-300 px-1.5 py-0.5 rounded text-[10px] flex items-center gap-1 group cursor-default"> <button class="text-slate-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity"><!></button></span>'),Pn=f('<span class="text-xs text-slate-500 italic">Nenhuma aflição ativa.</span>'),Tn=f('<div class="group relative"><div class="text-xs bg-red-900/30 border border-red-700 text-red-200 px-2 py-1 rounded flex items-center gap-1 cursor-help"> <button class="ml-1 text-red-400 hover:text-white"><!></button></div></div>'),qn=f('<span class="text-[10px] bg-indigo-900 text-indigo-200 px-1 rounded uppercase"> </span>'),Cn=f('<button class="text-xs bg-red-900/50 text-red-200 px-3 py-1 rounded border border-red-800 hover:bg-red-900 flex items-center gap-1"><!> </button>'),On=f('<div class="flex flex-col sm:flex-row justify-between p-4 bg-slate-950 rounded-lg border border-slate-800 hover:border-indigo-900 cursor-pointer transition-colors gap-4 active:scale-[0.99]"><div class="flex items-start gap-3"><div class="bg-slate-800 p-2 rounded text-slate-400 mt-1"><!></div> <div><p class="font-bold text-white flex items-center gap-2"> <!></p><p class="text-xs text-slate-500"> </p></div></div> <div class="flex flex-col items-end gap-2"><div class="flex items-center gap-4 bg-slate-900 p-2 rounded-lg border border-slate-800"><div class="text-center px-2"><span class="block text-[10px] font-bold text-slate-500 uppercase">Dano</span><span class="text-xl font-mono text-white font-bold"> </span></div></div> <!></div></div>'),Rn=f('<div class="flex flex-col sm:flex-row items-center p-4 bg-slate-950 rounded-lg border border-slate-800 hover:border-indigo-500 cursor-pointer transition-colors gap-4 group"><div class="flex items-start gap-3 w-full"><div class="bg-indigo-900/50 p-2 rounded text-indigo-300 mt-1"><!></div><div><p class="font-bold text-white flex items-center gap-2 group-hover:text-indigo-300 transition-colors">Conjurar Magia</p><p class="text-xs text-slate-500">Selecione uma magia do grimório para lançar.</p></div></div> <div class="ml-auto"><div class="bg-slate-900 px-3 py-1 rounded text-xs font-bold text-indigo-400 uppercase tracking-wider border border-slate-800">Selecionar</div></div></div>'),Ln=f('<div class="flex flex-col sm:flex-row items-center p-4 bg-slate-950 rounded-lg border border-slate-800 hover:border-yellow-600 cursor-pointer transition-colors gap-4 group"><div class="flex items-start gap-3 w-full"><div class="bg-yellow-900/30 p-2 rounded text-yellow-300 mt-1"><!></div><div><p class="font-bold text-white flex items-center gap-2 group-hover:text-yellow-300 transition-colors">Usar Talento</p><p class="text-xs text-slate-500">Ative uma habilidade ou talento especial.</p></div></div> <div class="ml-auto"><div class="bg-slate-900 px-3 py-1 rounded text-xs font-bold text-yellow-500 uppercase tracking-wider border border-slate-800">Selecionar</div></div></div>'),In=f('<div class="space-y-4"><!> <!> <!></div>'),jn=f('<div class="text-center text-slate-500 italic py-4">Nenhum efeito ativo.</div>'),Un=f("<span> </span>"),Hn=f('<div class="flex flex-wrap gap-1 mt-1"></div>'),Fn=f('<button class="bg-yellow-900/40 hover:bg-yellow-800/40 text-yellow-500 border border-yellow-800 px-2 py-0.5 rounded flex items-center gap-1"><!> Sorte Encerra</button>'),Bn=f('<div><div class="flex justify-between items-start"><div class="flex items-center gap-2"><button><div></div></button> <span class="font-bold text-white"> </span></div> <div class="flex gap-2"><button class="text-slate-500 hover:text-white"><!></button> <button class="text-slate-500 hover:text-red-400"><!></button></div></div> <div class="text-xs text-slate-400"> </div> <!> <div class="flex justify-between items-center text-[10px] text-slate-500 font-mono mt-1 border-t border-slate-800 pt-2"><span class="flex items-center gap-1"><!> </span> <!></div></div>'),Vn=f('<div class="space-y-4"><div class="flex justify-between items-center bg-slate-900 p-3 rounded-lg border border-slate-800"><div class="flex items-center gap-4"><button class="p-2 hover:bg-slate-700 rounded text-slate-400"><!></button> <div class="text-center"><div class="text-[10px] text-slate-500 font-bold uppercase">Rodada Atual</div> <div class="text-2xl font-mono font-bold text-white"> </div></div> <button class="p-2 hover:bg-slate-700 rounded text-white"><!></button></div> <div class="flex gap-2"><button class="bg-slate-800 hover:bg-red-900/50 text-slate-400 hover:text-red-300 px-3 py-1.5 rounded text-xs font-bold flex items-center gap-1 border border-slate-700"><!> Limpar Inativos</button> <button class="bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1.5 rounded text-xs font-bold flex items-center gap-1"><!> Novo Efeito</button></div></div> <div class="space-y-2"><!> <!></div></div>'),Wn=f('<div class="p-4 bg-slate-950 rounded-lg border border-slate-800 group hover:border-slate-600"><div class="flex justify-between mb-2"><div class="font-bold text-white"> <span class="text-[10px] text-slate-500 font-normal ml-1"> </span></div><button class="text-slate-600 hover:text-white"><!></button></div> <div class="text-xs text-slate-400 mb-3 line-clamp-2"> </div> <div class="flex items-center justify-between bg-slate-900 p-2 rounded"><span class="text-[10px] font-bold text-slate-500 uppercase">Castings</span><div class="flex items-center gap-2"><span> </span><button class="bg-indigo-600 disabled:opacity-50 text-white text-[10px] px-2 py-1 rounded">CAST</button></div></div></div>'),Gn=f('<div><h4 class="text-xs font-black text-indigo-400 uppercase tracking-widest border-b border-slate-800 pb-1 mb-2"> </h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-3"></div></div>'),Xn=f('<div class="space-y-6"><div class="flex justify-between items-center"><h3 class="text-xs font-bold text-slate-500 uppercase">Grimório</h3><button class="text-xs bg-indigo-600 hover:bg-indigo-500 px-3 py-1.5 rounded text-white font-bold flex items-center gap-1"><!> Add</button></div> <!></div>'),Yn=f('<span class="block text-[10px] text-slate-500 uppercase font-bold">Tipo</span> <span class="font-bold text-white text-xs flex items-center justify-center gap-1"><!> Passivo</span>',1),Qn=f('<span class="block text-[10px] text-slate-500 uppercase font-bold">Usos</span> <span> </span>',1),Kn=f('<div class="flex flex-col gap-1"><button class="bg-slate-700 disabled:opacity-30 hover:bg-slate-600 text-green-400 p-1 rounded h-6 w-6 flex items-center justify-center"><!></button><button class="bg-slate-700 disabled:opacity-30 hover:bg-slate-600 text-white p-1 rounded h-6 w-6 flex items-center justify-center"><!></button></div>'),Jn=f('<div class="p-4 bg-slate-950 border border-slate-800 rounded-lg flex flex-col md:flex-row md:items-center gap-4 group hover:border-slate-600 transition-colors"><div class="flex-1"><div class="flex items-center gap-2 mb-1"><h4 class="font-bold text-white flex items-center gap-2"><!> </h4><button class="text-slate-600 hover:text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity"><!></button></div> <p class="text-sm text-slate-400"> </p></div> <div class="shrink-0 flex items-center gap-3 bg-slate-900 p-2 rounded border border-slate-800"><div class="text-center"><!></div> <!></div></div>'),Zn=f('<div class="space-y-4"><div class="flex justify-between items-center mb-4"><h3 class="text-xs font-bold text-slate-500 uppercase">Talentos & Habilidades</h3><button class="text-xs bg-indigo-600 hover:bg-indigo-500 px-3 py-1.5 rounded text-white font-bold flex items-center gap-1"><!> Add</button></div> <div class="grid grid-cols-1 gap-3"></div></div>'),ed=f('<span class="block italic text-slate-400"> </span>'),td=f("• Def <!>",1),ad=f('<button class="text-xs bg-slate-800 hover:bg-slate-700 px-2 py-1 rounded border border-slate-600">Usar</button>'),rd=f("<button> </button>"),sd=f("<button>2H</button>"),od=f("<button>Main</button>"),id=f("<!> <button>Off</button>",1),nd=f('<div class="flex justify-center gap-1"><!></div>'),dd=f('<tr class="hover:bg-slate-900/50"><td class="p-3"><div class="font-bold text-white"> </div><div class="text-[10px] text-slate-500"> <!><!></div></td><td class="p-3"><span class="text-[10px] border border-slate-700 px-1 rounded uppercase bg-slate-900"> </span></td><td class="p-3 text-center"><!></td><td class="p-3 text-right font-mono"> </td><td class="p-3"><button class="text-slate-500 hover:text-white"><!></button></td></tr>'),ld=f('<div class="space-y-4"><div class="flex justify-between items-center"><h3 class="text-xs font-bold text-slate-500 uppercase">Inventário</h3><button class="text-xs bg-indigo-600 hover:bg-indigo-500 px-3 py-1.5 rounded text-white font-bold flex items-center gap-1"><!> Novo Item</button></div> <div class="bg-slate-950 rounded-lg border border-slate-800 overflow-hidden"><table class="w-full text-sm text-left"><thead class="bg-slate-900 text-slate-400 font-bold uppercase text-[10px]"><tr><th class="p-3">Item</th><th class="p-3">Tipo</th><th class="p-3 text-center">Ações / Equipar</th><th class="p-3 text-right">Qtd</th><th class="p-3 w-8"></th></tr></thead><tbody class="divide-y divide-slate-800 text-slate-300"></tbody></table></div></div>'),cd=f('<div class="space-y-4"><div class="flex justify-between items-center mb-2"><h3 class="text-xs font-bold text-slate-500 uppercase">Anotações do Personagem</h3><span class="text-[10px] text-slate-600 italic">Salvo automaticamente</span></div> <textarea class="w-full h-[60vh] bg-slate-950 border border-slate-800 rounded p-4 text-white resize-none focus:border-indigo-500 focus:outline-none custom-scrollbar leading-relaxed font-mono text-sm" placeholder="Escreva aqui a história, anotações de campanha, NPCs importantes, segredos..."></textarea></div>'),vd=f('<div class="min-h-screen bg-slate-950 text-slate-100 font-sans pb-20 relative overflow-x-hidden"><!> <aside><div class="p-4 border-b border-slate-700 flex justify-between items-center bg-slate-950"><h3 class="font-bold text-white flex items-center gap-2"><!> Histórico</h3> <button class="text-slate-400 hover:text-white"><!></button></div> <div class="flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar"><!> <!></div> <div class="p-4 border-t border-slate-700 bg-slate-950"><button class="w-full py-2 text-xs font-bold text-red-400 hover:text-red-300 border border-red-900/50 rounded hover:bg-red-900/20 flex items-center justify-center gap-2"><!> Limpar</button></div></aside> <!> <header class="bg-slate-900 border-b border-slate-800 sticky top-0 z-40 shadow-xl"><div class="max-w-6xl mx-auto px-4 py-3"><div class="flex flex-col md:flex-row md:items-center justify-between gap-4"><div class="flex items-center gap-3 group relative"><div class="w-12 h-12 bg-indigo-600 rounded-full border border-slate-500 flex items-center justify-center text-xl font-bold"> </div> <div><div class="flex items-center gap-2"><h1 class="text-lg font-bold text-white leading-none"> </h1> <button class="text-slate-500 hover:text-white transition-colors"><!></button></div> <p class="text-slate-400 text-xs"> </p></div></div> <div class="flex-1 w-full md:max-w-md cursor-pointer group" role="button" tabindex="0"><div class="flex justify-between text-xs mb-1 px-1"><span> </span> <span class="text-slate-400 font-mono flex items-center gap-1"><span class="text-red-400"> </span> / <span class="text-white"> </span> <!></span></div> <div><div class="absolute top-0 left-0 h-full w-full bg-green-900/30"></div> <div class="absolute top-0 left-0 h-full bg-red-600 transition-all duration-500 z-10"></div> <!></div></div> <div class="flex gap-2"><button class="p-2 bg-slate-800 rounded hover:bg-indigo-900/50 text-indigo-300 transition-colors" title="Descanso"><!></button> <button class="p-2 bg-slate-800 rounded hover:bg-indigo-900/50 text-indigo-300 transition-colors relative" title="Histórico"><!> <!></button></div></div></div></header> <main class="max-w-6xl mx-auto px-4 mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6"><aside class="lg:col-span-3 space-y-4"><div class="grid grid-cols-2 gap-2"></div> <button class="w-full bg-slate-900 hover:bg-slate-800 p-3 rounded-xl border border-slate-800 flex items-center justify-between group transition-colors"><div class="flex items-center gap-2 font-bold text-slate-400 group-hover:text-green-400 uppercase text-xs"><!> Teste de Sorte</div><!></button> <div class="bg-slate-900 p-3 rounded-xl border border-slate-800 space-y-3"><div class="flex justify-between items-center border-b border-slate-800 pb-2 cursor-pointer hover:bg-slate-800/50 rounded px-1 -mx-1 transition-colors"><span class="text-xs font-bold text-slate-400 uppercase flex items-center gap-1"><!> Defesa</span> <span class="text-xl font-bold text-white cursor-help border-b border-dotted border-slate-600"> </span></div> <div class="flex justify-between items-center border-b border-slate-800 pb-2 cursor-pointer hover:bg-slate-800/50 rounded px-1 -mx-1 transition-colors"><span class="text-xs font-bold text-slate-400 uppercase flex items-center gap-1"><!> Speed</span> <div class="flex flex-col items-end"><span> </span> <!></div></div> <div class="flex justify-between items-center"><span class="text-xs font-bold text-slate-400 uppercase flex items-center gap-1"><!> Bonus Dmg</span> <div class="flex items-center gap-2"><button class="text-slate-500 hover:text-white"><!></button> <span class="text-lg font-bold text-white font-mono"> </span> <button class="text-slate-500 hover:text-white"><!></button></div></div></div> <div class="bg-slate-900 p-3 rounded-xl border border-slate-800"><div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-slate-400 uppercase flex items-center gap-1"><!> Moedas</h4></div> <div class="grid grid-cols-3 gap-2 text-center"><div class="bg-slate-950 rounded p-1 border border-slate-800"><div class="text-[9px] text-yellow-500 font-bold uppercase">GP</div><div class="flex items-center justify-between px-1"><button class="text-slate-600 hover:text-red-400"><!></button><span class="text-white font-mono text-sm"> </span><button class="text-slate-600 hover:text-green-400"><!></button></div></div> <div class="bg-slate-950 rounded p-1 border border-slate-800"><div class="text-[9px] text-slate-300 font-bold uppercase">SP</div><div class="flex items-center justify-between px-1"><button class="text-slate-600 hover:text-red-400"><!></button><span class="text-white font-mono text-sm"> </span><button class="text-slate-600 hover:text-green-400"><!></button></div></div> <div class="bg-slate-950 rounded p-1 border border-slate-800"><div class="text-[9px] text-orange-700 font-bold uppercase">CP</div><div class="flex items-center justify-between px-1"><button class="text-slate-600 hover:text-red-400"><!></button><span class="text-white font-mono text-sm"> </span><button class="text-slate-600 hover:text-green-400"><!></button></div></div></div></div> <div class="bg-slate-900 p-3 rounded-xl border border-slate-800"><div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-slate-400 uppercase flex items-center gap-1"><!> Idiomas</h4></div> <div class="flex flex-wrap gap-1 mb-2"></div> <div class="relative"><input type="text" placeholder="Novo..." class="w-full bg-slate-950 border border-slate-700 rounded px-2 py-1 text-[10px] text-white focus:outline-none focus:border-indigo-500"/> <!></div></div> <div class="bg-slate-900 p-3 rounded-xl border border-slate-800"><div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-slate-400 uppercase flex items-center gap-1"><!> Aflições</h4> <button class="text-slate-500 hover:text-white"><!></button></div> <div class="flex flex-wrap gap-2"><!> <!></div></div></aside> <section class="lg:col-span-9"><div class="bg-slate-900 rounded-xl border border-slate-800 min-h-[60vh]"><nav class="flex bg-slate-950/50 border-b border-slate-800 overflow-x-auto no-scrollbar"><button><!> AÇÕES</button> <button><!> MAGIAS</button> <button><!> EFEITOS</button> <button><!> TALENTOS</button> <button><!> ITENS</button> <button><!> NOTAS</button></nav> <div class="p-4 md:p-6"><!> <!> <!> <!> <!> <!></div></div></section></main></div>');function $d(M,c){cs(c,!1);const y=We(),h=We(),w=We(),ee=We(),v=We(),g=We(),ut=We(),Dt=We();let Ne=We("acoes"),b=We({type:null,isOpen:!1,data:null}),nt=We(!1),at=We([]),d=We({}),G=We({}),dt=We(0),Ze=We([]),s=We({name:"Alaric, o Errante",level:3,ancestry:"Humano",paths:{novice:"Mago",expert:"Alquimista",master:"-"},attributes:[{name:"Força",value:10,key:"str"},{name:"Agilidade",value:12,key:"agi"},{name:"Intelecto",value:15,key:"int"},{name:"Vontade",value:11,key:"wil"}],currency:{gp:0,sp:0,cp:0},naturalDefense:10,bonusDamage:0,speed:10,currentRound:1,languages:["Comum","Élfico"],afflictions:[],effects:[],notes:"",spells:[{id:1,name:"Seta de Energia",tier:"Novice",type:"Ataque",tradition:"Destruction",description:"Causa 1d6 de dano a um alvo em alcance curto.",castings:3,maxCastings:3,effect:null},{id:2,name:"Escudo Mágico",tier:"Novice",type:"Utilidade",tradition:"Protection",description:"+2 em Defesa por 1 minuto.",castings:2,maxCastings:2,effect:{id:999,name:"Escudo Mágico",duration:"MINUTES",roundsLeft:10,initialRounds:10,description:"+2 Defesa",isActive:!0,modifiers:[{target:"defense",type:Te.ADD,value:2}]}}],talents:[{id:1,name:"Sentido Arcano",description:"Você detecta magia a curto alcance.",uses:0,maxUses:0,isPassive:!0,effect:null},{id:2,name:"Sorte do Principiante",description:"Pode refazer um teste falho.",uses:1,maxUses:1,isPassive:!1,effect:null}],equipment:[{id:1,name:"Cajado",type:le.WEAPON,quantity:1,price:5,availability:"Common",quality:"Standard",grip:qt.TWO,range:"Melee",damageDice:1,boonsBanes:0,traits:"Finesse, Versatile",equippedState:null,equipped:!1},{id:2,name:"Poção de Cura",type:le.CONSUMABLE,quantity:3,price:10,availability:"Common",quality:"Standard",notes:"Recupera Healing Rate",equippedState:null,equipped:!1},{id:3,name:"Granada Alquímica",type:le.EXPLOSIVE,quantity:2,price:15,availability:"Uncommon",quality:"Standard",damageDice:2,range:"Short",traits:"Blast",description:"Explode em área curta causando 2d6 de dano.",equippedState:null,equipped:!1},{id:4,name:"Couro Batido",type:le.ARMOR,quantity:1,price:20,availability:"Common",quality:"Standard",defenseType:"fixed",defenseFixed:12,armorWeight:"Light",equipped:!1,equippedState:null}]}),mt=We(24),wt=We(24),rt=We(0);function bt(i,o){let u=o;const x=e(y).flatMap(m=>Array.isArray(m.modifiers)?m.modifiers:[]),L=x.filter(m=>m.target===i&&m.type===Te.SET);return L.length>0&&(u=L[L.length-1].value),x.filter(m=>m.target===i&&m.type===Te.ADD).forEach(m=>{u+=m.value}),x.filter(m=>m.target===i&&m.type===Te.MULT).forEach(m=>{u*=m.value}),Math.floor(u)}function ps(){return e(y).flatMap(o=>Array.isArray(o.modifiers)?o.modifiers:[]).filter(o=>o.target==="damage"&&o.type===Te.ADD).reduce((o,u)=>o+u.value,0)}function Ct(i,o){let u=e(s).currency.gp*100+e(s).currency.sp*10+e(s).currency.cp,x=0;i==="gp"&&(x=o*100),i==="sp"&&(x=o*10),i==="cp"&&(x=o),u+=x,u<0&&(u=0),$(s,e(s).currency.gp=Math.floor(u/100));const L=u%100;$(s,e(s).currency.sp=Math.floor(L/10)),$(s,e(s).currency.cp=L%10)}function br(i){i==="next"?($(s,e(s).currentRound+=1),$(s,e(s).effects=e(s).effects.map(o=>{if(o.isActive&&o.duration==="ROUNDS"&&o.roundsLeft>0){const u=o.roundsLeft-1;return u<=0?{...o,roundsLeft:0,isActive:!1}:{...o,roundsLeft:u}}return o}))):$(s,e(s).currentRound=Math.max(1,e(s).currentRound-1))}function Ot(i){const o={id:Date.now(),timestamp:new Date,charName:e(s).name,...i};U(at,[o,...e(at)]),U(nt,!0)}function fs(i,o,u=[]){Qe();const x=i.type==="weapon_attack",L=i.type==="luck",he=i.type==="weapon_damage",ke=i.source.name||"Ação";if(he){const m=i.source,S=(N,I)=>N.traits&&N.traits.toLowerCase().includes(I.toLowerCase());let p=m.damageDice||0;S(m,"Versatile")&&m.equippedState==="two"&&(p+=1);let Q=e(s).bonusDamage||0;S(m,"Light")&&Q>0&&(Q-=1),Q+=ps();const ae=Math.max(0,p+Q+o);let ue=[],ye=0;for(let N=0;N<ae;N++){let I=Math.floor(Math.random()*6)+1;I===1&&S(m,"Brutal")&&(I=Math.floor(Math.random()*6)+1),ue.push(I),ye+=I}Ot({source:"Dano",name:m.name,description:`Dano: ${ae}d6`,formula:`${ae}d6[${ue.join(",")}]`,total:ye,effectsApplied:u}),m.type===le.EXPLOSIVE&&ba(m,!0)}else{const m=Math.floor(Math.random()*20)+1;let S=0;i.type==="attribute"&&(S=bt(i.source.key,i.source.value)-10);let p=0,Q="";if(o!==0){const N=Math.abs(o);let I=[];for(let q=0;q<N;q++)I.push(Math.floor(Math.random()*6)+1);const H=Math.max(...I);o>0?(p=H,Q=` + ${H}[Boon]`):(p=-H,Q=` - ${H}[Bane]`)}const ae=m+S+p;let ue=x?`Ataque (${o} boons/banes)`:L?"Teste de Sorte":`Teste de ${ke}`;const ye=(N,I)=>N.traits&&N.traits.toLowerCase().includes(I.toLowerCase());if(x&&m===20){const N=i.source;let I=[];ye(N,"Bludgeoning")&&I.push("Vuln"),ye(N,"Piercing")&&I.push("Weakened"),ye(N,"Slashing")&&I.push("+1d6 Dmg"),I.length>0&&(ue+=`
CRÍTICO! ${I.join(" ")}`)}Ot({source:x?"Ataque":L?"Sorte":"Atributo",name:ke,description:ue,formula:`d20(${m})${S!==0?(S>0?"+":"")+S:""}${Q}`,total:ae,crit:m===20,effectsApplied:u}),$(s,e(s).effects=e(s).effects.map(N=>N.isActive&&N.duration==="NEXT_ROLL"?{...N,isActive:!1}:N))}}function me(i,o=null){U(b,{type:i,isOpen:!0,data:o}),i==="item"&&U(d,o?{...o}:{name:"",type:le.OTHER,quantity:1,price:0,description:"",availability:"Common",quality:"Standard"}),i==="spell"&&U(d,o?{...o}:{name:"",tier:"Novice",tradition:"Destruction",type:"Attack",castings:1,maxCastings:1,description:"",effect:null}),i==="talent"&&U(d,o?{...o}:{name:"",description:"",uses:0,maxUses:0,isPassive:!1,effect:null}),i==="attribute"&&U(d,{...o}),i==="stat"&&U(d,{val:o==="speed"?e(s).speed:e(s).naturalDefense,type:o}),i==="health"&&U(d,{d:e(rt),nh:e(mt),ch:e(wt)}),i==="character_info"&&U(d,{name:e(s).name,level:e(s).level,ancestry:e(s).ancestry,novicePath:e(s).paths.novice,expertPath:e(s).paths.expert,masterPath:e(s).paths.master,normalHealth:e(mt),currentHealth:e(wt)}),i==="pre_roll"&&(U(Ze,e(y).map(u=>u.id)),U(dt,0)),i==="effect"&&(o&&o.parentType?U(G,o.parentData.effect||{name:"",description:"",isActive:!0,duration:"ROUNDS",roundsLeft:1,initialRounds:1,modifiers:[]}):o?(U(G,{...o}),Array.isArray(e(G).modifiers)||$(G,e(G).modifiers=[])):U(G,{name:"",description:"",isActive:!0,duration:"ROUNDS",roundsLeft:1,initialRounds:1,modifiers:[]}))}function Qe(){U(b,{type:null,isOpen:!1,data:null}),U(d,{})}function bs(){const i={...e(d),id:e(d).id||Date.now()};e(b).data?$(s,e(s).equipment=e(s).equipment.map(o=>o.id===e(d).id?i:o)):$(s,e(s).equipment=[...e(s).equipment,i]),Qe()}function xs(){$(s,e(s).equipment=e(s).equipment.filter(i=>i.id!==e(d).id)),Qe()}function _s(){const i={...e(d),id:e(d).id||Date.now()};e(b).data?$(s,e(s).spells=e(s).spells.map(o=>o.id===e(d).id?i:o)):$(s,e(s).spells=[...e(s).spells,i]),Qe()}function gs(){$(s,e(s).spells=e(s).spells.filter(i=>i.id!==e(d).id)),Qe()}function hs(){const i={...e(d),id:e(d).id||Date.now()};e(d).isPassive?(i.maxUses=0,i.uses=0):!e(b).data&&e(d).maxUses>0&&(i.uses=e(d).maxUses),e(b).data?$(s,e(s).talents=e(s).talents.map(o=>o.id===e(d).id?i:o)):$(s,e(s).talents=[...e(s).talents,i]),Qe()}function ms(){$(s,e(s).talents=e(s).talents.filter(i=>i.id!==e(d).id)),Qe()}function ys(){const i=e(G),o={...i,initialRounds:i.duration==="ROUNDS"?i.roundsLeft:0};if(e(b).data?.parentType){const x={...e(b).data.parentData,effect:o};me(e(b).data.parentType,x);return}const u=i.id&&e(s).effects.some(x=>x.id===i.id)?e(s).effects.map(x=>x.id===i.id?o:x):[...e(s).effects,{...o,id:Date.now(),isActive:!0}];$(s,e(s).effects=u),Qe()}function $s(i){$(s,e(s).effects=e(s).effects.filter(o=>o.id!==i))}function ws(i,o){const u=i.name||(o?o.name:"Efeito sem nome"),x=i.description||(o?o.description:""),L={...i,id:Date.now(),isActive:!0,name:u,description:x};L.duration==="ROUNDS"&&!L.initialRounds&&(L.initialRounds=L.roundsLeft),$(s,e(s).effects=[...e(s).effects,L])}function ba(i,o=!1){i.quantity>0&&($(s,e(s).equipment=e(s).equipment.map(u=>u.id===i.id?{...u,quantity:u.quantity-1}:u)),o||Ot({source:"Consumível",name:i.name,description:`Usou ${i.name}`}))}function Yt(i,o=null){let u=[...e(s).equipment];i.type===le.ARMOR?u=u.map(x=>x.id===i.id?{...x,equipped:!x.equipped}:x.type===le.ARMOR&&i.type===le.ARMOR&&!i.equipped?{...x,equipped:!1}:x):(i.type===le.WEAPON||i.type===le.SHIELD)&&(u=u.map(x=>x.id===i.id?{...x,equippedState:o}:x)),$(s,e(s).equipment=u)}function xr(i){e(s).afflictions.includes(i)?$(s,e(s).afflictions=e(s).afflictions.filter(o=>o!==i)):$(s,e(s).afflictions=[...e(s).afflictions,i])}function ks(i){i.key==="Enter"&&i.target.value.trim()!==""&&($(s,e(s).languages=[...e(s).languages,i.target.value.trim()]),i.target.value="")}function Ms(i){$(s,e(s).languages=e(s).languages.filter((o,u)=>u!==i))}function As(){$(s,e(s).spells=e(s).spells.map(i=>({...i,castings:i.maxCastings}))),$(s,e(s).talents=e(s).talents.map(i=>({...i,uses:i.maxUses}))),U(rt,0),U(wt,e(mt)),Qe()}function _r(i){i.castings>0&&($(s,e(s).spells=e(s).spells.map(o=>o.id===i.id?{...o,castings:o.castings-1}:o)),Ot({source:"Magia",name:i.name,description:i.description}),Qe())}function gr(i){i.maxUses&&$(s,e(s).talents=e(s).talents.map(o=>o.id===i.id?{...o,uses:o.uses-1}:o)),Ot({source:"Talento",name:i.name,description:i.description}),Qe()}function Ns(i){$(s,e(s).talents=e(s).talents.map(o=>o.id===i&&o.uses<o.maxUses?{...o,uses:o.uses+1}:o))}function Ss(i){const o=Math.floor(Math.random()*20)+1,u=o>=10;Ot({source:"Sorte",name:"Check Fim Efeito",description:`Rolou ${o}. ${u?"Sucesso (Encerra)":"Falha"}`}),u&&$(s,e(s).effects=e(s).effects.map(x=>x.id===i?{...x,isActive:!1}:x))}function zs(){$(s,e(s).attributes=e(s).attributes.map(i=>i.key===e(d).key?{...i,value:parseInt(e(d).value)}:i)),Qe()}function Ds(){U(rt,Math.max(0,parseInt(e(d).d))),U(mt,Math.max(1,parseInt(e(d).nh))),U(wt,Math.max(0,parseInt(e(d).ch))),Qe()}function Es(){$(s,e(s).name=e(d).name),$(s,e(s).level=parseInt(e(d).level)||0),$(s,e(s).ancestry=e(d).ancestry),$(s,e(s).paths={novice:e(d).novicePath,expert:e(d).expertPath,master:e(d).masterPath}),U(mt,parseInt(e(d).normalHealth)),U(wt,parseInt(e(d).currentHealth)),Qe()}Nt(()=>e(s),()=>{U(y,e(s).effects.filter(i=>i.isActive))}),Nt(()=>e(wt),()=>{U(h,bt("health",e(wt)))}),Nt(()=>(e(h),e(mt)),()=>{U(w,Math.max(0,e(h)-e(mt)))}),Nt(()=>(e(h),e(rt)),()=>{U(ee,e(h)>0?Math.min(100,e(rt)/e(h)*100):100)}),Nt(()=>(e(rt),e(h)),()=>{U(v,e(rt)>=e(h))}),Nt(()=>(e(rt),e(h),e(v)),()=>{U(g,e(rt)>=e(h)/2&&!e(v))}),Nt(()=>(e(rt),e(h),e(s)),()=>{const i=e(rt)>=e(h),o=e(s).afflictions.includes("Incapacitated");i&&!o?$(s,e(s).afflictions=[...e(s).afflictions,"Incapacitated"]):!i&&o&&$(s,e(s).afflictions=e(s).afflictions.filter(u=>u!=="Incapacitated"))}),Nt(()=>e(s),()=>{U(ut,(()=>{let i=bt("speed",e(s).speed);const o=e(s).afflictions;return o.includes("Held")||o.includes("Stunned")||o.includes("Unconscious")||o.includes("Incapacitated")?0:((o.includes("Blinded")||o.includes("Weakened"))&&(i=Math.floor(i/2)),o.includes("Slowed")&&(i=Math.min(i,2)),Math.max(0,i))})())}),Nt(()=>(e(s),le),()=>{U(Dt,(()=>{let i=e(s).naturalDefense,o=0;const u=e(s).equipment.find(x=>x.type===le.ARMOR&&x.equipped);if(u){const x=u.defenseFixed||0,L=e(s).naturalDefense+(u.defenseMod||0);u.defenseFixed&&u.defenseMod?i=Math.max(x,L):u.defenseFixed?i=x:u.defenseMod&&(i=e(s).naturalDefense+u.defenseMod)}return e(s).equipment.filter(x=>x.type===le.SHIELD&&x.equippedState).forEach(x=>{o+=x.defenseMod||0}),bt("defense",i+o)})())}),ti(),us();var xa=vd(),hr=a(xa);{var Ps=i=>{var o=Di();_("click",o,()=>U(nt,!1)),l(i,o)};A(hr,i=>{e(nt)&&i(Ps)})}var Qt=r(hr,2),_a=a(Qt),ga=a(_a),Ts=a(ga);hi(Ts,{size:18}),be(),t(ga);var ha=r(ga,2),qs=a(ha);ca(qs,{size:20}),t(ha),t(_a);var ma=r(_a,2),mr=a(ma);{var Cs=i=>{var o=Ei();l(i,o)};A(mr,i=>{e(at),n(()=>e(at).length===0)&&i(Cs)})}var Os=r(mr,2);qe(Os,1,()=>e(at),i=>i.id,(i,o)=>{var u=Oi(),x=a(u),L=a(x),he=a(L,!0);t(L);var ke=r(L,2),m=a(ke,!0);t(ke),t(x);var S=r(x,2),p=a(S,!0);t(S);var Q=r(S,2);{var ae=H=>{var q=Pi(),pe=a(q,!0);t(q),P(()=>k(pe,(e(o),n(()=>e(o).description)))),l(H,q)};A(Q,H=>{e(o),n(()=>e(o).description)&&H(ae)})}var ue=r(Q,2);{var ye=H=>{var q=qi();qe(q,5,()=>(e(o),n(()=>e(o).effectsApplied)),Ce,(pe,de)=>{var F=Ti(),E=a(F,!0);t(F),P(()=>k(E,e(de))),l(pe,F)}),t(q),l(H,q)};A(ue,H=>{e(o),n(()=>e(o).effectsApplied?.length>0)&&H(ye)})}var N=r(ue,2);{var I=H=>{var q=Ci(),pe=a(q),de=a(pe,!0);t(pe);var F=r(pe,2),E=a(F,!0);t(F),t(q),P(()=>{k(de,(e(o),n(()=>e(o).formula))),we(F,1,`text-xl font-bold font-mono ${e(o),n(()=>e(o).crit?"text-yellow-400":"text-white")??""}`),k(E,(e(o),n(()=>e(o).total)))}),l(H,q)};A(N,H=>{e(o),n(()=>e(o).formula||e(o).total!==void 0)&&H(I)})}t(u),P(H=>{k(he,(e(o),n(()=>e(o).source))),k(m,H),k(p,(e(o),n(()=>e(o).name)))},[()=>(e(o),n(()=>new Date(e(o).timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))]),l(i,u)}),t(ma);var yr=r(ma,2),ya=a(yr),Rs=a(ya);jt(Rs,{size:14}),be(),t(ya),t(yr),t(Qt);var $r=r(Qt,2);{var Ls=i=>{var o=kn(),u=a(o),x=a(u),L=a(x),he=a(L);{var ke=N=>{var I=zt("Editor de Item");l(N,I)},m=N=>{var I=T(),H=D(I);{var q=de=>{var F=zt("Grimório");l(de,F)},pe=de=>{var F=T(),E=D(F);{var Le=re=>{var X=zt("Talento");l(re,X)},Se=re=>{var X=T(),K=D(X);{var V=z=>{var O=zt("Gerenciar Efeito");l(z,O)},te=z=>{var O=T(),J=D(O);{var W=ie=>{var C=zt("Confirmar Rolagem");l(ie,C)},Y=ie=>{var C=zt("Info");l(ie,C)};A(J,ie=>{e(b),n(()=>e(b).type==="pre_roll")?ie(W):ie(Y,!1)},!0)}l(z,O)};A(K,z=>{e(b),n(()=>e(b).type==="effect")?z(V):z(te,!1)},!0)}l(re,X)};A(E,re=>{e(b),n(()=>e(b).type==="talent")?re(Le):re(Se,!1)},!0)}l(de,F)};A(H,de=>{e(b),n(()=>e(b).type==="spell")?de(q):de(pe,!1)},!0)}l(N,I)};A(he,N=>{e(b),n(()=>e(b).type==="item")?N(ke):N(m,!1)})}t(L);var S=r(L,2),p=a(S);ca(p,{size:20}),t(S),t(x);var Q=r(x,2),ae=a(Q);{var ue=N=>{var I=Hi(),H=a(I);Pe(H);var q=r(H,2),pe=a(q);P(()=>{e(d),ht(()=>{})}),qe(pe,5,()=>(xe(le),n(()=>Object.values(le))),Ce,(z,O)=>{var J=Ri(),W=a(J,!0);t(J);var Y={};P(()=>{k(W,e(O)),Y!==(Y=e(O))&&(J.value=(J.__value=e(O))??"")}),l(z,J)}),t(pe);var de=r(pe,2);Pe(de),t(q);var F=r(q,2);{var E=z=>{var O=Ii(),J=a(O);Pe(J);var W=r(J,2);Pe(W);var Y=r(W,2);P(()=>{e(d),ht(()=>{})}),qe(Y,5,()=>(xe(qt),n(()=>Object.values(qt))),Ce,(C,se)=>{var j=Li(),fe=a(j,!0);t(j);var B={};P(()=>{k(fe,e(se)),B!==(B=e(se))&&(j.value=(j.__value=e(se))??"")}),l(C,j)}),t(Y);var ie=r(Y,2);Pe(ie),t(O),$e(J,()=>e(d).damageDice,C=>$(d,e(d).damageDice=C)),$e(W,()=>e(d).traits,C=>$(d,e(d).traits=C)),Tt(Y,()=>e(d).grip,C=>$(d,e(d).grip=C)),$e(ie,()=>e(d).range,C=>$(d,e(d).range=C)),l(z,O)};A(F,z=>{e(d),xe(le),n(()=>e(d).type===le.WEAPON)&&z(E)})}var Le=r(F,2);{var Se=z=>{var O=ji(),J=a(O);Pe(J);var W=r(J,2);Pe(W),t(O),$e(J,()=>e(d).defenseFixed,Y=>$(d,e(d).defenseFixed=Y)),$e(W,()=>e(d).defenseMod,Y=>$(d,e(d).defenseMod=Y)),l(z,O)};A(Le,z=>{e(d),xe(le),n(()=>e(d).type===le.ARMOR)&&z(Se)})}var re=r(Le,2);Wt(re),Gt(re,"rows",3);var X=r(re,2),K=a(X);{var V=z=>{var O=Ui(),J=a(O);jt(J,{size:18}),t(O),_("click",O,xs),l(z,O)};A(K,z=>{e(b),n(()=>e(b).data)&&z(V)})}var te=r(K,2);t(X),t(I),$e(H,()=>e(d).name,z=>$(d,e(d).name=z)),Tt(pe,()=>e(d).type,z=>$(d,e(d).type=z)),$e(de,()=>e(d).quantity,z=>$(d,e(d).quantity=z)),$e(re,()=>e(d).description,z=>$(d,e(d).description=z)),_("click",te,bs),l(N,I)},ye=N=>{var I=T(),H=D(I);{var q=de=>{var F=Wi(),E=a(F);Pe(E);var Le=r(E,2),Se=a(Le);P(()=>{e(d),ht(()=>{})}),qe(Se,4,()=>["Novice","Expert","Master"],Ce,(C,se)=>{var j=Fi(),fe=a(j,!0);t(j);var B={};P(()=>{k(fe,se),B!==(B=se)&&(j.value=(j.__value=se)??"")}),l(C,j)}),t(Se);var re=r(Se,2);P(()=>{e(d),ht(()=>{})}),qe(re,5,()=>zi,Ce,(C,se)=>{var j=Bi(),fe=a(j,!0);t(j);var B={};P(()=>{k(fe,e(se)),B!==(B=e(se))&&(j.value=(j.__value=e(se))??"")}),l(C,j)}),t(re),t(Le);var X=r(Le,2),K=r(a(X),2);Pe(K),t(X);var V=r(X,2),te=r(a(V),2),z=a(te,!0);t(te),t(V);var O=r(V,2);Wt(O),Gt(O,"rows",4);var J=r(O,2),W=a(J);{var Y=C=>{var se=Vi(),j=a(se);jt(j,{size:18}),t(se),_("click",se,gs),l(C,se)};A(W,C=>{e(b),n(()=>e(b).data)&&C(Y)})}var ie=r(W,2);t(J),t(F),P(()=>{we(te,1,`text-[10px] px-2 py-1 rounded border ${e(d),n(()=>e(d).effect?"bg-indigo-900 border-indigo-500 text-indigo-200":"bg-slate-800 border-slate-600 text-slate-500")??""}`),k(z,(e(d),n(()=>e(d).effect?"Configurado":"Nenhum")))}),$e(E,()=>e(d).name,C=>$(d,e(d).name=C)),Tt(Se,()=>e(d).tier,C=>$(d,e(d).tier=C)),Tt(re,()=>e(d).tradition,C=>$(d,e(d).tradition=C)),$e(K,()=>e(d).maxCastings,C=>$(d,e(d).maxCastings=C)),_("input",K,()=>$(d,e(d).castings=e(d).maxCastings)),_("click",te,()=>me("effect",{parentType:"spell",parentData:e(d)})),$e(O,()=>e(d).description,C=>$(d,e(d).description=C)),_("click",ie,_s),l(de,F)},pe=de=>{var F=T(),E=D(F);{var Le=re=>{var X=Yi(),K=a(X);Pe(K);var V=r(K,2),te=a(V);Pe(te);var z=r(te,4);{var O=B=>{var Me=Gi(),Oe=r(a(Me),2);Pe(Oe),t(Me),$e(Oe,()=>e(d).maxUses,et=>$(d,e(d).maxUses=et)),l(B,Me)};A(z,B=>{e(d),n(()=>!e(d).isPassive)&&B(O)})}t(V);var J=r(V,2),W=r(a(J),2),Y=a(W,!0);t(W),t(J);var ie=r(J,2);Wt(ie),Gt(ie,"rows",4);var C=r(ie,2),se=a(C);{var j=B=>{var Me=Xi(),Oe=a(Me);jt(Oe,{size:18}),t(Me),_("click",Me,ms),l(B,Me)};A(se,B=>{e(b),n(()=>e(b).data)&&B(j)})}var fe=r(se,2);t(C),t(X),P(()=>{we(W,1,`text-[10px] px-2 py-1 rounded border ${e(d),n(()=>e(d).effect?"bg-indigo-900 border-indigo-500 text-indigo-200":"bg-slate-800 border-slate-600 text-slate-500")??""}`),k(Y,(e(d),n(()=>e(d).effect?"Configurado":"Nenhum")))}),$e(K,()=>e(d).name,B=>$(d,e(d).name=B)),ai(te,()=>e(d).isPassive,B=>$(d,e(d).isPassive=B)),_("click",W,()=>me("effect",{parentType:"talent",parentData:e(d)})),$e(ie,()=>e(d).description,B=>$(d,e(d).description=B)),_("click",fe,hs),l(re,X)},Se=re=>{var X=T(),K=D(X);{var V=z=>{var O=rn(),J=a(O);{var W=Z=>{var R=Qi(),oe=r(a(R));Pe(oe),t(R),$e(oe,()=>e(G).name,Ae=>$(G,e(G).name=Ae)),l(Z,R)},Y=Z=>{var R=Ki();l(Z,R)};A(J,Z=>{e(b),n(()=>!e(b).data?.parentType)?Z(W):Z(Y,!1)})}var ie=r(J,2),C=r(a(ie),2),se=a(C);P(()=>{e(G),ht(()=>{})}),qe(se,5,()=>(xe(ua),n(()=>Object.entries(ua))),Ce,(Z,R)=>{var oe=pr(()=>fr(e(R),2));let Ae=()=>e(oe)[0],Ye=()=>e(oe)[1];var Re=Ji(),pt=a(Re,!0);t(Re);var je={};P(()=>{k(pt,Ye()),je!==(je=Ae())&&(Re.value=(Re.__value=Ae())??"")}),l(Z,Re)}),t(se);var j=r(se,2);{var fe=Z=>{var R=Zi();Pe(R),$e(R,()=>e(G).roundsLeft,oe=>$(G,e(G).roundsLeft=oe)),l(Z,R)};A(j,Z=>{e(G),n(()=>e(G).duration==="ROUNDS")&&Z(fe)})}t(C),t(ie);var B=r(ie,2),Me=a(B),Oe=r(a(Me),2),et=a(Oe);vt(et,{size:10}),be(),t(Oe),t(Me);var xt=r(Me,2);qe(xt,5,()=>(e(G),n(()=>e(G).modifiers)),Ce,(Z,R,oe)=>{var Ae=tn(),Ye=a(Ae);P(()=>{e(R),ht(()=>{})}),qe(Ye,5,()=>(xe(pa),n(()=>Object.entries(pa))),Ce,(Ve,lt)=>{var He=pr(()=>fr(e(lt),2));let De=()=>e(He)[0],Fe=()=>e(He)[1];var Ee=en(),Ge=a(Ee,!0);t(Ee);var Be={};P(()=>{k(Ge,Fe()),Be!==(Be=De())&&(Ee.value=(Ee.__value=De())??"")}),l(Ve,Ee)}),t(Ye);var Re=r(Ye,2);P(()=>{e(R),ht(()=>{})});var pt=a(Re),je={},st=r(pt),tt={},_t=r(st),ft={};t(Re);var Ke=r(Re,2);Pe(Ke);var Ue=r(Ke,2),ot=a(Ue);jt(ot,{size:12}),t(Ue),t(Ae),P(()=>{je!==(je=(xe(Te),n(()=>Te.ADD)))&&(pt.value=(pt.__value=(xe(Te),n(()=>Te.ADD)))??""),tt!==(tt=(xe(Te),n(()=>Te.SET)))&&(st.value=(st.__value=(xe(Te),n(()=>Te.SET)))??""),ft!==(ft=(xe(Te),n(()=>Te.MULT)))&&(_t.value=(_t.__value=(xe(Te),n(()=>Te.MULT)))??""),Gt(Ke,"step",(e(R),xe(Te),n(()=>e(R).type===Te.MULT?"0.1":"1")))}),Tt(Ye,()=>e(R).target,Ve=>(e(R).target=Ve,ht(()=>e(G)))),Tt(Re,()=>e(R).type,Ve=>(e(R).type=Ve,ht(()=>e(G)))),$e(Ke,()=>e(R).value,Ve=>(e(R).value=Ve,ht(()=>e(G)))),_("click",Ue,()=>$(G,e(G).modifiers=e(G).modifiers.filter((Ve,lt)=>lt!==oe))),l(Z,Ae)}),t(xt),t(B);var Je=r(B,2);{var Ie=Z=>{var R=an(),oe=r(a(R));Wt(oe),t(R),$e(oe,()=>e(G).description,Ae=>$(G,e(G).description=Ae)),l(Z,R)};A(Je,Z=>{e(b),n(()=>!e(b).data?.parentType)&&Z(Ie)})}var ze=r(Je,2);t(O),Tt(se,()=>e(G).duration,Z=>$(G,e(G).duration=Z)),_("click",Oe,()=>$(G,e(G).modifiers=[...e(G).modifiers,{target:"str",type:Te.ADD,value:1}])),_("click",ze,ys),l(z,O)},te=z=>{var O=T(),J=D(O);{var W=ie=>{var C=sn(),se=a(C),j=a(se,!0);t(se);var fe=r(se,2),B=r(a(fe));Pe(B),t(fe);var Me=r(fe,2);t(C),P(()=>k(j,(e(d),n(()=>e(d).name)))),$e(B,()=>e(d).value,Oe=>$(d,e(d).value=Oe)),_("click",Me,zs),l(ie,C)},Y=ie=>{var C=T(),se=D(C);{var j=B=>{var Me=on(),Oe=a(Me),et=a(Oe),xt=r(a(et));Pe(xt),t(et);var Je=r(et,2),Ie=r(a(Je));Pe(Ie),t(Je),t(Oe);var ze=r(Oe,2),Z=r(a(ze));Pe(Z),t(ze);var R=r(ze,2);t(Me),$e(xt,()=>e(d).nh,oe=>$(d,e(d).nh=oe)),$e(Ie,()=>e(d).ch,oe=>$(d,e(d).ch=oe)),$e(Z,()=>e(d).d,oe=>$(d,e(d).d=oe)),_("click",R,Ds),l(B,Me)},fe=B=>{var Me=T(),Oe=D(Me);{var et=Je=>{var Ie=cn(),ze=r(a(Ie),2);{var Z=Ue=>{var ot=ln(),Ve=a(ot);qe(Ve,1,()=>(e(s),n(()=>e(s).afflictions)),Ce,(He,De)=>{var Fe=nn(),Ee=a(Fe);Ni(Ee,{size:10});var Ge=r(Ee);t(Fe),P(()=>k(Ge,` ${e(De)??""}`)),l(He,Fe)});var lt=r(Ve,2);qe(lt,1,()=>e(y),Ce,(He,De)=>{var Fe=dn(),Ee=a(Fe);{var Ge=ne=>{Mi(ne,{size:12})},Be=ne=>{Ai(ne,{size:12})};A(Ee,ne=>{e(Ze),e(De),n(()=>e(Ze).includes(e(De).id))?ne(Ge):ne(Be,!1)})}var it=r(Ee);t(Fe),P(ne=>{we(Fe,1,`flex items-center gap-2 text-xs p-1 w-full text-left ${ne??""}`),k(it,` ${e(De),n(()=>e(De).name)??""}`)},[()=>(e(Ze),e(De),n(()=>e(Ze).includes(e(De).id)?"bg-indigo-900/50 text-white":"text-slate-500"))]),_("click",Fe,()=>e(Ze).includes(e(De).id)?U(Ze,e(Ze).filter(ne=>ne!==e(De).id)):U(Ze,[...e(Ze),e(De).id])),l(He,Fe)}),t(ot),l(Ue,ot)};A(ze,Ue=>{e(y),e(s),n(()=>e(y).length>0||e(s).afflictions.length>0)&&Ue(Z)})}var R=r(ze,2),oe=a(R),Ae=a(oe),Ye=a(Ae);It(Ye,{size:24}),t(Ae);var Re=r(Ae,2),pt=a(Re);t(Re);var je=r(Re,2),st=a(je);vt(st,{size:24}),t(je),t(oe);var tt=r(oe,2),_t=a(tt,!0);t(tt),t(R);var ft=r(R,2),Ke=a(ft);ns(Ke,{size:24}),be(),t(ft),t(Ie),P(()=>{we(Re,1,`text-4xl font-bold ${e(dt)>0?"text-green-400":e(dt)<0?"text-red-400":"text-slate-500"}`),k(pt,`${e(dt)>0?"+":""}${e(dt)??""}`),k(_t,(e(b),n(()=>e(b).data.type==="weapon_damage"?"Dados Extras":"Boons/Banes")))}),_("click",Ae,()=>rs(dt,-1)),_("click",je,()=>rs(dt)),_("click",ft,()=>fs(e(b).data,e(dt),e(y).filter(Ue=>e(Ze).includes(Ue.id)).map(Ue=>Ue.name))),l(Je,Ie)},xt=Je=>{var Ie=T(),ze=D(Ie);{var Z=oe=>{var Ae=vn(),Ye=a(Ae),Re=a(Ye,!0);t(Ye);var pt=r(Ye,2),je=a(pt),st=a(je);bi(st,{size:32,class:"mb-2 text-indigo-300"}),be(),t(je);var tt=r(je,2),_t=a(tt);la(_t,{size:32,class:"mb-2 text-red-300"}),be(),t(tt),t(pt),t(Ae),P(()=>k(Re,(e(b),n(()=>e(b).data.name)))),_("click",je,()=>me("pre_roll",{type:"weapon_attack",source:e(b).data})),_("click",tt,()=>me("pre_roll",{type:"weapon_damage",source:e(b).data})),l(oe,Ae)},R=oe=>{var Ae=T(),Ye=D(Ae);{var Re=je=>{var st=un(),tt=a(st),_t=r(a(tt));Pe(_t),t(tt);var ft=r(tt,2),Ke=a(ft),Ue=r(a(Ke));Pe(Ue),t(Ke);var ot=r(Ke,2),Ve=r(a(ot));Pe(Ve),t(ot),t(ft);var lt=r(ft,2),He=a(lt),De=r(a(He));Pe(De),t(He);var Fe=r(He,2),Ee=r(a(Fe));Pe(Ee),t(Fe);var Ge=r(Fe,2),Be=r(a(Ge));Pe(Be),t(Ge),t(lt);var it=r(lt,2);t(st),$e(_t,()=>e(d).name,ne=>$(d,e(d).name=ne)),$e(Ue,()=>e(d).level,ne=>$(d,e(d).level=ne)),$e(Ve,()=>e(d).ancestry,ne=>$(d,e(d).ancestry=ne)),$e(De,()=>e(d).novicePath,ne=>$(d,e(d).novicePath=ne)),$e(Ee,()=>e(d).expertPath,ne=>$(d,e(d).expertPath=ne)),$e(Be,()=>e(d).masterPath,ne=>$(d,e(d).masterPath=ne)),_("click",it,Es),l(je,st)},pt=je=>{var st=T(),tt=D(st);{var _t=Ke=>{var Ue=fn(),ot=r(a(Ue),2),Ve=a(ot),lt=a(Ve,!0);t(Ve);var He=r(Ve,2),De=a(He,!0);t(He);var Fe=r(He,2);{var Ee=ne=>{var kt=pn(),yt=a(kt),gt=a(yt);ki(gt,{size:12}),be(),t(yt);var $t=r(yt,2);t(kt),_("click",$t,()=>{ws(e(b).data.effect,e(b).data),e(b).type==="confirm_spell"?_r(e(b).data):gr(e(b).data)}),l(ne,kt)};A(Fe,ne=>{e(b),n(()=>e(b).data.effect)&&ne(Ee)})}t(ot);var Ge=r(ot,2),Be=a(Ge),it=r(Be,2);t(Ge),t(Ue),P(()=>{k(lt,(e(b),n(()=>e(b).data.name))),k(De,(e(b),n(()=>e(b).data.description)))}),_("click",Be,Qe),_("click",it,()=>e(b).type==="confirm_spell"?_r(e(b).data):gr(e(b).data)),l(Ke,Ue)},ft=Ke=>{var Ue=T(),ot=D(Ue);{var Ve=He=>{var De=xn();qe(De,5,()=>(xe(fa),n(()=>Object.keys(fa).sort())),Ce,(Fe,Ee)=>{var Ge=bn(),Be=a(Ge),it=a(Be,!0);t(Be);var ne=r(Be,2),kt=a(ne,!0);t(ne),t(Ge),P(yt=>{we(Ge,1,`p-2 rounded border text-xs text-left transition-colors ${yt??""}`),k(it,e(Ee)),k(kt,(xe(fa),e(Ee),n(()=>fa[e(Ee)].effect)))},[()=>(e(s),e(Ee),n(()=>e(s).afflictions.includes(e(Ee))?"bg-red-900 border-red-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500"))]),_("click",Ge,()=>xr(e(Ee))),l(Fe,Ge)}),t(De),l(He,De)},lt=He=>{var De=T(),Fe=D(De);{var Ee=Be=>{var it=_n(),ne=a(it),kt=a(ne);ls(kt,{size:48,class:"text-indigo-400"}),t(ne);var yt=r(ne,4),gt=a(yt),$t=r(gt);t(yt),t(it),_("click",gt,Qe),_("click",$t,As),l(Be,it)},Ge=Be=>{var it=T(),ne=D(it);{var kt=gt=>{var $t=hn();qe($t,5,()=>(e(s),n(()=>e(s).spells)),Ce,(ir,ct)=>{var Mt=gn(),Et=a(Mt),nr=a(Et,!0);t(Et);var Xe=r(Et,2),Pt=a(Xe);t(Xe),t(Mt),P(()=>{Mt.disabled=(e(ct),n(()=>e(ct).castings===0)),k(nr,(e(ct),n(()=>e(ct).name))),we(Xe,1,`text-xs font-mono ${e(ct),n(()=>e(ct).castings>0?"text-green-400":"text-red-400")??""}`),k(Pt,`${e(ct),n(()=>e(ct).castings)??""}/${e(ct),n(()=>e(ct).maxCastings)??""}`)}),_("click",Mt,()=>me("confirm_spell",e(ct))),l(ir,Mt)}),t($t),l(gt,$t)},yt=gt=>{var $t=T(),ir=D($t);{var ct=Mt=>{var Et=wn();qe(Et,5,()=>(e(s),n(()=>e(s).talents)),Ce,(nr,Xe)=>{var Pt=$n(),dr=a(Pt),Uo=a(dr,!0);t(dr);var Ho=r(dr,2);{var Fo=Rt=>{var St=mn(),lr=a(St);ds(lr,{size:12}),be(),t(St),l(Rt,St)},Bo=Rt=>{var St=yn(),lr=a(St);t(St),P(()=>{we(St,1,`text-xs font-mono ${e(Xe),n(()=>e(Xe).uses>0?"text-green-400":"text-red-400")??""}`),k(lr,`${e(Xe),n(()=>e(Xe).uses)??""}/${e(Xe),n(()=>e(Xe).maxUses)??""}`)}),l(Rt,St)};A(Ho,Rt=>{e(Xe),n(()=>e(Xe).isPassive)?Rt(Fo):Rt(Bo,!1)})}t(Pt),P(()=>{Pt.disabled=(e(Xe),n(()=>!e(Xe).isPassive&&e(Xe).maxUses>0&&e(Xe).uses===0)),k(Uo,(e(Xe),n(()=>e(Xe).name)))}),_("click",Pt,()=>me("confirm_talent",e(Xe))),l(nr,Pt)}),t(Et),l(Mt,Et)};A(ir,Mt=>{e(b),n(()=>e(b).type==="select_talent")&&Mt(ct)},!0)}l(gt,$t)};A(ne,gt=>{e(b),n(()=>e(b).type==="cast_spell")?gt(kt):gt(yt,!1)},!0)}l(Be,it)};A(Fe,Be=>{e(b),n(()=>e(b).type==="rest_confirm")?Be(Ee):Be(Ge,!1)},!0)}l(He,De)};A(ot,He=>{e(b),n(()=>e(b).type==="affliction")?He(Ve):He(lt,!1)},!0)}l(Ke,Ue)};A(tt,Ke=>{e(b),n(()=>e(b).type==="confirm_spell"||e(b).type==="confirm_talent")?Ke(_t):Ke(ft,!1)},!0)}l(je,st)};A(Ye,je=>{e(b),n(()=>e(b).type==="character_info")?je(Re):je(pt,!1)},!0)}l(oe,Ae)};A(ze,oe=>{e(b),n(()=>e(b).type==="weapon_menu")?oe(Z):oe(R,!1)},!0)}l(Je,Ie)};A(Oe,Je=>{e(b),n(()=>e(b).type==="pre_roll")?Je(et):Je(xt,!1)},!0)}l(B,Me)};A(se,B=>{e(b),n(()=>e(b).type==="health")?B(j):B(fe,!1)},!0)}l(ie,C)};A(J,ie=>{e(b),n(()=>e(b).type==="attribute")?ie(W):ie(Y,!1)},!0)}l(z,O)};A(K,z=>{e(b),n(()=>e(b).type==="effect")?z(V):z(te,!1)},!0)}l(re,X)};A(E,re=>{e(b),n(()=>e(b).type==="talent")?re(Le):re(Se,!1)},!0)}l(de,F)};A(H,de=>{e(b),n(()=>e(b).type==="spell")?de(q):de(pe,!1)},!0)}l(N,I)};A(ae,N=>{e(b),n(()=>e(b).type==="item")?N(ue):N(ye,!1)})}t(Q),t(u),t(o),_("click",S,Qe),l(i,o)};A($r,i=>{e(b),n(()=>e(b).isOpen)&&i(Ls)})}var $a=r($r,2),wr=a($a),kr=a(wr),wa=a(kr),ka=a(wa),Is=a(ka,!0);t(ka);var Mr=r(ka,2),Ma=a(Mr),Aa=a(Ma),js=a(Aa,!0);t(Aa);var Na=r(Aa,2),Us=a(Na);$i(Us,{size:14}),t(Na),t(Ma);var Ar=r(Ma,2),Hs=a(Ar);t(Ar),t(Mr),t(wa);var Kt=r(wa,2),Sa=a(Kt),Jt=a(Sa),Fs=a(Jt,!0);t(Jt);var Nr=r(Jt,2),za=a(Nr),Bs=a(za);t(za);var Da=r(za,2),Vs=a(Da);t(Da);var Ws=r(Da,2);{var Gs=i=>{var o=Mn(),u=a(o);t(o),P(()=>k(u,`(+${e(w)??""} Temp)`)),l(i,o)};A(Ws,i=>{e(w)>0&&i(Gs)})}t(Nr),t(Sa);var Ea=r(Sa,2),Sr=r(a(Ea),2),Xs=r(Sr,2);{var Ys=i=>{var o=An();l(i,o)};A(Xs,i=>{e(w)>0&&i(Ys)})}t(Ea),t(Kt);var zr=r(Kt,2),Zt=a(zr),Qs=a(Zt);ls(Qs,{size:18}),t(Zt);var Pa=r(Zt,2),Dr=a(Pa);ns(Dr,{size:18});var Ks=r(Dr,2);{var Js=i=>{var o=Nn();l(i,o)};A(Ks,i=>{e(at),n(()=>e(at).length>0)&&i(Js)})}t(Pa),t(zr),t(kr),t(wr),t($a);var Er=r($a,2),Ta=a(Er),qa=a(Ta);qe(qa,5,()=>(e(s),n(()=>e(s).attributes)),Ce,(i,o)=>{var u=zn(),x=a(u),L=a(x,!0);t(x);var he=r(x,2),ke=a(he),m=r(ke);{var S=ye=>{var N=Sn(),I=a(N);t(N),P((H,q,pe)=>{we(N,1,`text-[10px] ml-1 ${H??""}`),k(I,`(${q??""}${pe??""})`)},[()=>(e(o),n(()=>bt(e(o).key,e(o).value)>e(o).value?"text-green-400":"text-red-400")),()=>(e(o),n(()=>bt(e(o).key,e(o).value)>e(o).value?"+":"")),()=>(e(o),n(()=>bt(e(o).key,e(o).value)-e(o).value))]),l(ye,N)};A(m,ye=>{e(o),n(()=>bt(e(o).key,e(o).value)!==e(o).value)&&ye(S)})}t(he);var p=r(he,2),Q=a(p);t(p);var ae=r(p,2),ue=a(ae);Xt(ue,{size:10}),t(ae),t(u),P((ye,N)=>{k(L,(e(o),n(()=>e(o).name))),k(ke,`${ye??""} `),k(Q,`+${N??""}`)},[()=>(e(o),n(()=>bt(e(o).key,e(o).value))),()=>(e(o),n(()=>bt(e(o).key,e(o).value)-10))]),_("click",ae,ur(()=>me("attribute",e(o)))),_("click",u,()=>me("pre_roll",{type:"attribute",source:e(o)})),l(i,u)}),t(qa);var ea=r(qa,2),Ca=a(ea),Zs=a(Ca);is(Zs,{size:14}),be(),t(Ca);var eo=r(Ca);ui(eo,{size:14,class:"text-slate-600"}),t(ea);var Oa=r(ea,2),ta=a(Oa),Ra=a(ta),to=a(Ra);wi(to,{size:14}),be(),t(Ra);var La=r(Ra,2);Gt(La,"title","Natural + Armadura + Escudos + Efeitos");var ao=a(La,!0);t(La),t(ta);var aa=r(ta,2),Ia=a(aa),ro=a(Ia);va(ro,{size:14}),be(),t(Ia);var Pr=r(Ia,2),ra=a(Pr),so=a(ra,!0);t(ra);var oo=r(ra,2);{var io=i=>{var o=Dn();l(i,o)};A(oo,i=>{e(ut),e(s),n(()=>e(ut)<e(s).speed)&&i(io)})}t(Pr),t(aa);var Tr=r(aa,2),ja=a(Tr),no=a(ja);la(no,{size:14}),be(),t(ja);var qr=r(ja,2),sa=a(qr),lo=a(sa);It(lo,{size:12}),t(sa);var Ua=r(sa,2),co=a(Ua);t(Ua);var Ha=r(Ua,2),vo=a(Ha);vt(vo,{size:12}),t(Ha),t(qr),t(Tr),t(Oa);var Fa=r(Oa,2),Ba=a(Fa),Cr=a(Ba),uo=a(Cr);fi(uo,{size:12}),be(),t(Cr),t(Ba);var Or=r(Ba,2),Va=a(Or),Rr=r(a(Va)),oa=a(Rr),po=a(oa);It(po,{size:10}),t(oa);var Wa=r(oa),fo=a(Wa,!0);t(Wa);var Ga=r(Wa),bo=a(Ga);vt(bo,{size:10}),t(Ga),t(Rr),t(Va);var Xa=r(Va,2),Lr=r(a(Xa)),ia=a(Lr),xo=a(ia);It(xo,{size:10}),t(ia);var Ya=r(ia),_o=a(Ya,!0);t(Ya);var Qa=r(Ya),go=a(Qa);vt(go,{size:10}),t(Qa),t(Lr),t(Xa);var Ir=r(Xa,2),jr=r(a(Ir)),na=a(jr),ho=a(na);It(ho,{size:10}),t(na);var Ka=r(na),mo=a(Ka,!0);t(Ka);var Ja=r(Ka),yo=a(Ja);vt(yo,{size:10}),t(Ja),t(jr),t(Ir),t(Or),t(Fa);var Za=r(Fa,2),er=a(Za),Ur=a(er),$o=a(Ur);mi($o,{size:12}),be(),t(Ur),t(er);var tr=r(er,2);qe(tr,5,()=>(e(s),n(()=>e(s).languages)),Ce,(i,o,u)=>{var x=En(),L=a(x),he=r(L),ke=a(he);ca(ke,{size:10}),t(he),t(x),P(()=>k(L,`${e(o)??""} `)),_("click",he,()=>Ms(u)),l(i,x)}),t(tr);var Hr=r(tr,2),Fr=a(Hr),wo=r(Fr,2);vt(wo,{size:12,class:"absolute right-2 top-1.5 text-slate-600 pointer-events-none"}),t(Hr),t(Za);var Br=r(Za,2),ar=a(Br),rr=a(ar),ko=a(rr);os(ko,{size:12}),be(),t(rr);var sr=r(rr,2),Mo=a(sr);vt(Mo,{size:14}),t(sr),t(ar);var Vr=r(ar,2),Wr=a(Vr);{var Ao=i=>{var o=Pn();l(i,o)};A(Wr,i=>{e(s),n(()=>e(s).afflictions.length===0)&&i(Ao)})}var No=r(Wr,2);qe(No,1,()=>(e(s),n(()=>e(s).afflictions)),Ce,(i,o)=>{var u=Tn(),x=a(u),L=a(x,!0),he=r(L),ke=a(he);ca(ke,{size:10}),t(he),t(x),t(u),P(()=>k(L,e(o))),_("click",he,ur(()=>xr(e(o)))),l(i,u)}),t(Vr),t(Br),t(Ta);var Gr=r(Ta,2),Xr=a(Gr),or=a(Xr),Ut=a(or),So=a(Ut);la(So,{size:16}),be(),t(Ut);var Ht=r(Ut,2),zo=a(Ht);vi(zo,{size:16}),be(),t(Ht);var Ft=r(Ht,2),Do=a(Ft);os(Do,{size:16}),be(),t(Ft);var Bt=r(Ft,2),Eo=a(Bt);va(Eo,{size:16}),be(),t(Bt);var Vt=r(Bt,2),Po=a(Vt);li(Po,{size:16}),be(),t(Vt);var da=r(Vt,2),To=a(da);gi(To,{size:16}),be(),t(da),t(or);var Yr=r(or,2),Qr=a(Yr);{var qo=i=>{var o=In(),u=a(o);qe(u,1,()=>(e(s),xe(le),n(()=>e(s).equipment.filter(m=>m.type===le.WEAPON&&m.equippedState||m.type===le.EXPLOSIVE))),Ce,(m,S)=>{var p=On(),Q=a(p),ae=a(Q),ue=a(ae);la(ue,{size:20}),t(ae);var ye=r(ae,2),N=a(ye),I=a(N),H=r(I);{var q=V=>{var te=qn(),z=a(te,!0);t(te),P(()=>k(z,(e(S),n(()=>e(S).equippedState)))),l(V,te)};A(H,V=>{e(S),n(()=>e(S).equippedState)&&V(q)})}t(N);var pe=r(N),de=a(pe);t(pe),t(ye),t(Q);var F=r(Q,2),E=a(F),Le=a(E),Se=r(a(Le)),re=a(Se);t(Se),t(Le),t(E);var X=r(E,2);{var K=V=>{var te=Cn(),z=a(te);ci(z,{size:12});var O=r(z);t(te),P(()=>k(O,` Throw (${e(S),n(()=>e(S).quantity)??""})`)),_("click",te,ur(()=>ba(e(S)))),l(V,te)};A(X,V=>{e(S),xe(le),n(()=>e(S).type===le.EXPLOSIVE)&&V(K)})}t(F),t(p),P(()=>{k(I,`${e(S),n(()=>e(S).name)??""} `),k(de,`${e(S),n(()=>e(S).traits||"-")??""} • ${e(S),n(()=>e(S).range||"-")??""}`),k(re,`${e(S),n(()=>e(S).damageDice||0)??""}d6`)}),_("click",p,()=>me("weapon_menu",e(S))),l(m,p)});var x=r(u,2);{var L=m=>{var S=Rn(),p=a(S),Q=a(p),ae=a(Q);Si(ae,{size:20}),t(Q),be(),t(p),be(2),t(S),_("click",S,()=>me("cast_spell")),l(m,S)};A(x,m=>{e(s),n(()=>e(s).spells.length>0)&&m(L)})}var he=r(x,2);{var ke=m=>{var S=Ln(),p=a(S),Q=a(p),ae=a(Q);va(ae,{size:20}),t(Q),be(),t(p),be(2),t(S),_("click",S,()=>me("select_talent")),l(m,S)};A(he,m=>{e(s),n(()=>e(s).talents.length>0)&&m(ke)})}t(o),l(i,o)};A(Qr,i=>{e(Ne)==="acoes"&&i(qo)})}var Kr=r(Qr,2);{var Co=i=>{var o=Vn(),u=a(o),x=a(u),L=a(x),he=a(L);yi(he,{size:20}),t(L);var ke=r(L,2),m=r(a(ke),2),S=a(m,!0);t(m),t(ke);var p=r(ke,2),Q=a(p);_i(Q,{size:20}),t(p),t(x);var ae=r(x,2),ue=a(ae),ye=a(ue);xi(ye,{size:14}),be(),t(ue);var N=r(ue,2),I=a(N);vt(I,{size:14}),be(),t(N),t(ae),t(u);var H=r(u,2),q=a(H);{var pe=F=>{var E=jn();l(F,E)};A(q,F=>{e(s),n(()=>e(s).effects.length===0)&&F(pe)})}var de=r(q,2);qe(de,1,()=>(e(s),n(()=>e(s).effects)),Ce,(F,E,Le)=>{var Se=Bn(),re=a(Se),X=a(re),K=a(X),V=a(K);t(K);var te=r(K,2),z=a(te,!0);t(te),t(X);var O=r(X,2),J=a(O),W=a(J);Xt(W,{size:14}),t(J);var Y=r(J,2),ie=a(Y);jt(ie,{size:14}),t(Y),t(O),t(re);var C=r(re,2),se=a(C,!0);t(C);var j=r(C,2);{var fe=Ie=>{var ze=Hn();qe(ze,5,()=>(e(E),n(()=>e(E).modifiers)),Ce,(Z,R)=>{var oe=Un(),Ae=a(oe);t(oe),P(()=>{we(oe,1,`text-[9px] px-1 rounded border ${e(R),xe(Te),n(()=>e(R).type===Te.SET?"bg-yellow-900/30 text-yellow-200 border-yellow-800":"bg-slate-800 text-slate-300 border-slate-700")??""}`),k(Ae,`${xe(pa),e(R),n(()=>pa[e(R).target]||e(R).target)??""}: ${e(R),xe(Te),n(()=>e(R).type===Te.SET?"=":e(R).type===Te.MULT?"x":e(R).value>0?"+":"")??""}${e(R),n(()=>e(R).value)??""}`)}),l(Z,oe)}),t(ze),l(Ie,ze)};A(j,Ie=>{e(E),n(()=>e(E).isActive&&Array.isArray(e(E).modifiers))&&Ie(fe)})}var B=r(j,2),Me=a(B),Oe=a(Me);pi(Oe,{size:10});var et=r(Oe);t(Me);var xt=r(Me,2);{var Je=Ie=>{var ze=Fn(),Z=a(ze);is(Z,{size:10}),be(),t(ze),_("click",ze,()=>Ss(e(E).id)),l(Ie,ze)};A(xt,Ie=>{e(E),n(()=>e(E).duration==="LUCK_ENDS"&&e(E).isActive)&&Ie(Je)})}t(B),t(Se),P(()=>{we(Se,1,`p-3 rounded border flex flex-col gap-2 transition-all ${e(E),n(()=>e(E).isActive?"bg-slate-900 border-indigo-900":"bg-slate-950 border-slate-800 opacity-60")??""}`),we(K,1,`w-8 h-4 rounded-full relative transition-colors ${e(E),n(()=>e(E).isActive?"bg-green-500":"bg-slate-600")??""}`),we(V,1,`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${e(E),n(()=>e(E).isActive?"left-4.5":"left-0.5")??""}`),k(z,(e(E),n(()=>e(E).name))),k(se,(e(E),n(()=>e(E).description))),k(et,` ${xe(ua),e(E),n(()=>ua[e(E).duration])??""} ${e(E),n(()=>e(E).duration==="ROUNDS"?`(${e(E).roundsLeft})`:"")??""}`)}),_("click",K,()=>(e(E).isActive=!e(E).isActive,ht(()=>e(s)))),_("click",J,()=>me("effect",e(E))),_("click",Y,()=>$s(e(E).id)),l(F,Se)}),t(H),t(o),P(()=>k(S,(e(s),n(()=>e(s).currentRound)))),_("click",L,()=>br("prev")),_("click",p,()=>br("next")),_("click",ue,()=>$(s,e(s).effects=e(s).effects.filter(F=>F.isActive))),_("click",N,()=>me("effect")),l(i,o)};A(Kr,i=>{e(Ne)==="efeitos"&&i(Co)})}var Jr=r(Kr,2);{var Oo=i=>{var o=Xn(),u=a(o),x=r(a(u)),L=a(x);vt(L,{size:14}),be(),t(x),t(u);var he=r(u,2);qe(he,0,()=>["Novice","Expert","Master"],Ce,(ke,m)=>{var S=T(),p=D(S);{var Q=ae=>{var ue=Gn(),ye=a(ue),N=a(ye);t(ye);var I=r(ye,2);qe(I,5,()=>(e(s),n(()=>e(s).spells.filter(H=>H.tier===m))),Ce,(H,q)=>{var pe=Wn(),de=a(pe),F=a(de),E=a(F),Le=r(E),Se=a(Le);t(Le),t(F);var re=r(F),X=a(re);Xt(X,{size:12}),t(re),t(de);var K=r(de,2),V=a(K,!0);t(K);var te=r(K,2),z=r(a(te)),O=a(z),J=a(O);t(O);var W=r(O);t(z),t(te),t(pe),P(()=>{k(E,`${e(q),n(()=>e(q).name)??""} `),k(Se,`(${e(q),n(()=>e(q).tradition)??""} • ${e(q),n(()=>e(q).tier)??""})`),k(V,(e(q),n(()=>e(q).description))),we(O,1,`text-sm font-mono font-bold ${e(q),n(()=>e(q).castings===0?"text-red-500":"text-white")??""}`),k(J,`${e(q),n(()=>e(q).castings)??""}/${e(q),n(()=>e(q).maxCastings)??""}`),W.disabled=(e(q),n(()=>e(q).castings===0))}),_("click",re,()=>me("spell",e(q))),_("click",W,()=>me("confirm_spell",e(q))),l(H,pe)}),t(I),t(ue),P(()=>k(N,`${m??""} Spells`)),l(ae,ue)};A(p,ae=>{e(s),n(()=>e(s).spells.some(ue=>ue.tier===m))&&ae(Q)})}l(ke,S)}),t(o),_("click",x,()=>me("spell")),l(i,o)};A(Jr,i=>{e(Ne)==="magias"&&i(Oo)})}var Zr=r(Jr,2);{var Ro=i=>{var o=Zn(),u=a(o),x=r(a(u)),L=a(x);vt(L,{size:14}),be(),t(x),t(u);var he=r(u,2);qe(he,5,()=>(e(s),n(()=>e(s).talents)),Ce,(ke,m)=>{var S=Jn(),p=a(S),Q=a(p),ae=a(Q),ue=a(ae);va(ue,{size:14,class:"text-yellow-500"});var ye=r(ue);t(ae);var N=r(ae),I=a(N);Xt(I,{size:12}),t(N),t(Q);var H=r(Q,2),q=a(H,!0);t(H),t(p);var pe=r(p,2),de=a(pe),F=a(de);{var E=X=>{var K=Yn(),V=r(D(K),2),te=a(V);ds(te,{size:12}),be(),t(V),l(X,K)},Le=X=>{var K=Qn(),V=r(D(K),2),te=a(V);t(V),P(()=>{we(V,1,`font-mono font-bold ${e(m),n(()=>e(m).uses===0?"text-red-500":"text-white")??""}`),k(te,`${e(m),n(()=>e(m).uses)??""}/${e(m),n(()=>e(m).maxUses)??""}`)}),l(X,K)};A(F,X=>{e(m),n(()=>e(m).isPassive)?X(E):X(Le,!1)})}t(de);var Se=r(de,2);{var re=X=>{var K=Kn(),V=a(K),te=a(V);vt(te,{size:12}),t(V);var z=r(V),O=a(z);It(O,{size:12}),t(z),t(K),P(()=>{V.disabled=(e(m),n(()=>e(m).uses>=e(m).maxUses)),z.disabled=(e(m),n(()=>e(m).uses===0))}),_("click",V,()=>Ns(e(m).id)),_("click",z,()=>me("confirm_talent",e(m))),l(X,K)};A(Se,X=>{e(m),n(()=>!e(m).isPassive)&&X(re)})}t(pe),t(S),P(()=>{k(ye,` ${e(m),n(()=>e(m).name)??""}`),k(q,(e(m),n(()=>e(m).description)))}),_("click",N,()=>me("talent",e(m))),l(ke,S)}),t(he),t(o),_("click",x,()=>me("talent")),l(i,o)};A(Zr,i=>{e(Ne)==="talentos"&&i(Ro)})}var es=r(Zr,2);{var Lo=i=>{var o=ld(),u=a(o),x=r(a(u)),L=a(x);vt(L,{size:14}),be(),t(x),t(u);var he=r(u,2),ke=a(he),m=r(a(ke));qe(m,5,()=>(e(s),n(()=>e(s).equipment)),Ce,(S,p)=>{var Q=dd(),ae=a(Q),ue=a(ae),ye=a(ue,!0);t(ue);var N=r(ue),I=a(N),H=r(I);{var q=W=>{var Y=ed(),ie=a(Y,!0);t(Y),P(()=>k(ie,(e(p),n(()=>e(p).notes)))),l(W,Y)};A(H,W=>{e(p),n(()=>e(p).notes)&&W(q)})}var pe=r(H);{var de=W=>{var Y=td(),ie=r(D(Y));{var C=j=>{var fe=zt();P(()=>k(fe,`Fixed ${e(p),n(()=>e(p).defenseFixed)??""}`)),l(j,fe)},se=j=>{var fe=zt();P(()=>k(fe,`+${e(p),n(()=>e(p).defenseMod)??""}`)),l(j,fe)};A(ie,j=>{e(p),n(()=>e(p).defenseFixed)?j(C):j(se,!1)})}l(W,Y)};A(pe,W=>{e(p),xe(le),n(()=>e(p).type===le.ARMOR)&&W(de)})}t(N),t(ae);var F=r(ae),E=a(F),Le=a(E,!0);t(E),t(F);var Se=r(F),re=a(Se);{var X=W=>{var Y=ad();P(()=>Y.disabled=(e(p),n(()=>e(p).quantity<=0))),_("click",Y,()=>ba(e(p))),l(W,Y)},K=W=>{var Y=T(),ie=D(Y);{var C=j=>{var fe=rd(),B=a(fe,!0);t(fe),P(()=>{we(fe,1,`text-xs px-2 py-1 rounded border transition-colors ${e(p),n(()=>e(p).equipped?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-400")??""}`),k(B,(e(p),n(()=>e(p).equipped?"Equipado":"Equipar")))}),_("click",fe,()=>Yt(e(p))),l(j,fe)},se=j=>{var fe=T(),B=D(fe);{var Me=Oe=>{var et=nd(),xt=a(et);{var Je=ze=>{var Z=sd();P(()=>we(Z,1,`text-[10px] px-2 py-1 rounded border ${e(p),n(()=>e(p).equippedState==="two"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-500")??""}`)),_("click",Z,()=>Yt(e(p),e(p).equippedState?null:"two")),l(ze,Z)},Ie=ze=>{var Z=id(),R=D(Z);{var oe=Ye=>{var Re=od();P(()=>we(Re,1,`text-[10px] px-2 py-1 rounded border ${e(p),n(()=>e(p).equippedState==="main"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-500")??""}`)),_("click",Re,()=>Yt(e(p),e(p).equippedState==="main"?null:"main")),l(Ye,Re)};A(R,Ye=>{e(p),xe(qt),n(()=>e(p).grip!==qt.OFF)&&Ye(oe)})}var Ae=r(R,2);P(()=>we(Ae,1,`text-[10px] px-2 py-1 rounded border ${e(p),n(()=>e(p).equippedState==="off"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-500")??""}`)),_("click",Ae,()=>Yt(e(p),e(p).equippedState==="off"?null:"off")),l(ze,Z)};A(xt,ze=>{e(p),xe(qt),n(()=>e(p).grip===qt.TWO)?ze(Je):ze(Ie,!1)})}t(et),l(Oe,et)};A(B,Oe=>{e(p),xe(le),n(()=>e(p).type===le.WEAPON||e(p).type===le.SHIELD)&&Oe(Me)},!0)}l(j,fe)};A(ie,j=>{e(p),xe(le),n(()=>e(p).type===le.ARMOR)?j(C):j(se,!1)},!0)}l(W,Y)};A(re,W=>{e(p),xe(le),n(()=>e(p).type===le.CONSUMABLE)?W(X):W(K,!1)})}t(Se);var V=r(Se),te=a(V,!0);t(V);var z=r(V),O=a(z),J=a(O);Xt(J,{size:14}),t(O),t(z),t(Q),P(()=>{k(ye,(e(p),n(()=>e(p).name))),k(I,`${e(p),n(()=>e(p).quality)??""} • ${e(p),n(()=>e(p).availability)??""} • ${e(p),n(()=>e(p).price)??""}gp `),k(Le,(e(p),n(()=>e(p).type))),k(te,(e(p),n(()=>e(p).quantity)))}),_("click",O,()=>me("item",e(p))),l(S,Q)}),t(m),t(ke),t(he),t(o),_("click",x,()=>me("item")),l(i,o)};A(es,i=>{e(Ne)==="equipamento"&&i(Lo)})}var Io=r(es,2);{var jo=i=>{var o=cd(),u=r(a(o),2);Wt(u),t(o),$e(u,()=>e(s).notes,x=>$(s,e(s).notes=x)),l(i,o)};A(Io,i=>{e(Ne)==="notas"&&i(jo)})}t(Yr),t(Xr),t(Gr),t(Er),t(xa),P(i=>{we(Qt,1,`fixed top-0 right-0 h-full w-80 bg-slate-900 border-l border-slate-700 z-[100] transition-transform duration-300 shadow-2xl flex flex-col ${e(nt)?"translate-x-0":"translate-x-full"}`),k(Is,i),k(js,(e(s),n(()=>e(s).name))),k(Hs,`Lvl ${e(s),n(()=>e(s).level)??""} • ${e(s),n(()=>e(s).paths.novice)??""} ${e(s),n(()=>e(s).paths.expert&&`• ${e(s).paths.expert}`)??""}`),we(Jt,1,`font-bold uppercase ${e(v)?"text-red-500 animate-pulse":e(g)?"text-yellow-500":"text-green-500"}`),k(Fs,e(v)?"Incapacitado":e(g)?"Ferido":e(w)>0?"Vigoroso":"Saudável"),k(Bs,`${e(rt)??""} Dano`),k(Vs,`${e(h)??""} Vida`),we(Ea,1,`h-4 w-full bg-slate-950 rounded border border-slate-700 relative overflow-hidden ${e(w)>0?"shadow-[0_0_8px_rgba(34,211,238,0.3)] border-cyan-500/30":""}`),si(Sr,`width: ${e(ee)??""}%`),k(ao,e(Dt)),we(ra,1,`text-xl font-bold ${e(ut),e(s),n(()=>e(ut)<e(s).speed?"text-red-400":"text-white")??""}`),k(so,e(ut)),k(co,`${e(s),n(()=>e(s).bonusDamage)??""}d6`),k(fo,(e(s),n(()=>e(s).currency.gp))),k(_o,(e(s),n(()=>e(s).currency.sp))),k(mo,(e(s),n(()=>e(s).currency.cp))),we(Ut,1,`px-4 lg:px-6 py-4 flex items-center gap-2 font-bold text-sm transition-all whitespace-nowrap border-b-2 ${e(Ne)==="acoes"?"text-indigo-400 border-indigo-500 bg-slate-800/50":"text-slate-500 border-transparent hover:text-slate-300"}`),we(Ht,1,`px-4 lg:px-6 py-4 flex items-center gap-2 font-bold text-sm transition-all whitespace-nowrap border-b-2 ${e(Ne)==="magias"?"text-indigo-400 border-indigo-500 bg-slate-800/50":"text-slate-500 border-transparent hover:text-slate-300"}`),we(Ft,1,`px-4 lg:px-6 py-4 flex items-center gap-2 font-bold text-sm transition-all whitespace-nowrap border-b-2 ${e(Ne)==="efeitos"?"text-indigo-400 border-indigo-500 bg-slate-800/50":"text-slate-500 border-transparent hover:text-slate-300"}`),we(Bt,1,`px-4 lg:px-6 py-4 flex items-center gap-2 font-bold text-sm transition-all whitespace-nowrap border-b-2 ${e(Ne)==="talentos"?"text-indigo-400 border-indigo-500 bg-slate-800/50":"text-slate-500 border-transparent hover:text-slate-300"}`),we(Vt,1,`px-4 lg:px-6 py-4 flex items-center gap-2 font-bold text-sm transition-all whitespace-nowrap border-b-2 ${e(Ne)==="equipamento"?"text-indigo-400 border-indigo-500 bg-slate-800/50":"text-slate-500 border-transparent hover:text-slate-300"}`),we(da,1,`px-4 lg:px-6 py-4 flex items-center gap-2 font-bold text-sm transition-all whitespace-nowrap border-b-2 ${e(Ne)==="notas"?"text-indigo-400 border-indigo-500 bg-slate-800/50":"text-slate-500 border-transparent hover:text-slate-300"}`)},[()=>(e(s),n(()=>e(s).name.charAt(0)))]),_("click",ha,()=>U(nt,!1)),_("click",ya,()=>U(at,[])),_("click",Na,()=>me("character_info")),_("click",Kt,()=>me("health")),_("click",Zt,()=>me("rest_confirm")),_("click",Pa,()=>U(nt,!e(nt))),_("click",ea,()=>me("pre_roll",{type:"luck",source:{name:"Sorte"}})),_("click",ta,()=>me("stat","defense")),_("click",aa,()=>me("stat","speed")),_("click",sa,()=>$(s,e(s).bonusDamage=Math.max(0,e(s).bonusDamage-1))),_("click",Ha,()=>$(s,e(s).bonusDamage+=1)),_("click",oa,()=>Ct("gp",-1)),_("click",Ga,()=>Ct("gp",1)),_("click",ia,()=>Ct("sp",-1)),_("click",Qa,()=>Ct("sp",1)),_("click",na,()=>Ct("cp",-1)),_("click",Ja,()=>Ct("cp",1)),_("keydown",Fr,ks),_("click",sr,()=>me("affliction")),_("click",Ut,()=>U(Ne,"acoes")),_("click",Ht,()=>U(Ne,"magias")),_("click",Ft,()=>U(Ne,"efeitos")),_("click",Bt,()=>U(Ne,"talentos")),_("click",Vt,()=>U(Ne,"equipamento")),_("click",da,()=>U(Ne,"notas")),l(M,xa),vs()}export{$d as component};
